function DS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function H_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tf={exports:{}},ul={},Sf={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function LS(){if(Ny)return We;Ny=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function k(M,J,Se){this.props=M,this.context=J,this.refs=U,this.updater=Se||F}k.prototype.isReactComponent={},k.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Z(){}Z.prototype=k.prototype;function Q(M,J,Se){this.props=M,this.context=J,this.refs=U,this.updater=Se||F}var Y=Q.prototype=new Z;Y.constructor=Q,V(Y,k.prototype),Y.isPureReactComponent=!0;var ae=Array.isArray,fe=Object.prototype.hasOwnProperty,ve={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(M,J,Se){var Ue,Be={},ze=null,Ye=null;if(J!=null)for(Ue in J.ref!==void 0&&(Ye=J.ref),J.key!==void 0&&(ze=""+J.key),J)fe.call(J,Ue)&&!N.hasOwnProperty(Ue)&&(Be[Ue]=J[Ue]);var Qe=arguments.length-2;if(Qe===1)Be.children=Se;else if(1<Qe){for(var it=Array(Qe),At=0;At<Qe;At++)it[At]=arguments[At+2];Be.children=it}if(M&&M.defaultProps)for(Ue in Qe=M.defaultProps,Qe)Be[Ue]===void 0&&(Be[Ue]=Qe[Ue]);return{$$typeof:n,type:M,key:ze,ref:Ye,props:Be,_owner:ve.current}}function C(M,J){return{$$typeof:n,type:M.type,key:J,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function D(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Se){return J[Se]})}var x=/\/+/g;function I(M,J){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):J.toString(36)}function Ne(M,J,Se,Ue,Be){var ze=typeof M;(ze==="undefined"||ze==="boolean")&&(M=null);var Ye=!1;if(M===null)Ye=!0;else switch(ze){case"string":case"number":Ye=!0;break;case"object":switch(M.$$typeof){case n:case e:Ye=!0}}if(Ye)return Ye=M,Be=Be(Ye),M=Ue===""?"."+I(Ye,0):Ue,ae(Be)?(Se="",M!=null&&(Se=M.replace(x,"$&/")+"/"),Ne(Be,J,Se,"",function(At){return At})):Be!=null&&(P(Be)&&(Be=C(Be,Se+(!Be.key||Ye&&Ye.key===Be.key?"":(""+Be.key).replace(x,"$&/")+"/")+M)),J.push(Be)),1;if(Ye=0,Ue=Ue===""?".":Ue+":",ae(M))for(var Qe=0;Qe<M.length;Qe++){ze=M[Qe];var it=Ue+I(ze,Qe);Ye+=Ne(ze,J,Se,it,Be)}else if(it=R(M),typeof it=="function")for(M=it.call(M),Qe=0;!(ze=M.next()).done;)ze=ze.value,it=Ue+I(ze,Qe++),Ye+=Ne(ze,J,Se,it,Be);else if(ze==="object")throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ye}function Ae(M,J,Se){if(M==null)return M;var Ue=[],Be=0;return Ne(M,Ue,"","",function(ze){return J.call(Se,ze,Be++)}),Ue}function Ge(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(Se){(M._status===0||M._status===-1)&&(M._status=1,M._result=Se)},function(Se){(M._status===0||M._status===-1)&&(M._status=2,M._result=Se)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Re={current:null},se={transition:null},me={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:se,ReactCurrentOwner:ve};function ce(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Ae,forEach:function(M,J,Se){Ae(M,function(){J.apply(this,arguments)},Se)},count:function(M){var J=0;return Ae(M,function(){J++}),J},toArray:function(M){return Ae(M,function(J){return J})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},We.Component=k,We.Fragment=t,We.Profiler=o,We.PureComponent=Q,We.StrictMode=i,We.Suspense=p,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,We.act=ce,We.cloneElement=function(M,J,Se){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ue=V({},M.props),Be=M.key,ze=M.ref,Ye=M._owner;if(J!=null){if(J.ref!==void 0&&(ze=J.ref,Ye=ve.current),J.key!==void 0&&(Be=""+J.key),M.type&&M.type.defaultProps)var Qe=M.type.defaultProps;for(it in J)fe.call(J,it)&&!N.hasOwnProperty(it)&&(Ue[it]=J[it]===void 0&&Qe!==void 0?Qe[it]:J[it])}var it=arguments.length-2;if(it===1)Ue.children=Se;else if(1<it){Qe=Array(it);for(var At=0;At<it;At++)Qe[At]=arguments[At+2];Ue.children=Qe}return{$$typeof:n,type:M.type,key:Be,ref:ze,props:Ue,_owner:Ye}},We.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},We.createElement=S,We.createFactory=function(M){var J=S.bind(null,M);return J.type=M,J},We.createRef=function(){return{current:null}},We.forwardRef=function(M){return{$$typeof:d,render:M}},We.isValidElement=P,We.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:Ge}},We.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},We.startTransition=function(M){var J=se.transition;se.transition={};try{M()}finally{se.transition=J}},We.unstable_act=ce,We.useCallback=function(M,J){return Re.current.useCallback(M,J)},We.useContext=function(M){return Re.current.useContext(M)},We.useDebugValue=function(){},We.useDeferredValue=function(M){return Re.current.useDeferredValue(M)},We.useEffect=function(M,J){return Re.current.useEffect(M,J)},We.useId=function(){return Re.current.useId()},We.useImperativeHandle=function(M,J,Se){return Re.current.useImperativeHandle(M,J,Se)},We.useInsertionEffect=function(M,J){return Re.current.useInsertionEffect(M,J)},We.useLayoutEffect=function(M,J){return Re.current.useLayoutEffect(M,J)},We.useMemo=function(M,J){return Re.current.useMemo(M,J)},We.useReducer=function(M,J,Se){return Re.current.useReducer(M,J,Se)},We.useRef=function(M){return Re.current.useRef(M)},We.useState=function(M){return Re.current.useState(M)},We.useSyncExternalStore=function(M,J,Se){return Re.current.useSyncExternalStore(M,J,Se)},We.useTransition=function(){return Re.current.useTransition()},We.version="18.3.1",We}var by;function yh(){return by||(by=1,Sf.exports=LS()),Sf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function VS(){if(Oy)return ul;Oy=1;var n=yh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,y){var _,E={},R=null,F=null;y!==void 0&&(R=""+y),p.key!==void 0&&(R=""+p.key),p.ref!==void 0&&(F=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:R,ref:F,props:E,_owner:o.current}}return ul.Fragment=t,ul.jsx=u,ul.jsxs=u,ul}var Dy;function K_(){return Dy||(Dy=1,Tf.exports=VS()),Tf.exports}var z=K_(),de=yh();const De=H_(de),MS=DS({__proto__:null,default:De},[de]);var yc={},If={exports:{}},Tn={},Rf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function FS(){return Ly||(Ly=1,function(n){function e(se,me){var ce=se.length;se.push(me);e:for(;0<ce;){var M=ce-1>>>1,J=se[M];if(0<o(J,me))se[M]=me,se[ce]=J,ce=M;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var me=se[0],ce=se.pop();if(ce!==me){se[0]=ce;e:for(var M=0,J=se.length,Se=J>>>1;M<Se;){var Ue=2*(M+1)-1,Be=se[Ue],ze=Ue+1,Ye=se[ze];if(0>o(Be,ce))ze<J&&0>o(Ye,Be)?(se[M]=Ye,se[ze]=ce,M=ze):(se[M]=Be,se[Ue]=ce,M=Ue);else if(ze<J&&0>o(Ye,ce))se[M]=Ye,se[ze]=ce,M=ze;else break e}}return me}function o(se,me){var ce=se.sortIndex-me.sortIndex;return ce!==0?ce:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],y=[],_=1,E=null,R=3,F=!1,V=!1,U=!1,k=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(se){for(var me=t(y);me!==null;){if(me.callback===null)i(y);else if(me.startTime<=se)i(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(y)}}function ae(se){if(U=!1,Y(se),!V)if(t(p)!==null)V=!0,Ge(fe);else{var me=t(y);me!==null&&Re(ae,me.startTime-se)}}function fe(se,me){V=!1,U&&(U=!1,Z(S),S=-1),F=!0;var ce=R;try{for(Y(me),E=t(p);E!==null&&(!(E.expirationTime>me)||se&&!D());){var M=E.callback;if(typeof M=="function"){E.callback=null,R=E.priorityLevel;var J=M(E.expirationTime<=me);me=n.unstable_now(),typeof J=="function"?E.callback=J:E===t(p)&&i(p),Y(me)}else i(p);E=t(p)}if(E!==null)var Se=!0;else{var Ue=t(y);Ue!==null&&Re(ae,Ue.startTime-me),Se=!1}return Se}finally{E=null,R=ce,F=!1}}var ve=!1,N=null,S=-1,C=5,P=-1;function D(){return!(n.unstable_now()-P<C)}function x(){if(N!==null){var se=n.unstable_now();P=se;var me=!0;try{me=N(!0,se)}finally{me?I():(ve=!1,N=null)}}else ve=!1}var I;if(typeof Q=="function")I=function(){Q(x)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ae=Ne.port2;Ne.port1.onmessage=x,I=function(){Ae.postMessage(null)}}else I=function(){k(x,0)};function Ge(se){N=se,ve||(ve=!0,I())}function Re(se,me){S=k(function(){se(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){V||F||(V=!0,Ge(fe))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(R){case 1:case 2:case 3:var me=3;break;default:me=R}var ce=R;R=me;try{return se()}finally{R=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ce=R;R=se;try{return me()}finally{R=ce}},n.unstable_scheduleCallback=function(se,me,ce){var M=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?M+ce:M):ce=M,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ce+J,se={id:_++,callback:me,priorityLevel:se,startTime:ce,expirationTime:J,sortIndex:-1},ce>M?(se.sortIndex=ce,e(y,se),t(p)===null&&se===t(y)&&(U?(Z(S),S=-1):U=!0,Re(ae,ce-M))):(se.sortIndex=J,e(p,se),V||F||(V=!0,Ge(fe))),se},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(se){var me=R;return function(){var ce=R;R=me;try{return se.apply(this,arguments)}finally{R=ce}}}}(Af)),Af}var Vy;function US(){return Vy||(Vy=1,Rf.exports=FS()),Rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function jS(){if(My)return Tn;My=1;var n=yh(),e=US();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function R(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function F(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function V(r,s,l,h){if(s===null||typeof s>"u"||F(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function U(r,s,l,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new U(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new U(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new U(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new U(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new U(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new U(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new U(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new U(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new U(r,5,!1,r.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Z,Q);k[s]=new U(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Z,Q);k[s]=new U(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Z,Q);k[s]=new U(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new U(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new U(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,l,h){var f=k.hasOwnProperty(s)?k[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,l,f,h)&&(l=null),h||f===null?R(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var ae=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),ve=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),se=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Object.assign,M;function J(r){if(M===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var Se=!1;function Ue(r,s){if(!r||Se)return"";Se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,A=g.length-1;1<=w&&0<=A&&f[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==g[A]){var O=`
`+f[w].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=w&&0<=A);break}}}finally{Se=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function Be(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Ue(r.type,!1),r;case 11:return r=Ue(r.type.render,!1),r;case 1:return r=Ue(r.type,!0),r;default:return""}}function ze(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case ve:return"Portal";case C:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case Ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case x:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ae:return s=r.displayName||null,s!==null?s:ze(r.type)||"Memo";case Ge:s=r._payload,r=r._init;try{return ze(r(s))}catch{}}return null}function Ye(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function it(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function At(r){var s=it(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Vn(r){r._valueTracker||(r._valueTracker=At(r))}function mi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=it(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Xn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function _r(r,s){var l=s.checked;return ce({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function us(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Qe(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function eo(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function to(r,s){eo(r,s);var l=Qe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?$(r,s.type,l):s.hasOwnProperty("defaultValue")&&$(r,s.type,Qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function b(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function $(r,s,l){(s!=="number"||Xn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var K=Array.isArray;function he(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Qe(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function le(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ie(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(K(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Qe(l)}}function Ie(r,s){var l=Qe(s.value),h=Qe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Me(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function qe(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?qe(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Wt,cs=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Wt=Wt||document.createElement("div"),Wt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Wt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Mn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(Yn).forEach(function(r){qr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Yn[s]=Yn[r]})});function gi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Yn.hasOwnProperty(r)&&Yn[r]?(""+s).trim():s+"px"}function hs(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=gi(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var yi=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(r,s){if(s){if(yi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ia(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function no(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ro=null,Fn=null,Er=null;function io(r){if(r=Ga(r)){if(typeof ro!="function")throw Error(t(280));var s=r.stateNode;s&&(s=bu(s),ro(r.stateNode,r.type,s))}}function wr(r){Fn?Er?Er.push(r):Er=[r]:Fn=r}function Ra(){if(Fn){var r=Fn,s=Er;if(Er=Fn=null,io(r),s)for(r=0;r<s.length;r++)io(s[r])}}function fs(r,s){return r(s)}function Aa(){}var $r=!1;function Ca(r,s,l){if($r)return r(s,l);$r=!0;try{return fs(r,s,l)}finally{$r=!1,(Fn!==null||Er!==null)&&(Aa(),Ra())}}function wt(r,s){var l=r.stateNode;if(l===null)return null;var h=bu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var so=!1;if(d)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){so=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{so=!1}function ps(r,s,l,h,f,g,w,A,O){var W=Array.prototype.slice.call(arguments,3);try{s.apply(l,W)}catch(te){this.onError(te)}}var ms=!1,oo=null,er=!1,Pa=null,Qh={onError:function(r){ms=!0,oo=r}};function ao(r,s,l,h,f,g,w,A,O){ms=!1,oo=null,ps.apply(Qh,arguments)}function ru(r,s,l,h,f,g,w,A,O){if(ao.apply(this,arguments),ms){if(ms){var W=oo;ms=!1,oo=null}else throw Error(t(198));er||(er=!0,Pa=W)}}function tr(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function gs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function nr(r){if(tr(r)!==r)throw Error(t(188))}function iu(r){var s=r.alternate;if(!s){if(s=tr(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return nr(f),r;if(g===h)return nr(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var w=!1,A=f.child;A;){if(A===l){w=!0,l=f,h=g;break}if(A===h){w=!0,h=f,l=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===l){w=!0,l=g,h=f;break}if(A===h){w=!0,h=g,l=f;break}A=A.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ka(r){return r=iu(r),r!==null?lo(r):null}function lo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=lo(r);if(s!==null)return s;r=r.sibling}return null}var uo=e.unstable_scheduleCallback,xa=e.unstable_cancelCallback,su=e.unstable_shouldYield,Jh=e.unstable_requestPaint,at=e.unstable_now,ou=e.unstable_getCurrentPriorityLevel,ys=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,Na=e.unstable_LowPriority,au=e.unstable_IdlePriority,vs=null,An=null;function lu(r){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(vs,r,void 0,(r.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:cu,ba=Math.log,uu=Math.LN2;function cu(r){return r>>>=0,r===0?32:31-(ba(r)/uu|0)|0}var co=64,ho=4194304;function _i(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function _s(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var A=w&~f;A!==0?h=_i(A):(g&=w,g!==0&&(h=_i(g)))}else w=l&~f,w!==0?h=_i(w):g!==0&&(h=_i(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-cn(s),f=1<<l,h|=r[l],s&=~f;return h}function Xh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-cn(g),A=1<<w,O=f[w];O===-1?(!(A&l)||A&h)&&(f[w]=Xh(A,s)):O<=s&&(r.expiredLanes|=A),g&=~A}}function Cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Es(){var r=co;return co<<=1,!(co&4194240)&&(co=64),r}function Ei(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function wi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-cn(s),r[s]=l}function ot(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-cn(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function Ti(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-cn(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var Je=0;function Si(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var hu,fo,du,fu,pu,Oa=!1,Tr=[],Ht=null,rr=null,ir=null,Ii=new Map,jn=new Map,Sr=[],Yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(r,s){switch(r){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(s.pointerId)}}function mn(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ga(s),s!==null&&fo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Zh(r,s,l,h,f){switch(s){case"focusin":return Ht=mn(Ht,r,s,l,h,f),!0;case"dragenter":return rr=mn(rr,r,s,l,h,f),!0;case"mouseover":return ir=mn(ir,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return Ii.set(g,mn(Ii.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,jn.set(g,mn(jn.get(g)||null,r,s,l,h,f)),!0}return!1}function gu(r){var s=Rs(r.target);if(s!==null){var l=tr(s);if(l!==null){if(s=l.tag,s===13){if(s=gs(l),s!==null){r.blockedOn=s,pu(r.priority,function(){du(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Hr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=po(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);ds=h,l.target.dispatchEvent(h),ds=null}else return s=Ga(l),s!==null&&fo(s),r.blockedOn=l,!1;s.shift()}return!0}function ws(r,s,l){Hr(r)&&l.delete(s)}function yu(){Oa=!1,Ht!==null&&Hr(Ht)&&(Ht=null),rr!==null&&Hr(rr)&&(rr=null),ir!==null&&Hr(ir)&&(ir=null),Ii.forEach(ws),jn.forEach(ws)}function sr(r,s){r.blockedOn===s&&(r.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yu)))}function or(r){function s(f){return sr(f,r)}if(0<Tr.length){sr(Tr[0],r);for(var l=1;l<Tr.length;l++){var h=Tr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ht!==null&&sr(Ht,r),rr!==null&&sr(rr,r),ir!==null&&sr(ir,r),Ii.forEach(s),jn.forEach(s),l=0;l<Sr.length;l++)h=Sr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Sr.length&&(l=Sr[0],l.blockedOn===null);)gu(l),l.blockedOn===null&&Sr.shift()}var Kr=ae.ReactCurrentBatchConfig,Ri=!0;function dt(r,s,l,h){var f=Je,g=Kr.transition;Kr.transition=null;try{Je=1,Da(r,s,l,h)}finally{Je=f,Kr.transition=g}}function ed(r,s,l,h){var f=Je,g=Kr.transition;Kr.transition=null;try{Je=4,Da(r,s,l,h)}finally{Je=f,Kr.transition=g}}function Da(r,s,l,h){if(Ri){var f=po(r,s,l,h);if(f===null)hd(r,s,h,Ts,l),mu(r,h);else if(Zh(f,r,s,l,h))h.stopPropagation();else if(mu(r,h),s&4&&-1<Yh.indexOf(r)){for(;f!==null;){var g=Ga(f);if(g!==null&&hu(g),g=po(r,s,l,h),g===null&&hd(r,s,h,Ts,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else hd(r,s,h,null,l)}}var Ts=null;function po(r,s,l,h){if(Ts=null,r=no(h),r=Rs(r),r!==null)if(s=tr(r),s===null)r=null;else if(l=s.tag,l===13){if(r=gs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ts=r,null}function La(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ou()){case ys:return 1;case vi:return 4;case Un:case Na:return 16;case au:return 536870912;default:return 16}default:return 16}}var Pn=null,mo=null,gn=null;function Va(){if(gn)return gn;var r,s=mo,l=s.length,h,f="value"in Pn?Pn.value:Pn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var w=l-r;for(h=1;h<=w&&s[l-h]===f[g-h];h++);return gn=f.slice(r,1<h?1-h:void 0)}function go(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ir(){return!0}function Ma(){return!1}function Kt(r){function s(l,h,f,g,w){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ir:Ma,this.isPropagationStopped=Ma,this}return ce(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),s}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=Kt(ar),Rr=ce({},ar,{view:0,detail:0}),td=Kt(Rr),vo,Gr,Ai,Ss=ce({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ai&&(Ai&&r.type==="mousemove"?(vo=r.screenX-Ai.screenX,Gr=r.screenY-Ai.screenY):Gr=vo=0,Ai=r),vo)},movementY:function(r){return"movementY"in r?r.movementY:Gr}}),_o=Kt(Ss),Fa=ce({},Ss,{dataTransfer:0}),vu=Kt(Fa),Eo=ce({},Rr,{relatedTarget:0}),wo=Kt(Eo),_u=ce({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Qr=Kt(_u),Eu=ce({},ar,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wu=Kt(Eu),Tu=ce({},ar,{data:0}),Ua=Kt(Tu),To={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Su[r])?!!s[r]:!1}function Ar(){return Iu}var c=ce({},Rr,{key:function(r){if(r.key){var s=To[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?hn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(r){return r.type==="keypress"?go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Kt(c),v=ce({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Kt(v),j=ce({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),H=Kt(j),ue=ce({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=Kt(ue),Ot=ce({},Ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ze=Kt(Ot),jt=[9,13,27,32],Ct=d&&"CompositionEvent"in window,Bn=null;d&&"documentMode"in document&&(Bn=document.documentMode);var kn=d&&"TextEvent"in window&&!Bn,Is=d&&(!Ct||Bn&&8<Bn&&11>=Bn),So=" ",Rm=!1;function Am(r,s){switch(r){case"keyup":return jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Io=!1;function NT(r,s){switch(r){case"compositionend":return Cm(s);case"keypress":return s.which!==32?null:(Rm=!0,So);case"textInput":return r=s.data,r===So&&Rm?null:r;default:return null}}function bT(r,s){if(Io)return r==="compositionend"||!Ct&&Am(r,s)?(r=Va(),gn=mo=Pn=null,Io=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Is&&s.locale!=="ko"?null:s.data;default:return null}}var OT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!OT[r.type]:s==="textarea"}function km(r,s,l,h){wr(h),s=ku(s,"onChange"),0<s.length&&(l=new yo("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var ja=null,Ba=null;function DT(r){Km(r,0)}function Ru(r){var s=ko(r);if(mi(s))return r}function LT(r,s){if(r==="change")return s}var xm=!1;if(d){var nd;if(d){var rd="oninput"in document;if(!rd){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),rd=typeof Nm.oninput=="function"}nd=rd}else nd=!1;xm=nd&&(!document.documentMode||9<document.documentMode)}function bm(){ja&&(ja.detachEvent("onpropertychange",Om),Ba=ja=null)}function Om(r){if(r.propertyName==="value"&&Ru(Ba)){var s=[];km(s,Ba,r,no(r)),Ca(DT,s)}}function VT(r,s,l){r==="focusin"?(bm(),ja=s,Ba=l,ja.attachEvent("onpropertychange",Om)):r==="focusout"&&bm()}function MT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ru(Ba)}function FT(r,s){if(r==="click")return Ru(s)}function UT(r,s){if(r==="input"||r==="change")return Ru(s)}function jT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var lr=typeof Object.is=="function"?Object.is:jT;function za(r,s){if(lr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!lr(r[f],s[f]))return!1}return!0}function Dm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lm(r,s){var l=Dm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dm(l)}}function Vm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Vm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Mm(){for(var r=window,s=Xn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Xn(r.document)}return s}function id(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function BT(r){var s=Mm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Vm(l.ownerDocument.documentElement,l)){if(h!==null&&id(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Lm(l,g);var w=Lm(l,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var zT=d&&"documentMode"in document&&11>=document.documentMode,Ro=null,sd=null,qa=null,od=!1;function Fm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;od||Ro==null||Ro!==Xn(h)||(h=Ro,"selectionStart"in h&&id(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),qa&&za(qa,h)||(qa=h,h=ku(sd,"onSelect"),0<h.length&&(s=new yo("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=Ro)))}function Au(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Ao={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},ad={},Um={};d&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Cu(r){if(ad[r])return ad[r];if(!Ao[r])return r;var s=Ao[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Um)return ad[r]=s[l];return r}var jm=Cu("animationend"),Bm=Cu("animationiteration"),zm=Cu("animationstart"),qm=Cu("transitionend"),$m=new Map,Wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(r,s){$m.set(r,s),a(s,[r])}for(var ld=0;ld<Wm.length;ld++){var ud=Wm[ld],qT=ud.toLowerCase(),$T=ud[0].toUpperCase()+ud.slice(1);Ci(qT,"on"+$T)}Ci(jm,"onAnimationEnd"),Ci(Bm,"onAnimationIteration"),Ci(zm,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(qm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function Hm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,ru(h,s,void 0,r),r.currentTarget=null}function Km(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var A=h[w],O=A.instance,W=A.currentTarget;if(A=A.listener,O!==g&&f.isPropagationStopped())break e;Hm(f,A,W),g=O}else for(w=0;w<h.length;w++){if(A=h[w],O=A.instance,W=A.currentTarget,A=A.listener,O!==g&&f.isPropagationStopped())break e;Hm(f,A,W),g=O}}}if(er)throw r=Pa,er=!1,Pa=null,r}function ut(r,s){var l=s[yd];l===void 0&&(l=s[yd]=new Set);var h=r+"__bubble";l.has(h)||(Gm(s,r,2,!1),l.add(h))}function cd(r,s,l){var h=0;s&&(h|=4),Gm(l,r,h,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Wa(r){if(!r[Pu]){r[Pu]=!0,i.forEach(function(l){l!=="selectionchange"&&(WT.has(l)||cd(l,!1,r),cd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,cd("selectionchange",!1,s))}}function Gm(r,s,l,h){switch(La(s)){case 1:var f=dt;break;case 4:f=ed;break;default:f=Da}l=f.bind(null,s,l,r),f=void 0,!so||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function hd(r,s,l,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var A=h.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;w=w.return}for(;A!==null;){if(w=Rs(A),w===null)return;if(O=w.tag,O===5||O===6){h=g=w;continue e}A=A.parentNode}}h=h.return}Ca(function(){var W=g,te=no(l),re=[];e:{var ee=$m.get(r);if(ee!==void 0){var pe=yo,_e=r;switch(r){case"keypress":if(go(l)===0)break e;case"keydown":case"keyup":pe=m;break;case"focusin":_e="focus",pe=wo;break;case"focusout":_e="blur",pe=wo;break;case"beforeblur":case"afterblur":pe=wo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=H;break;case jm:case Bm:case zm:pe=Qr;break;case qm:pe=st;break;case"scroll":pe=td;break;case"wheel":pe=Ze;break;case"copy":case"cut":case"paste":pe=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=T}var we=(s&4)!==0,Tt=!we&&r==="scroll",B=we?ee!==null?ee+"Capture":null:ee;we=[];for(var L=W,q;L!==null;){q=L;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,B!==null&&(oe=wt(L,B),oe!=null&&we.push(Ha(L,oe,q)))),Tt)break;L=L.return}0<we.length&&(ee=new pe(ee,_e,null,l,te),re.push({event:ee,listeners:we}))}}if(!(s&7)){e:{if(ee=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",ee&&l!==ds&&(_e=l.relatedTarget||l.fromElement)&&(Rs(_e)||_e[Jr]))break e;if((pe||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,pe?(_e=l.relatedTarget||l.toElement,pe=W,_e=_e?Rs(_e):null,_e!==null&&(Tt=tr(_e),_e!==Tt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(pe=null,_e=W),pe!==_e)){if(we=_o,oe="onMouseLeave",B="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(we=T,oe="onPointerLeave",B="onPointerEnter",L="pointer"),Tt=pe==null?ee:ko(pe),q=_e==null?ee:ko(_e),ee=new we(oe,L+"leave",pe,l,te),ee.target=Tt,ee.relatedTarget=q,oe=null,Rs(te)===W&&(we=new we(B,L+"enter",_e,l,te),we.target=q,we.relatedTarget=Tt,oe=we),Tt=oe,pe&&_e)t:{for(we=pe,B=_e,L=0,q=we;q;q=Co(q))L++;for(q=0,oe=B;oe;oe=Co(oe))q++;for(;0<L-q;)we=Co(we),L--;for(;0<q-L;)B=Co(B),q--;for(;L--;){if(we===B||B!==null&&we===B.alternate)break t;we=Co(we),B=Co(B)}we=null}else we=null;pe!==null&&Qm(re,ee,pe,we,!1),_e!==null&&Tt!==null&&Qm(re,Tt,_e,we,!0)}}e:{if(ee=W?ko(W):window,pe=ee.nodeName&&ee.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ee.type==="file")var Te=LT;else if(Pm(ee))if(xm)Te=UT;else{Te=MT;var Pe=VT}else(pe=ee.nodeName)&&pe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Te=FT);if(Te&&(Te=Te(r,W))){km(re,Te,l,te);break e}Pe&&Pe(r,ee,W),r==="focusout"&&(Pe=ee._wrapperState)&&Pe.controlled&&ee.type==="number"&&$(ee,"number",ee.value)}switch(Pe=W?ko(W):window,r){case"focusin":(Pm(Pe)||Pe.contentEditable==="true")&&(Ro=Pe,sd=W,qa=null);break;case"focusout":qa=sd=Ro=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,Fm(re,l,te);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":Fm(re,l,te)}var ke;if(Ct)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Io?Am(r,l)&&(Oe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(Is&&l.locale!=="ko"&&(Io||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Io&&(ke=Va()):(Pn=te,mo="value"in Pn?Pn.value:Pn.textContent,Io=!0)),Pe=ku(W,Oe),0<Pe.length&&(Oe=new Ua(Oe,r,null,l,te),re.push({event:Oe,listeners:Pe}),ke?Oe.data=ke:(ke=Cm(l),ke!==null&&(Oe.data=ke)))),(ke=kn?NT(r,l):bT(r,l))&&(W=ku(W,"onBeforeInput"),0<W.length&&(te=new Ua("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:W}),te.data=ke))}Km(re,s)})}function Ha(r,s,l){return{instance:r,listener:s,currentTarget:l}}function ku(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=wt(r,l),g!=null&&h.unshift(Ha(r,g,f)),g=wt(r,s),g!=null&&h.push(Ha(r,g,f))),r=r.return}return h}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Qm(r,s,l,h,f){for(var g=s._reactName,w=[];l!==null&&l!==h;){var A=l,O=A.alternate,W=A.stateNode;if(O!==null&&O===h)break;A.tag===5&&W!==null&&(A=W,f?(O=wt(l,g),O!=null&&w.unshift(Ha(l,O,A))):f||(O=wt(l,g),O!=null&&w.push(Ha(l,O,A)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var HT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function Jm(r){return(typeof r=="string"?r:""+r).replace(HT,`
`).replace(KT,"")}function xu(r,s,l){if(s=Jm(s),Jm(r)!==s&&l)throw Error(t(425))}function Nu(){}var dd=null,fd=null;function pd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var md=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,QT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(r){return Xm.resolve(null).then(r).catch(JT)}:md;function JT(r){setTimeout(function(){throw r})}function gd(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),or(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);or(s)}function Pi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Ym(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Po,Ka="__reactProps$"+Po,Jr="__reactContainer$"+Po,yd="__reactEvents$"+Po,XT="__reactListeners$"+Po,YT="__reactHandles$"+Po;function Rs(r){var s=r[Cr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Jr]||l[Cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Ym(r);r!==null;){if(l=r[Cr])return l;r=Ym(r)}return s}r=l,l=r.parentNode}return null}function Ga(r){return r=r[Cr]||r[Jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ko(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function bu(r){return r[Ka]||null}var vd=[],xo=-1;function ki(r){return{current:r}}function ct(r){0>xo||(r.current=vd[xo],vd[xo]=null,xo--)}function lt(r,s){xo++,vd[xo]=r.current,r.current=s}var xi={},en=ki(xi),yn=ki(!1),As=xi;function No(r,s){var l=r.type.contextTypes;if(!l)return xi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function vn(r){return r=r.childContextTypes,r!=null}function Ou(){ct(yn),ct(en)}function Zm(r,s,l){if(en.current!==xi)throw Error(t(168));lt(en,s),lt(yn,l)}function eg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Ye(r)||"Unknown",f));return ce({},l,h)}function Du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||xi,As=en.current,lt(en,r),lt(yn,yn.current),!0}function tg(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=eg(r,s,As),h.__reactInternalMemoizedMergedChildContext=r,ct(yn),ct(en),lt(en,r)):ct(yn),lt(yn,l)}var Xr=null,Lu=!1,_d=!1;function ng(r){Xr===null?Xr=[r]:Xr.push(r)}function ZT(r){Lu=!0,ng(r)}function Ni(){if(!_d&&Xr!==null){_d=!0;var r=0,s=Je;try{var l=Xr;for(Je=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Xr=null,Lu=!1}catch(f){throw Xr!==null&&(Xr=Xr.slice(r+1)),uo(ys,Ni),f}finally{Je=s,_d=!1}}return null}var bo=[],Oo=0,Vu=null,Mu=0,zn=[],qn=0,Cs=null,Yr=1,Zr="";function Ps(r,s){bo[Oo++]=Mu,bo[Oo++]=Vu,Vu=r,Mu=s}function rg(r,s,l){zn[qn++]=Yr,zn[qn++]=Zr,zn[qn++]=Cs,Cs=r;var h=Yr;r=Zr;var f=32-cn(h)-1;h&=~(1<<f),l+=1;var g=32-cn(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Yr=1<<32-cn(s)+f|l<<f|h,Zr=g+r}else Yr=1<<g|l<<f|h,Zr=r}function Ed(r){r.return!==null&&(Ps(r,1),rg(r,1,0))}function wd(r){for(;r===Vu;)Vu=bo[--Oo],bo[Oo]=null,Mu=bo[--Oo],bo[Oo]=null;for(;r===Cs;)Cs=zn[--qn],zn[qn]=null,Zr=zn[--qn],zn[qn]=null,Yr=zn[--qn],zn[qn]=null}var xn=null,Nn=null,ft=!1,ur=null;function ig(r,s){var l=Kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function sg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,xn=r,Nn=Pi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,xn=r,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Cs!==null?{id:Yr,overflow:Zr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Kn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,xn=r,Nn=null,!0):!1;default:return!1}}function Td(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Sd(r){if(ft){var s=Nn;if(s){var l=s;if(!sg(r,s)){if(Td(r))throw Error(t(418));s=Pi(l.nextSibling);var h=xn;s&&sg(r,s)?ig(h,l):(r.flags=r.flags&-4097|2,ft=!1,xn=r)}}else{if(Td(r))throw Error(t(418));r.flags=r.flags&-4097|2,ft=!1,xn=r}}}function og(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xn=r}function Fu(r){if(r!==xn)return!1;if(!ft)return og(r),ft=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!pd(r.type,r.memoizedProps)),s&&(s=Nn)){if(Td(r))throw ag(),Error(t(418));for(;s;)ig(r,s),s=Pi(s.nextSibling)}if(og(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Nn=Pi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Nn=null}}else Nn=xn?Pi(r.stateNode.nextSibling):null;return!0}function ag(){for(var r=Nn;r;)r=Pi(r.nextSibling)}function Do(){Nn=xn=null,ft=!1}function Id(r){ur===null?ur=[r]:ur.push(r)}var eS=ae.ReactCurrentBatchConfig;function Qa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var A=f.refs;w===null?delete A[g]:A[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function lg(r){var s=r._init;return s(r._payload)}function ug(r){function s(B,L){if(r){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function l(B,L){if(!r)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function h(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=Ui(B,L),B.index=0,B.sibling=null,B}function g(B,L,q){return B.index=q,r?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=2,L):q):(B.flags|=2,L)):(B.flags|=1048576,L)}function w(B){return r&&B.alternate===null&&(B.flags|=2),B}function A(B,L,q,oe){return L===null||L.tag!==6?(L=gf(q,B.mode,oe),L.return=B,L):(L=f(L,q),L.return=B,L)}function O(B,L,q,oe){var Te=q.type;return Te===N?te(B,L,q.props.children,oe,q.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ge&&lg(Te)===L.type)?(oe=f(L,q.props),oe.ref=Qa(B,L,q),oe.return=B,oe):(oe=uc(q.type,q.key,q.props,null,B.mode,oe),oe.ref=Qa(B,L,q),oe.return=B,oe)}function W(B,L,q,oe){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=yf(q,B.mode,oe),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function te(B,L,q,oe,Te){return L===null||L.tag!==7?(L=Vs(q,B.mode,oe,Te),L.return=B,L):(L=f(L,q),L.return=B,L)}function re(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return L=gf(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case fe:return q=uc(L.type,L.key,L.props,null,B.mode,q),q.ref=Qa(B,null,L),q.return=B,q;case ve:return L=yf(L,B.mode,q),L.return=B,L;case Ge:var oe=L._init;return re(B,oe(L._payload),q)}if(K(L)||me(L))return L=Vs(L,B.mode,q,null),L.return=B,L;Uu(B,L)}return null}function ee(B,L,q,oe){var Te=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Te!==null?null:A(B,L,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case fe:return q.key===Te?O(B,L,q,oe):null;case ve:return q.key===Te?W(B,L,q,oe):null;case Ge:return Te=q._init,ee(B,L,Te(q._payload),oe)}if(K(q)||me(q))return Te!==null?null:te(B,L,q,oe,null);Uu(B,q)}return null}function pe(B,L,q,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(q)||null,A(L,B,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case fe:return B=B.get(oe.key===null?q:oe.key)||null,O(L,B,oe,Te);case ve:return B=B.get(oe.key===null?q:oe.key)||null,W(L,B,oe,Te);case Ge:var Pe=oe._init;return pe(B,L,q,Pe(oe._payload),Te)}if(K(oe)||me(oe))return B=B.get(q)||null,te(L,B,oe,Te,null);Uu(L,oe)}return null}function _e(B,L,q,oe){for(var Te=null,Pe=null,ke=L,Oe=L=0,qt=null;ke!==null&&Oe<q.length;Oe++){ke.index>Oe?(qt=ke,ke=null):qt=ke.sibling;var nt=ee(B,ke,q[Oe],oe);if(nt===null){ke===null&&(ke=qt);break}r&&ke&&nt.alternate===null&&s(B,ke),L=g(nt,L,Oe),Pe===null?Te=nt:Pe.sibling=nt,Pe=nt,ke=qt}if(Oe===q.length)return l(B,ke),ft&&Ps(B,Oe),Te;if(ke===null){for(;Oe<q.length;Oe++)ke=re(B,q[Oe],oe),ke!==null&&(L=g(ke,L,Oe),Pe===null?Te=ke:Pe.sibling=ke,Pe=ke);return ft&&Ps(B,Oe),Te}for(ke=h(B,ke);Oe<q.length;Oe++)qt=pe(ke,B,Oe,q[Oe],oe),qt!==null&&(r&&qt.alternate!==null&&ke.delete(qt.key===null?Oe:qt.key),L=g(qt,L,Oe),Pe===null?Te=qt:Pe.sibling=qt,Pe=qt);return r&&ke.forEach(function(ji){return s(B,ji)}),ft&&Ps(B,Oe),Te}function we(B,L,q,oe){var Te=me(q);if(typeof Te!="function")throw Error(t(150));if(q=Te.call(q),q==null)throw Error(t(151));for(var Pe=Te=null,ke=L,Oe=L=0,qt=null,nt=q.next();ke!==null&&!nt.done;Oe++,nt=q.next()){ke.index>Oe?(qt=ke,ke=null):qt=ke.sibling;var ji=ee(B,ke,nt.value,oe);if(ji===null){ke===null&&(ke=qt);break}r&&ke&&ji.alternate===null&&s(B,ke),L=g(ji,L,Oe),Pe===null?Te=ji:Pe.sibling=ji,Pe=ji,ke=qt}if(nt.done)return l(B,ke),ft&&Ps(B,Oe),Te;if(ke===null){for(;!nt.done;Oe++,nt=q.next())nt=re(B,nt.value,oe),nt!==null&&(L=g(nt,L,Oe),Pe===null?Te=nt:Pe.sibling=nt,Pe=nt);return ft&&Ps(B,Oe),Te}for(ke=h(B,ke);!nt.done;Oe++,nt=q.next())nt=pe(ke,B,Oe,nt.value,oe),nt!==null&&(r&&nt.alternate!==null&&ke.delete(nt.key===null?Oe:nt.key),L=g(nt,L,Oe),Pe===null?Te=nt:Pe.sibling=nt,Pe=nt);return r&&ke.forEach(function(OS){return s(B,OS)}),ft&&Ps(B,Oe),Te}function Tt(B,L,q,oe){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case fe:e:{for(var Te=q.key,Pe=L;Pe!==null;){if(Pe.key===Te){if(Te=q.type,Te===N){if(Pe.tag===7){l(B,Pe.sibling),L=f(Pe,q.props.children),L.return=B,B=L;break e}}else if(Pe.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ge&&lg(Te)===Pe.type){l(B,Pe.sibling),L=f(Pe,q.props),L.ref=Qa(B,Pe,q),L.return=B,B=L;break e}l(B,Pe);break}else s(B,Pe);Pe=Pe.sibling}q.type===N?(L=Vs(q.props.children,B.mode,oe,q.key),L.return=B,B=L):(oe=uc(q.type,q.key,q.props,null,B.mode,oe),oe.ref=Qa(B,L,q),oe.return=B,B=oe)}return w(B);case ve:e:{for(Pe=q.key;L!==null;){if(L.key===Pe)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){l(B,L.sibling),L=f(L,q.children||[]),L.return=B,B=L;break e}else{l(B,L);break}else s(B,L);L=L.sibling}L=yf(q,B.mode,oe),L.return=B,B=L}return w(B);case Ge:return Pe=q._init,Tt(B,L,Pe(q._payload),oe)}if(K(q))return _e(B,L,q,oe);if(me(q))return we(B,L,q,oe);Uu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,L!==null&&L.tag===6?(l(B,L.sibling),L=f(L,q),L.return=B,B=L):(l(B,L),L=gf(q,B.mode,oe),L.return=B,B=L),w(B)):l(B,L)}return Tt}var Lo=ug(!0),cg=ug(!1),ju=ki(null),Bu=null,Vo=null,Rd=null;function Ad(){Rd=Vo=Bu=null}function Cd(r){var s=ju.current;ct(ju),r._currentValue=s}function Pd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Mo(r,s){Bu=r,Rd=Vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(_n=!0),r.firstContext=null)}function $n(r){var s=r._currentValue;if(Rd!==r)if(r={context:r,memoizedValue:s,next:null},Vo===null){if(Bu===null)throw Error(t(308));Vo=r,Bu.dependencies={lanes:0,firstContext:r}}else Vo=Vo.next=r;return s}var ks=null;function kd(r){ks===null?ks=[r]:ks.push(r)}function hg(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,kd(s)):(l.next=f.next,f.next=l),s.interleaved=l,ei(r,h)}function ei(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var bi=!1;function xd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ti(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Oi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,tt&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,ei(r,l)}return f=h.interleaved,f===null?(s.next=s,kd(h)):(s.next=f.next,f.next=s),h.interleaved=s,ei(r,l)}function zu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ti(r,l)}}function fg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function qu(r,s,l,h){var f=r.updateQueue;bi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,W=O.next;O.next=null,w===null?g=W:w.next=W,w=O;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==w&&(A===null?te.firstBaseUpdate=W:A.next=W,te.lastBaseUpdate=O))}if(g!==null){var re=f.baseState;w=0,te=W=O=null,A=g;do{var ee=A.lane,pe=A.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:pe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var _e=r,we=A;switch(ee=s,pe=l,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){re=_e.call(pe,re,ee);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,ee=typeof _e=="function"?_e.call(pe,re,ee):_e,ee==null)break e;re=ce({},re,ee);break e;case 2:bi=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,ee=f.effects,ee===null?f.effects=[A]:ee.push(A))}else pe={eventTime:pe,lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(W=te=pe,O=re):te=te.next=pe,w|=ee;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(te===null&&(O=re),f.baseState=O,f.firstBaseUpdate=W,f.lastBaseUpdate=te,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);bs|=w,r.lanes=w,r.memoizedState=re}}function pg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ja={},Pr=ki(Ja),Xa=ki(Ja),Ya=ki(Ja);function xs(r){if(r===Ja)throw Error(t(174));return r}function Nd(r,s){switch(lt(Ya,s),lt(Xa,r),lt(Pr,Ja),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$e(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=$e(s,r)}ct(Pr),lt(Pr,s)}function Fo(){ct(Pr),ct(Xa),ct(Ya)}function mg(r){xs(Ya.current);var s=xs(Pr.current),l=$e(s,r.type);s!==l&&(lt(Xa,r),lt(Pr,l))}function bd(r){Xa.current===r&&(ct(Pr),ct(Xa))}var mt=ki(0);function $u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Od=[];function Dd(){for(var r=0;r<Od.length;r++)Od[r]._workInProgressVersionPrimary=null;Od.length=0}var Wu=ae.ReactCurrentDispatcher,Ld=ae.ReactCurrentBatchConfig,Ns=0,gt=null,Dt=null,Bt=null,Hu=!1,Za=!1,el=0,tS=0;function tn(){throw Error(t(321))}function Vd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!lr(r[l],s[l]))return!1;return!0}function Md(r,s,l,h,f,g){if(Ns=g,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wu.current=r===null||r.memoizedState===null?sS:oS,r=l(h,f),Za){g=0;do{if(Za=!1,el=0,25<=g)throw Error(t(301));g+=1,Bt=Dt=null,s.updateQueue=null,Wu.current=aS,r=l(h,f)}while(Za)}if(Wu.current=Qu,s=Dt!==null&&Dt.next!==null,Ns=0,Bt=Dt=gt=null,Hu=!1,s)throw Error(t(300));return r}function Fd(){var r=el!==0;return el=0,r}function kr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Wn(){if(Dt===null){var r=gt.alternate;r=r!==null?r.memoizedState:null}else r=Dt.next;var s=Bt===null?gt.memoizedState:Bt.next;if(s!==null)Bt=s,Dt=r;else{if(r===null)throw Error(t(310));Dt=r,r={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Bt===null?gt.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function tl(r,s){return typeof s=="function"?s(r):s}function Ud(r){var s=Wn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Dt,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var A=w=null,O=null,W=g;do{var te=W.lane;if((Ns&te)===te)O!==null&&(O=O.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var re={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};O===null?(A=O=re,w=h):O=O.next=re,gt.lanes|=te,bs|=te}W=W.next}while(W!==null&&W!==g);O===null?w=h:O.next=A,lr(h,s.memoizedState)||(_n=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=O,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,gt.lanes|=g,bs|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function jd(r){var s=Wn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);lr(g,s.memoizedState)||(_n=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function gg(){}function yg(r,s){var l=gt,h=Wn(),f=s(),g=!lr(h.memoizedState,f);if(g&&(h.memoizedState=f,_n=!0),h=h.queue,Bd(Eg.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,nl(9,_g.bind(null,l,h,f,s),void 0,null),zt===null)throw Error(t(349));Ns&30||vg(l,s,f)}return f}function vg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function _g(r,s,l,h){s.value=l,s.getSnapshot=h,wg(s)&&Tg(r)}function Eg(r,s,l){return l(function(){wg(s)&&Tg(r)})}function wg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!lr(r,l)}catch{return!0}}function Tg(r){var s=ei(r,1);s!==null&&fr(s,r,1,-1)}function Sg(r){var s=kr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:r},s.queue=r,r=r.dispatch=iS.bind(null,gt,r),[s.memoizedState,r]}function nl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Ig(){return Wn().memoizedState}function Ku(r,s,l,h){var f=kr();gt.flags|=r,f.memoizedState=nl(1|s,l,void 0,h===void 0?null:h)}function Gu(r,s,l,h){var f=Wn();h=h===void 0?null:h;var g=void 0;if(Dt!==null){var w=Dt.memoizedState;if(g=w.destroy,h!==null&&Vd(h,w.deps)){f.memoizedState=nl(s,l,g,h);return}}gt.flags|=r,f.memoizedState=nl(1|s,l,g,h)}function Rg(r,s){return Ku(8390656,8,r,s)}function Bd(r,s){return Gu(2048,8,r,s)}function Ag(r,s){return Gu(4,2,r,s)}function Cg(r,s){return Gu(4,4,r,s)}function Pg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function kg(r,s,l){return l=l!=null?l.concat([r]):null,Gu(4,4,Pg.bind(null,s,r),l)}function zd(){}function xg(r,s){var l=Wn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Vd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Ng(r,s){var l=Wn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Vd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function bg(r,s,l){return Ns&21?(lr(l,s)||(l=Es(),gt.lanes|=l,bs|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,_n=!0),r.memoizedState=l)}function nS(r,s){var l=Je;Je=l!==0&&4>l?l:4,r(!0);var h=Ld.transition;Ld.transition={};try{r(!1),s()}finally{Je=l,Ld.transition=h}}function Og(){return Wn().memoizedState}function rS(r,s,l){var h=Mi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Dg(r))Lg(s,l);else if(l=hg(r,s,l,h),l!==null){var f=fn();fr(l,r,h,f),Vg(l,s,h)}}function iS(r,s,l){var h=Mi(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dg(r))Lg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,l);if(f.hasEagerState=!0,f.eagerState=A,lr(A,w)){var O=s.interleaved;O===null?(f.next=f,kd(s)):(f.next=O.next,O.next=f),s.interleaved=f;return}}catch{}finally{}l=hg(r,s,f,h),l!==null&&(f=fn(),fr(l,r,h,f),Vg(l,s,h))}}function Dg(r){var s=r.alternate;return r===gt||s!==null&&s===gt}function Lg(r,s){Za=Hu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Vg(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ti(r,l)}}var Qu={readContext:$n,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},sS={readContext:$n,useCallback:function(r,s){return kr().memoizedState=[r,s===void 0?null:s],r},useContext:$n,useEffect:Rg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ku(4194308,4,Pg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ku(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ku(4,2,r,s)},useMemo:function(r,s){var l=kr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=kr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=rS.bind(null,gt,r),[h.memoizedState,r]},useRef:function(r){var s=kr();return r={current:r},s.memoizedState=r},useState:Sg,useDebugValue:zd,useDeferredValue:function(r){return kr().memoizedState=r},useTransition:function(){var r=Sg(!1),s=r[0];return r=nS.bind(null,r[1]),kr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=gt,f=kr();if(ft){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),zt===null)throw Error(t(349));Ns&30||vg(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Rg(Eg.bind(null,h,g,r),[r]),h.flags|=2048,nl(9,_g.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=kr(),s=zt.identifierPrefix;if(ft){var l=Zr,h=Yr;l=(h&~(1<<32-cn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=el++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=tS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},oS={readContext:$n,useCallback:xg,useContext:$n,useEffect:Bd,useImperativeHandle:kg,useInsertionEffect:Ag,useLayoutEffect:Cg,useMemo:Ng,useReducer:Ud,useRef:Ig,useState:function(){return Ud(tl)},useDebugValue:zd,useDeferredValue:function(r){var s=Wn();return bg(s,Dt.memoizedState,r)},useTransition:function(){var r=Ud(tl)[0],s=Wn().memoizedState;return[r,s]},useMutableSource:gg,useSyncExternalStore:yg,useId:Og,unstable_isNewReconciler:!1},aS={readContext:$n,useCallback:xg,useContext:$n,useEffect:Bd,useImperativeHandle:kg,useInsertionEffect:Ag,useLayoutEffect:Cg,useMemo:Ng,useReducer:jd,useRef:Ig,useState:function(){return jd(tl)},useDebugValue:zd,useDeferredValue:function(r){var s=Wn();return Dt===null?s.memoizedState=r:bg(s,Dt.memoizedState,r)},useTransition:function(){var r=jd(tl)[0],s=Wn().memoizedState;return[r,s]},useMutableSource:gg,useSyncExternalStore:yg,useId:Og,unstable_isNewReconciler:!1};function cr(r,s){if(r&&r.defaultProps){s=ce({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function qd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ce({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ju={isMounted:function(r){return(r=r._reactInternals)?tr(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=fn(),f=Mi(r),g=ti(h,f);g.payload=s,l!=null&&(g.callback=l),s=Oi(r,g,f),s!==null&&(fr(s,r,f,h),zu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=fn(),f=Mi(r),g=ti(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Oi(r,g,f),s!==null&&(fr(s,r,f,h),zu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=fn(),h=Mi(r),f=ti(l,h);f.tag=2,s!=null&&(f.callback=s),s=Oi(r,f,h),s!==null&&(fr(s,r,h,l),zu(s,r,h))}};function Mg(r,s,l,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!za(l,h)||!za(f,g):!0}function Fg(r,s,l){var h=!1,f=xi,g=s.contextType;return typeof g=="object"&&g!==null?g=$n(g):(f=vn(s)?As:en.current,h=s.contextTypes,g=(h=h!=null)?No(r,f):xi),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ju,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ug(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Ju.enqueueReplaceState(s,s.state,null)}function $d(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},xd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=$n(g):(g=vn(s)?As:en.current,f.context=No(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(qd(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ju.enqueueReplaceState(f,f.state,null),qu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Uo(r,s){try{var l="",h=s;do l+=Be(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Wd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Hd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var lS=typeof WeakMap=="function"?WeakMap:Map;function jg(r,s,l){l=ti(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){rc||(rc=!0,lf=h),Hd(r,s)},l}function Bg(r,s,l){l=ti(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){Hd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Hd(r,s),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function zg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new lS;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=TS.bind(null,r,s,l),s.then(r,r))}function qg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function $g(r,s,l,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ti(-1,1),s.tag=2,Oi(l,s,1))),l.lanes|=1),r)}var uS=ae.ReactCurrentOwner,_n=!1;function dn(r,s,l,h){s.child=r===null?cg(s,null,l,h):Lo(s,r.child,l,h)}function Wg(r,s,l,h,f){l=l.render;var g=s.ref;return Mo(s,f),h=Md(r,s,l,h,g,f),l=Fd(),r!==null&&!_n?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ni(r,s,f)):(ft&&l&&Ed(s),s.flags|=1,dn(r,s,h,f),s.child)}function Hg(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!mf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Kg(r,s,g,h,f)):(r=uc(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:za,l(w,h)&&r.ref===s.ref)return ni(r,s,f)}return s.flags|=1,r=Ui(g,h),r.ref=s.ref,r.return=s,s.child=r}function Kg(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if(za(g,h)&&r.ref===s.ref)if(_n=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(_n=!0);else return s.lanes=r.lanes,ni(r,s,f)}return Kd(r,s,l,h,f)}function Gg(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Bo,bn),bn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,lt(Bo,bn),bn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,lt(Bo,bn),bn|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,lt(Bo,bn),bn|=h;return dn(r,s,f,l),s.child}function Qg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Kd(r,s,l,h,f){var g=vn(l)?As:en.current;return g=No(s,g),Mo(s,f),l=Md(r,s,l,h,g,f),h=Fd(),r!==null&&!_n?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ni(r,s,f)):(ft&&h&&Ed(s),s.flags|=1,dn(r,s,l,f),s.child)}function Jg(r,s,l,h,f){if(vn(l)){var g=!0;Du(s)}else g=!1;if(Mo(s,f),s.stateNode===null)Yu(r,s),Fg(s,l,h),$d(s,l,h,f),h=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var O=w.context,W=l.contextType;typeof W=="object"&&W!==null?W=$n(W):(W=vn(l)?As:en.current,W=No(s,W));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof w.getSnapshotBeforeUpdate=="function";re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==h||O!==W)&&Ug(s,w,h,W),bi=!1;var ee=s.memoizedState;w.state=ee,qu(s,h,w,f),O=s.memoizedState,A!==h||ee!==O||yn.current||bi?(typeof te=="function"&&(qd(s,l,te,h),O=s.memoizedState),(A=bi||Mg(s,l,A,h,ee,O,W))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),w.props=h,w.state=O,w.context=W,h=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,dg(r,s),A=s.memoizedProps,W=s.type===s.elementType?A:cr(s.type,A),w.props=W,re=s.pendingProps,ee=w.context,O=l.contextType,typeof O=="object"&&O!==null?O=$n(O):(O=vn(l)?As:en.current,O=No(s,O));var pe=l.getDerivedStateFromProps;(te=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==re||ee!==O)&&Ug(s,w,h,O),bi=!1,ee=s.memoizedState,w.state=ee,qu(s,h,w,f);var _e=s.memoizedState;A!==re||ee!==_e||yn.current||bi?(typeof pe=="function"&&(qd(s,l,pe,h),_e=s.memoizedState),(W=bi||Mg(s,l,W,h,ee,_e,O)||!1)?(te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,_e,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,_e,O)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=_e),w.props=h,w.state=_e,w.context=O,h=W):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),h=!1)}return Gd(r,s,l,h,g,f)}function Gd(r,s,l,h,f,g){Qg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&tg(s,l,!1),ni(r,s,g);h=s.stateNode,uS.current=s;var A=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Lo(s,r.child,null,g),s.child=Lo(s,null,A,g)):dn(r,s,A,g),s.memoizedState=h.state,f&&tg(s,l,!0),s.child}function Xg(r){var s=r.stateNode;s.pendingContext?Zm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Zm(r,s.context,!1),Nd(r,s.containerInfo)}function Yg(r,s,l,h,f){return Do(),Id(f),s.flags|=256,dn(r,s,l,h),s.child}var Qd={dehydrated:null,treeContext:null,retryLane:0};function Jd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Zg(r,s,l){var h=s.pendingProps,f=mt.current,g=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),lt(mt,f&1),r===null)return Sd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=cc(w,h,0,null),r=Vs(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Jd(l),s.memoizedState=Qd,r):Xd(s,w));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return cS(r,s,w,h,A,f,l);if(g){g=h.fallback,w=s.mode,f=r.child,A=f.sibling;var O={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=O,s.deletions=null):(h=Ui(f,O),h.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=Ui(A,g):(g=Vs(g,w,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Jd(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,s.memoizedState=Qd,h}return g=r.child,r=g.sibling,h=Ui(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Xd(r,s){return s=cc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Xu(r,s,l,h){return h!==null&&Id(h),Lo(s,r.child,null,l),r=Xd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function cS(r,s,l,h,f,g,w){if(l)return s.flags&256?(s.flags&=-257,h=Wd(Error(t(422))),Xu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=cc({mode:"visible",children:h.children},f,0,null),g=Vs(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Lo(s,r.child,null,w),s.child.memoizedState=Jd(w),s.memoizedState=Qd,g);if(!(s.mode&1))return Xu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var A=h.dgst;return h=A,g=Error(t(419)),h=Wd(g,h,void 0),Xu(r,s,w,h)}if(A=(w&r.childLanes)!==0,_n||A){if(h=zt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,ei(r,f),fr(h,r,f,-1))}return pf(),h=Wd(Error(t(421))),Xu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=SS.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Nn=Pi(f.nextSibling),xn=s,ft=!0,ur=null,r!==null&&(zn[qn++]=Yr,zn[qn++]=Zr,zn[qn++]=Cs,Yr=r.id,Zr=r.overflow,Cs=s),s=Xd(s,h.children),s.flags|=4096,s)}function ey(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Pd(r.return,s,l)}function Yd(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function ty(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(dn(r,s,h.children,l),h=mt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ey(r,l,s);else if(r.tag===19)ey(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(lt(mt,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&$u(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Yd(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&$u(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Yd(s,!0,l,null,g);break;case"together":Yd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ni(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),bs|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ui(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ui(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function hS(r,s,l){switch(s.tag){case 3:Xg(s),Do();break;case 5:mg(s);break;case 1:vn(s.type)&&Du(s);break;case 4:Nd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;lt(ju,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(lt(mt,mt.current&1),s.flags|=128,null):l&s.child.childLanes?Zg(r,s,l):(lt(mt,mt.current&1),r=ni(r,s,l),r!==null?r.sibling:null);lt(mt,mt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return ty(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(mt,mt.current),h)break;return null;case 22:case 23:return s.lanes=0,Gg(r,s,l)}return ni(r,s,l)}var ny,Zd,ry,iy;ny=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Zd=function(){},ry=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,xs(Pr.current);var g=null;switch(l){case"input":f=_r(r,f),h=_r(r,h),g=[];break;case"select":f=ce({},f,{value:void 0}),h=ce({},h,{value:void 0}),g=[];break;case"textarea":f=le(r,f),h=le(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Nu)}Sa(l,h);var w;l=null;for(W in f)if(!h.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var A=f[W];for(w in A)A.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in h){var O=h[W];if(A=f!=null?f[W]:void 0,h.hasOwnProperty(W)&&O!==A&&(O!=null||A!=null))if(W==="style")if(A){for(w in A)!A.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in O)O.hasOwnProperty(w)&&A[w]!==O[w]&&(l||(l={}),l[w]=O[w])}else l||(g||(g=[]),g.push(W,l)),l=O;else W==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,A=A?A.__html:void 0,O!=null&&A!==O&&(g=g||[]).push(W,O)):W==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(W,""+O):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(O!=null&&W==="onScroll"&&ut("scroll",r),g||A===O||(g=[])):(g=g||[]).push(W,O))}l&&(g=g||[]).push("style",l);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},iy=function(r,s,l,h){l!==h&&(s.flags|=4)};function rl(r,s){if(!ft)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function nn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function dS(r,s,l){var h=s.pendingProps;switch(wd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(s),null;case 1:return vn(s.type)&&Ou(),nn(s),null;case 3:return h=s.stateNode,Fo(),ct(yn),ct(en),Dd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Fu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ur!==null&&(hf(ur),ur=null))),Zd(r,s),nn(s),null;case 5:bd(s);var f=xs(Ya.current);if(l=s.type,r!==null&&s.stateNode!=null)ry(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return nn(s),null}if(r=xs(Pr.current),Fu(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[Cr]=s,h[Ka]=g,r=(s.mode&1)!==0,l){case"dialog":ut("cancel",h),ut("close",h);break;case"iframe":case"object":case"embed":ut("load",h);break;case"video":case"audio":for(f=0;f<$a.length;f++)ut($a[f],h);break;case"source":ut("error",h);break;case"img":case"image":case"link":ut("error",h),ut("load",h);break;case"details":ut("toggle",h);break;case"input":us(h,g),ut("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},ut("invalid",h);break;case"textarea":ie(h,g),ut("invalid",h)}Sa(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?h.textContent!==A&&(g.suppressHydrationWarning!==!0&&xu(h.textContent,A,r),f=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&xu(h.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&ut("scroll",h)}switch(l){case"input":Vn(h),b(h,g,!0);break;case"textarea":Vn(h),Me(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Nu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=qe(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[Cr]=s,r[Ka]=h,ny(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ia(l,h),l){case"dialog":ut("cancel",r),ut("close",r),f=h;break;case"iframe":case"object":case"embed":ut("load",r),f=h;break;case"video":case"audio":for(f=0;f<$a.length;f++)ut($a[f],r);f=h;break;case"source":ut("error",r),f=h;break;case"img":case"image":case"link":ut("error",r),ut("load",r),f=h;break;case"details":ut("toggle",r),f=h;break;case"input":us(r,h),f=_r(r,h),ut("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ce({},h,{value:void 0}),ut("invalid",r);break;case"textarea":ie(r,h),f=le(r,h),ut("invalid",r);break;default:f=h}Sa(l,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var O=A[g];g==="style"?hs(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&cs(r,O)):g==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Mn(r,O):typeof O=="number"&&Mn(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&ut("scroll",r):O!=null&&Y(r,g,O,w))}switch(l){case"input":Vn(r),b(r,h,!1);break;case"textarea":Vn(r),Me(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Qe(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?he(r,!!h.multiple,g,!1):h.defaultValue!=null&&he(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return nn(s),null;case 6:if(r&&s.stateNode!=null)iy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=xs(Ya.current),xs(Pr.current),Fu(s)){if(h=s.stateNode,l=s.memoizedProps,h[Cr]=s,(g=h.nodeValue!==l)&&(r=xn,r!==null))switch(r.tag){case 3:xu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&xu(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Cr]=s,s.stateNode=h}return nn(s),null;case 13:if(ct(mt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&Nn!==null&&s.mode&1&&!(s.flags&128))ag(),Do(),s.flags|=98560,g=!1;else if(g=Fu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Cr]=s}else Do(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;nn(s),g=!1}else ur!==null&&(hf(ur),ur=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||mt.current&1?Lt===0&&(Lt=3):pf())),s.updateQueue!==null&&(s.flags|=4),nn(s),null);case 4:return Fo(),Zd(r,s),r===null&&Wa(s.stateNode.containerInfo),nn(s),null;case 10:return Cd(s.type._context),nn(s),null;case 17:return vn(s.type)&&Ou(),nn(s),null;case 19:if(ct(mt),g=s.memoizedState,g===null)return nn(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)rl(g,!1);else{if(Lt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=$u(r),w!==null){for(s.flags|=128,rl(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return lt(mt,mt.current&1|2),s.child}r=r.sibling}g.tail!==null&&at()>zo&&(s.flags|=128,h=!0,rl(g,!1),s.lanes=4194304)}else{if(!h)if(r=$u(w),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),rl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ft)return nn(s),null}else 2*at()-g.renderingStartTime>zo&&l!==1073741824&&(s.flags|=128,h=!0,rl(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(l=g.last,l!==null?l.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=at(),s.sibling=null,l=mt.current,lt(mt,h?l&1|2:l&1),s):(nn(s),null);case 22:case 23:return ff(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?bn&1073741824&&(nn(s),s.subtreeFlags&6&&(s.flags|=8192)):nn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function fS(r,s){switch(wd(s),s.tag){case 1:return vn(s.type)&&Ou(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Fo(),ct(yn),ct(en),Dd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return bd(s),null;case 13:if(ct(mt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Do()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ct(mt),null;case 4:return Fo(),null;case 10:return Cd(s.type._context),null;case 22:case 23:return ff(),null;case 24:return null;default:return null}}var Zu=!1,rn=!1,pS=typeof WeakSet=="function"?WeakSet:Set,ye=null;function jo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){_t(r,s,h)}else l.current=null}function ef(r,s,l){try{l()}catch(h){_t(r,s,h)}}var sy=!1;function mS(r,s){if(dd=Ri,r=Mm(),id(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,A=-1,O=-1,W=0,te=0,re=r,ee=null;t:for(;;){for(var pe;re!==l||f!==0&&re.nodeType!==3||(A=w+f),re!==g||h!==0&&re.nodeType!==3||(O=w+h),re.nodeType===3&&(w+=re.nodeValue.length),(pe=re.firstChild)!==null;)ee=re,re=pe;for(;;){if(re===r)break t;if(ee===l&&++W===f&&(A=w),ee===g&&++te===h&&(O=w),(pe=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=pe}l=A===-1||O===-1?null:{start:A,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(fd={focusedElem:r,selectionRange:l},Ri=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var _e=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,Tt=_e.memoizedState,B=s.stateNode,L=B.getSnapshotBeforeUpdate(s.elementType===s.type?we:cr(s.type,we),Tt);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){_t(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return _e=sy,sy=!1,_e}function il(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&ef(s,l,g)}f=f.next}while(f!==h)}}function ec(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function tf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function oy(r){var s=r.alternate;s!==null&&(r.alternate=null,oy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Cr],delete s[Ka],delete s[yd],delete s[XT],delete s[YT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ay(r){return r.tag===5||r.tag===3||r.tag===4}function ly(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ay(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Nu));else if(h!==4&&(r=r.child,r!==null))for(nf(r,s,l),r=r.sibling;r!==null;)nf(r,s,l),r=r.sibling}function rf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(rf(r,s,l),r=r.sibling;r!==null;)rf(r,s,l),r=r.sibling}var Gt=null,hr=!1;function Di(r,s,l){for(l=l.child;l!==null;)uy(r,s,l),l=l.sibling}function uy(r,s,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(vs,l)}catch{}switch(l.tag){case 5:rn||jo(l,s);case 6:var h=Gt,f=hr;Gt=null,Di(r,s,l),Gt=h,hr=f,Gt!==null&&(hr?(r=Gt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Gt.removeChild(l.stateNode));break;case 18:Gt!==null&&(hr?(r=Gt,l=l.stateNode,r.nodeType===8?gd(r.parentNode,l):r.nodeType===1&&gd(r,l),or(r)):gd(Gt,l.stateNode));break;case 4:h=Gt,f=hr,Gt=l.stateNode.containerInfo,hr=!0,Di(r,s,l),Gt=h,hr=f;break;case 0:case 11:case 14:case 15:if(!rn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&ef(l,s,w),f=f.next}while(f!==h)}Di(r,s,l);break;case 1:if(!rn&&(jo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){_t(l,s,A)}Di(r,s,l);break;case 21:Di(r,s,l);break;case 22:l.mode&1?(rn=(h=rn)||l.memoizedState!==null,Di(r,s,l),rn=h):Di(r,s,l);break;default:Di(r,s,l)}}function cy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new pS),s.forEach(function(h){var f=IS.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function dr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:Gt=A.stateNode,hr=!1;break e;case 3:Gt=A.stateNode.containerInfo,hr=!0;break e;case 4:Gt=A.stateNode.containerInfo,hr=!0;break e}A=A.return}if(Gt===null)throw Error(t(160));uy(g,w,f),Gt=null,hr=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(W){_t(f,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)hy(s,r),s=s.sibling}function hy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(dr(s,r),xr(r),h&4){try{il(3,r,r.return),ec(3,r)}catch(we){_t(r,r.return,we)}try{il(5,r,r.return)}catch(we){_t(r,r.return,we)}}break;case 1:dr(s,r),xr(r),h&512&&l!==null&&jo(l,l.return);break;case 5:if(dr(s,r),xr(r),h&512&&l!==null&&jo(l,l.return),r.flags&32){var f=r.stateNode;try{Mn(f,"")}catch(we){_t(r,r.return,we)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,A=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&eo(f,g),Ia(A,w);var W=Ia(A,g);for(w=0;w<O.length;w+=2){var te=O[w],re=O[w+1];te==="style"?hs(f,re):te==="dangerouslySetInnerHTML"?cs(f,re):te==="children"?Mn(f,re):Y(f,te,re,W)}switch(A){case"input":to(f,g);break;case"textarea":Ie(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?he(f,!!g.multiple,pe,!1):ee!==!!g.multiple&&(g.defaultValue!=null?he(f,!!g.multiple,g.defaultValue,!0):he(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ka]=g}catch(we){_t(r,r.return,we)}}break;case 6:if(dr(s,r),xr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(we){_t(r,r.return,we)}}break;case 3:if(dr(s,r),xr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{or(s.containerInfo)}catch(we){_t(r,r.return,we)}break;case 4:dr(s,r),xr(r);break;case 13:dr(s,r),xr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(af=at())),h&4&&cy(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(rn=(W=rn)||te,dr(s,r),rn=W):dr(s,r),xr(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!te&&r.mode&1)for(ye=r,te=r.child;te!==null;){for(re=ye=te;ye!==null;){switch(ee=ye,pe=ee.child,ee.tag){case 0:case 11:case 14:case 15:il(4,ee,ee.return);break;case 1:jo(ee,ee.return);var _e=ee.stateNode;if(typeof _e.componentWillUnmount=="function"){h=ee,l=ee.return;try{s=h,_e.props=s.memoizedProps,_e.state=s.memoizedState,_e.componentWillUnmount()}catch(we){_t(h,l,we)}}break;case 5:jo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){py(re);continue}}pe!==null?(pe.return=ee,ye=pe):py(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{f=re.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=re.stateNode,O=re.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,A.style.display=gi("display",w))}catch(we){_t(r,r.return,we)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(we){_t(r,r.return,we)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:dr(s,r),xr(r),h&4&&cy(r);break;case 21:break;default:dr(s,r),xr(r)}}function xr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(ay(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Mn(f,""),h.flags&=-33);var g=ly(r);rf(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,A=ly(r);nf(r,A,w);break;default:throw Error(t(161))}}catch(O){_t(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function gS(r,s,l){ye=r,dy(r)}function dy(r,s,l){for(var h=(r.mode&1)!==0;ye!==null;){var f=ye,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Zu;if(!w){var A=f.alternate,O=A!==null&&A.memoizedState!==null||rn;A=Zu;var W=rn;if(Zu=w,(rn=O)&&!W)for(ye=f;ye!==null;)w=ye,O=w.child,w.tag===22&&w.memoizedState!==null?my(f):O!==null?(O.return=w,ye=O):my(f);for(;g!==null;)ye=g,dy(g),g=g.sibling;ye=f,Zu=A,rn=W}fy(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ye=g):fy(r)}}function fy(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:rn||ec(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!rn)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:cr(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&pg(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}pg(s,w,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&or(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||s.flags&512&&tf(s)}catch(ee){_t(s,s.return,ee)}}if(s===r){ye=null;break}if(l=s.sibling,l!==null){l.return=s.return,ye=l;break}ye=s.return}}function py(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ye=l;break}ye=s.return}}function my(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ec(4,s)}catch(O){_t(s,l,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(O){_t(s,f,O)}}var g=s.return;try{tf(s)}catch(O){_t(s,g,O)}break;case 5:var w=s.return;try{tf(s)}catch(O){_t(s,w,O)}}}catch(O){_t(s,s.return,O)}if(s===r){ye=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ye=A;break}ye=s.return}}var yS=Math.ceil,tc=ae.ReactCurrentDispatcher,sf=ae.ReactCurrentOwner,Hn=ae.ReactCurrentBatchConfig,tt=0,zt=null,Pt=null,Qt=0,bn=0,Bo=ki(0),Lt=0,sl=null,bs=0,nc=0,of=0,ol=null,En=null,af=0,zo=1/0,ri=null,rc=!1,lf=null,Li=null,ic=!1,Vi=null,sc=0,al=0,uf=null,oc=-1,ac=0;function fn(){return tt&6?at():oc!==-1?oc:oc=at()}function Mi(r){return r.mode&1?tt&2&&Qt!==0?Qt&-Qt:eS.transition!==null?(ac===0&&(ac=Es()),ac):(r=Je,r!==0||(r=window.event,r=r===void 0?16:La(r.type)),r):1}function fr(r,s,l,h){if(50<al)throw al=0,uf=null,Error(t(185));wi(r,l,h),(!(tt&2)||r!==zt)&&(r===zt&&(!(tt&2)&&(nc|=l),Lt===4&&Fi(r,Qt)),wn(r,h),l===1&&tt===0&&!(s.mode&1)&&(zo=at()+500,Lu&&Ni()))}function wn(r,s){var l=r.callbackNode;Wr(r,s);var h=_s(r,r===zt?Qt:0);if(h===0)l!==null&&xa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&xa(l),s===1)r.tag===0?ZT(yy.bind(null,r)):ng(yy.bind(null,r)),QT(function(){!(tt&6)&&Ni()}),l=null;else{switch(Si(h)){case 1:l=ys;break;case 4:l=vi;break;case 16:l=Un;break;case 536870912:l=au;break;default:l=Un}l=Ry(l,gy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function gy(r,s){if(oc=-1,ac=0,tt&6)throw Error(t(327));var l=r.callbackNode;if(qo()&&r.callbackNode!==l)return null;var h=_s(r,r===zt?Qt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=lc(r,h);else{s=h;var f=tt;tt|=2;var g=_y();(zt!==r||Qt!==s)&&(ri=null,zo=at()+500,Ds(r,s));do try{ES();break}catch(A){vy(r,A)}while(!0);Ad(),tc.current=g,tt=f,Pt!==null?s=0:(zt=null,Qt=0,s=Lt)}if(s!==0){if(s===2&&(f=Cn(r),f!==0&&(h=f,s=cf(r,f))),s===1)throw l=sl,Ds(r,0),Fi(r,h),wn(r,at()),l;if(s===6)Fi(r,h);else{if(f=r.current.alternate,!(h&30)&&!vS(f)&&(s=lc(r,h),s===2&&(g=Cn(r),g!==0&&(h=g,s=cf(r,g))),s===1))throw l=sl,Ds(r,0),Fi(r,h),wn(r,at()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ls(r,En,ri);break;case 3:if(Fi(r,h),(h&130023424)===h&&(s=af+500-at(),10<s)){if(_s(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){fn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=md(Ls.bind(null,r,En,ri),s);break}Ls(r,En,ri);break;case 4:if(Fi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-cn(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=at()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*yS(h/1960))-h,10<h){r.timeoutHandle=md(Ls.bind(null,r,En,ri),h);break}Ls(r,En,ri);break;case 5:Ls(r,En,ri);break;default:throw Error(t(329))}}}return wn(r,at()),r.callbackNode===l?gy.bind(null,r):null}function cf(r,s){var l=ol;return r.current.memoizedState.isDehydrated&&(Ds(r,s).flags|=256),r=lc(r,s),r!==2&&(s=En,En=l,s!==null&&hf(s)),r}function hf(r){En===null?En=r:En.push.apply(En,r)}function vS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!lr(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fi(r,s){for(s&=~of,s&=~nc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-cn(s),h=1<<l;r[l]=-1,s&=~h}}function yy(r){if(tt&6)throw Error(t(327));qo();var s=_s(r,0);if(!(s&1))return wn(r,at()),null;var l=lc(r,s);if(r.tag!==0&&l===2){var h=Cn(r);h!==0&&(s=h,l=cf(r,h))}if(l===1)throw l=sl,Ds(r,0),Fi(r,s),wn(r,at()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ls(r,En,ri),wn(r,at()),null}function df(r,s){var l=tt;tt|=1;try{return r(s)}finally{tt=l,tt===0&&(zo=at()+500,Lu&&Ni())}}function Os(r){Vi!==null&&Vi.tag===0&&!(tt&6)&&qo();var s=tt;tt|=1;var l=Hn.transition,h=Je;try{if(Hn.transition=null,Je=1,r)return r()}finally{Je=h,Hn.transition=l,tt=s,!(tt&6)&&Ni()}}function ff(){bn=Bo.current,ct(Bo)}function Ds(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,GT(l)),Pt!==null)for(l=Pt.return;l!==null;){var h=l;switch(wd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ou();break;case 3:Fo(),ct(yn),ct(en),Dd();break;case 5:bd(h);break;case 4:Fo();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:Cd(h.type._context);break;case 22:case 23:ff()}l=l.return}if(zt=r,Pt=r=Ui(r.current,null),Qt=bn=s,Lt=0,sl=null,of=nc=bs=0,En=ol=null,ks!==null){for(s=0;s<ks.length;s++)if(l=ks[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}l.pending=h}ks=null}return r}function vy(r,s){do{var l=Pt;try{if(Ad(),Wu.current=Qu,Hu){for(var h=gt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Hu=!1}if(Ns=0,Bt=Dt=gt=null,Za=!1,el=0,sf.current=null,l===null||l.return===null){Lt=1,sl=s,Pt=null;break}e:{var g=r,w=l.return,A=l,O=s;if(s=Qt,A.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=O,te=A,re=te.tag;if(!(te.mode&1)&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var pe=qg(w);if(pe!==null){pe.flags&=-257,$g(pe,w,A,g,s),pe.mode&1&&zg(g,W,s),s=pe,O=W;var _e=s.updateQueue;if(_e===null){var we=new Set;we.add(O),s.updateQueue=we}else _e.add(O);break e}else{if(!(s&1)){zg(g,W,s),pf();break e}O=Error(t(426))}}else if(ft&&A.mode&1){var Tt=qg(w);if(Tt!==null){!(Tt.flags&65536)&&(Tt.flags|=256),$g(Tt,w,A,g,s),Id(Uo(O,A));break e}}g=O=Uo(O,A),Lt!==4&&(Lt=2),ol===null?ol=[g]:ol.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=jg(g,O,s);fg(g,B);break e;case 1:A=O;var L=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Li===null||!Li.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var oe=Bg(g,A,s);fg(g,oe);break e}}g=g.return}while(g!==null)}wy(l)}catch(Te){s=Te,Pt===l&&l!==null&&(Pt=l=l.return);continue}break}while(!0)}function _y(){var r=tc.current;return tc.current=Qu,r===null?Qu:r}function pf(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),zt===null||!(bs&268435455)&&!(nc&268435455)||Fi(zt,Qt)}function lc(r,s){var l=tt;tt|=2;var h=_y();(zt!==r||Qt!==s)&&(ri=null,Ds(r,s));do try{_S();break}catch(f){vy(r,f)}while(!0);if(Ad(),tt=l,tc.current=h,Pt!==null)throw Error(t(261));return zt=null,Qt=0,Lt}function _S(){for(;Pt!==null;)Ey(Pt)}function ES(){for(;Pt!==null&&!su();)Ey(Pt)}function Ey(r){var s=Iy(r.alternate,r,bn);r.memoizedProps=r.pendingProps,s===null?wy(r):Pt=s,sf.current=null}function wy(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=fS(l,s),l!==null){l.flags&=32767,Pt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Lt=6,Pt=null;return}}else if(l=dS(l,s,bn),l!==null){Pt=l;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=r}while(s!==null);Lt===0&&(Lt=5)}function Ls(r,s,l){var h=Je,f=Hn.transition;try{Hn.transition=null,Je=1,wS(r,s,l,h)}finally{Hn.transition=f,Je=h}return null}function wS(r,s,l,h){do qo();while(Vi!==null);if(tt&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(ot(r,g),r===zt&&(Pt=zt=null,Qt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ic||(ic=!0,Ry(Un,function(){return qo(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=Hn.transition,Hn.transition=null;var w=Je;Je=1;var A=tt;tt|=4,sf.current=null,mS(r,l),hy(l,r),BT(fd),Ri=!!dd,fd=dd=null,r.current=l,gS(l),Jh(),tt=A,Je=w,Hn.transition=g}else r.current=l;if(ic&&(ic=!1,Vi=r,sc=f),g=r.pendingLanes,g===0&&(Li=null),lu(l.stateNode),wn(r,at()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(rc)throw rc=!1,r=lf,lf=null,r;return sc&1&&r.tag!==0&&qo(),g=r.pendingLanes,g&1?r===uf?al++:(al=0,uf=r):al=0,Ni(),null}function qo(){if(Vi!==null){var r=Si(sc),s=Hn.transition,l=Je;try{if(Hn.transition=null,Je=16>r?16:r,Vi===null)var h=!1;else{if(r=Vi,Vi=null,sc=0,tt&6)throw Error(t(331));var f=tt;for(tt|=4,ye=r.current;ye!==null;){var g=ye,w=g.child;if(ye.flags&16){var A=g.deletions;if(A!==null){for(var O=0;O<A.length;O++){var W=A[O];for(ye=W;ye!==null;){var te=ye;switch(te.tag){case 0:case 11:case 15:il(8,te,g)}var re=te.child;if(re!==null)re.return=te,ye=re;else for(;ye!==null;){te=ye;var ee=te.sibling,pe=te.return;if(oy(te),te===W){ye=null;break}if(ee!==null){ee.return=pe,ye=ee;break}ye=pe}}}var _e=g.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var Tt=we.sibling;we.sibling=null,we=Tt}while(we!==null)}}ye=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ye=w;else e:for(;ye!==null;){if(g=ye,g.flags&2048)switch(g.tag){case 0:case 11:case 15:il(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ye=B;break e}ye=g.return}}var L=r.current;for(ye=L;ye!==null;){w=ye;var q=w.child;if(w.subtreeFlags&2064&&q!==null)q.return=w,ye=q;else e:for(w=L;ye!==null;){if(A=ye,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:ec(9,A)}}catch(Te){_t(A,A.return,Te)}if(A===w){ye=null;break e}var oe=A.sibling;if(oe!==null){oe.return=A.return,ye=oe;break e}ye=A.return}}if(tt=f,Ni(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(vs,r)}catch{}h=!0}return h}finally{Je=l,Hn.transition=s}}return!1}function Ty(r,s,l){s=Uo(l,s),s=jg(r,s,1),r=Oi(r,s,1),s=fn(),r!==null&&(wi(r,1,s),wn(r,s))}function _t(r,s,l){if(r.tag===3)Ty(r,r,l);else for(;s!==null;){if(s.tag===3){Ty(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Li===null||!Li.has(h))){r=Uo(l,r),r=Bg(s,r,1),s=Oi(s,r,1),r=fn(),s!==null&&(wi(s,1,r),wn(s,r));break}}s=s.return}}function TS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=fn(),r.pingedLanes|=r.suspendedLanes&l,zt===r&&(Qt&l)===l&&(Lt===4||Lt===3&&(Qt&130023424)===Qt&&500>at()-af?Ds(r,0):of|=l),wn(r,s)}function Sy(r,s){s===0&&(r.mode&1?(s=ho,ho<<=1,!(ho&130023424)&&(ho=4194304)):s=1);var l=fn();r=ei(r,s),r!==null&&(wi(r,s,l),wn(r,l))}function SS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Sy(r,l)}function IS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Sy(r,l)}var Iy;Iy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||yn.current)_n=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return _n=!1,hS(r,s,l);_n=!!(r.flags&131072)}else _n=!1,ft&&s.flags&1048576&&rg(s,Mu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Yu(r,s),r=s.pendingProps;var f=No(s,en.current);Mo(s,l),f=Md(null,s,h,r,f,l);var g=Fd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vn(h)?(g=!0,Du(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,xd(s),f.updater=Ju,s.stateNode=f,f._reactInternals=s,$d(s,h,r,l),s=Gd(null,s,h,!0,g,l)):(s.tag=0,ft&&g&&Ed(s),dn(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Yu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=AS(h),r=cr(h,r),f){case 0:s=Kd(null,s,h,r,l);break e;case 1:s=Jg(null,s,h,r,l);break e;case 11:s=Wg(null,s,h,r,l);break e;case 14:s=Hg(null,s,h,cr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:cr(h,f),Kd(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:cr(h,f),Jg(r,s,h,f,l);case 3:e:{if(Xg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,dg(r,s),qu(s,h,null,l);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Uo(Error(t(423)),s),s=Yg(r,s,h,l,f);break e}else if(h!==f){f=Uo(Error(t(424)),s),s=Yg(r,s,h,l,f);break e}else for(Nn=Pi(s.stateNode.containerInfo.firstChild),xn=s,ft=!0,ur=null,l=cg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Do(),h===f){s=ni(r,s,l);break e}dn(r,s,h,l)}s=s.child}return s;case 5:return mg(s),r===null&&Sd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,pd(h,f)?w=null:g!==null&&pd(h,g)&&(s.flags|=32),Qg(r,s),dn(r,s,w,l),s.child;case 6:return r===null&&Sd(s),null;case 13:return Zg(r,s,l);case 4:return Nd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Lo(s,null,h,l):dn(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:cr(h,f),Wg(r,s,h,f,l);case 7:return dn(r,s,s.pendingProps,l),s.child;case 8:return dn(r,s,s.pendingProps.children,l),s.child;case 12:return dn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,lt(ju,h._currentValue),h._currentValue=w,g!==null)if(lr(g.value,w)){if(g.children===f.children&&!yn.current){s=ni(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var O=A.firstContext;O!==null;){if(O.context===h){if(g.tag===1){O=ti(-1,l&-l),O.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?O.next=O:(O.next=te.next,te.next=O),W.pending=O}}g.lanes|=l,O=g.alternate,O!==null&&(O.lanes|=l),Pd(g.return,l,s),A.lanes|=l;break}O=O.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,A=w.alternate,A!==null&&(A.lanes|=l),Pd(w,l,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}dn(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Mo(s,l),f=$n(f),h=h(f),s.flags|=1,dn(r,s,h,l),s.child;case 14:return h=s.type,f=cr(h,s.pendingProps),f=cr(h.type,f),Hg(r,s,h,f,l);case 15:return Kg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:cr(h,f),Yu(r,s),s.tag=1,vn(h)?(r=!0,Du(s)):r=!1,Mo(s,l),Fg(s,h,f),$d(s,h,f,l),Gd(null,s,h,!0,r,l);case 19:return ty(r,s,l);case 22:return Gg(r,s,l)}throw Error(t(156,s.tag))};function Ry(r,s){return uo(r,s)}function RS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,s,l,h){return new RS(r,s,l,h)}function mf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function AS(r){if(typeof r=="function")return mf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===x)return 11;if(r===Ae)return 14}return 2}function Ui(r,s){var l=r.alternate;return l===null?(l=Kn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function uc(r,s,l,h,f,g){var w=2;if(h=r,typeof r=="function")mf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case N:return Vs(l.children,f,g,s);case S:w=8,f|=8;break;case C:return r=Kn(12,l,s,f|2),r.elementType=C,r.lanes=g,r;case I:return r=Kn(13,l,s,f),r.elementType=I,r.lanes=g,r;case Ne:return r=Kn(19,l,s,f),r.elementType=Ne,r.lanes=g,r;case Re:return cc(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:w=10;break e;case D:w=9;break e;case x:w=11;break e;case Ae:w=14;break e;case Ge:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Kn(w,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Vs(r,s,l,h){return r=Kn(7,r,h,s),r.lanes=l,r}function cc(r,s,l,h){return r=Kn(22,r,h,s),r.elementType=Re,r.lanes=l,r.stateNode={isHidden:!1},r}function gf(r,s,l){return r=Kn(6,r,null,s),r.lanes=l,r}function yf(r,s,l){return s=Kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function CS(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function vf(r,s,l,h,f,g,w,A,O){return r=new CS(r,s,l,A,O),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Kn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},xd(g),r}function PS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ve,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Ay(r){if(!r)return xi;r=r._reactInternals;e:{if(tr(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(vn(l))return eg(r,l,s)}return s}function Cy(r,s,l,h,f,g,w,A,O){return r=vf(l,h,!0,r,f,g,w,A,O),r.context=Ay(null),l=r.current,h=fn(),f=Mi(l),g=ti(h,f),g.callback=s??null,Oi(l,g,f),r.current.lanes=f,wi(r,f,h),wn(r,h),r}function hc(r,s,l,h){var f=s.current,g=fn(),w=Mi(f);return l=Ay(l),s.context===null?s.context=l:s.pendingContext=l,s=ti(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Oi(f,s,w),r!==null&&(fr(r,f,w,g),zu(r,f,w)),w}function dc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Py(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function _f(r,s){Py(r,s),(r=r.alternate)&&Py(r,s)}function kS(){return null}var ky=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ef(r){this._internalRoot=r}fc.prototype.render=Ef.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));hc(r,s,null,null)},fc.prototype.unmount=Ef.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Os(function(){hc(null,r,null,null)}),s[Jr]=null}};function fc(r){this._internalRoot=r}fc.prototype.unstable_scheduleHydration=function(r){if(r){var s=fu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Sr.length&&s!==0&&s<Sr[l].priority;l++);Sr.splice(l,0,r),l===0&&gu(r)}};function wf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function pc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function xy(){}function xS(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var W=dc(w);g.call(W)}}var w=Cy(s,h,r,0,null,!1,!1,"",xy);return r._reactRootContainer=w,r[Jr]=w.current,Wa(r.nodeType===8?r.parentNode:r),Os(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var A=h;h=function(){var W=dc(O);A.call(W)}}var O=vf(r,0,!1,null,null,!1,!1,"",xy);return r._reactRootContainer=O,r[Jr]=O.current,Wa(r.nodeType===8?r.parentNode:r),Os(function(){hc(s,O,l,h)}),O}function mc(r,s,l,h,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var A=f;f=function(){var O=dc(w);A.call(O)}}hc(s,w,r,f)}else w=xS(l,s,r,f,h);return dc(w)}hu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=_i(s.pendingLanes);l!==0&&(Ti(s,l|1),wn(s,at()),!(tt&6)&&(zo=at()+500,Ni()))}break;case 13:Os(function(){var h=ei(r,1);if(h!==null){var f=fn();fr(h,r,1,f)}}),_f(r,1)}},fo=function(r){if(r.tag===13){var s=ei(r,134217728);if(s!==null){var l=fn();fr(s,r,134217728,l)}_f(r,134217728)}},du=function(r){if(r.tag===13){var s=Mi(r),l=ei(r,s);if(l!==null){var h=fn();fr(l,r,s,h)}_f(r,s)}},fu=function(){return Je},pu=function(r,s){var l=Je;try{return Je=r,s()}finally{Je=l}},ro=function(r,s,l){switch(s){case"input":if(to(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=bu(h);if(!f)throw Error(t(90));mi(h),to(h,f)}}}break;case"textarea":Ie(r,l);break;case"select":s=l.value,s!=null&&he(r,!!l.multiple,s,!1)}},fs=df,Aa=Os;var NS={usingClientEntryPoint:!1,Events:[Ga,ko,bu,wr,Ra,df]},ll={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bS={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ka(r),r===null?null:r.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||kS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{vs=gc.inject(bS),An=gc}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS,Tn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wf(s))throw Error(t(200));return PS(r,s,null,l)},Tn.createRoot=function(r,s){if(!wf(r))throw Error(t(299));var l=!1,h="",f=ky;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=vf(r,1,!1,null,null,l,!1,h,f),r[Jr]=s.current,Wa(r.nodeType===8?r.parentNode:r),new Ef(s)},Tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ka(s),r=r===null?null:r.stateNode,r},Tn.flushSync=function(r){return Os(r)},Tn.hydrate=function(r,s,l){if(!pc(s))throw Error(t(200));return mc(null,r,s,!0,l)},Tn.hydrateRoot=function(r,s,l){if(!wf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",w=ky;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=Cy(s,null,r,1,l??null,f,!1,g,w),r[Jr]=s.current,Wa(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new fc(s)},Tn.render=function(r,s,l){if(!pc(s))throw Error(t(200));return mc(null,r,s,!1,l)},Tn.unmountComponentAtNode=function(r){if(!pc(r))throw Error(t(40));return r._reactRootContainer?(Os(function(){mc(null,null,r,!1,function(){r._reactRootContainer=null,r[Jr]=null})}),!0):!1},Tn.unstable_batchedUpdates=df,Tn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!pc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return mc(r,s,l,!1,h)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var Fy;function G_(){if(Fy)return If.exports;Fy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),If.exports=jS(),If.exports}var Uy;function BS(){if(Uy)return yc;Uy=1;var n=G_();return yc.createRoot=n.createRoot,yc.hydrateRoot=n.hydrateRoot,yc}var zS=BS();G_();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cl.apply(this,arguments)}var Ki;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ki||(Ki={}));const jy="popstate";function qS(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return Qf("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:zc(o)}return WS(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Q_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $S(){return Math.random().toString(36).substr(2,8)}function By(n,e){return{usr:n.state,key:n.key,idx:e}}function Qf(n,e,t,i){return t===void 0&&(t=null),Cl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?fa(e):e,{state:t,key:e&&e.key||i||$S()})}function zc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function fa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function WS(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d=Ki.Pop,p=null,y=_();y==null&&(y=0,u.replaceState(Cl({},u.state,{idx:y}),""));function _(){return(u.state||{idx:null}).idx}function E(){d=Ki.Pop;let k=_(),Z=k==null?null:k-y;y=k,p&&p({action:d,location:U.location,delta:Z})}function R(k,Z){d=Ki.Push;let Q=Qf(U.location,k,Z);y=_()+1;let Y=By(Q,y),ae=U.createHref(Q);try{u.pushState(Y,"",ae)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(ae)}a&&p&&p({action:d,location:U.location,delta:1})}function F(k,Z){d=Ki.Replace;let Q=Qf(U.location,k,Z);y=_();let Y=By(Q,y),ae=U.createHref(Q);u.replaceState(Y,"",ae),a&&p&&p({action:d,location:U.location,delta:0})}function V(k){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof k=="string"?k:zc(k);return Q=Q.replace(/ $/,"%20"),Et(Z,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,Z)}let U={get action(){return d},get location(){return n(o,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jy,E),p=k,()=>{o.removeEventListener(jy,E),p=null}},createHref(k){return e(o,k)},createURL:V,encodeLocation(k){let Z=V(k);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:R,replace:F,go(k){return u.go(k)}};return U}var zy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(zy||(zy={}));function HS(n,e,t){return t===void 0&&(t="/"),KS(n,e,t,!1)}function KS(n,e,t,i){let o=typeof e=="string"?fa(e):e,a=na(o.pathname||"/",t);if(a==null)return null;let u=J_(n);GS(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let y=sI(a);d=rI(u[p],y,i)}return d}function J_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,u,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=Qi([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(Et(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),J_(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:tI(y,a.index),routesMeta:_})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let p of X_(a.path))o(a,u,p)}),e}function X_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=X_(i.join("/")),d=[];return d.push(...u.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function GS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const QS=/^:[\w-]+$/,JS=3,XS=2,YS=1,ZS=10,eI=-2,qy=n=>n==="*";function tI(n,e){let t=n.split("/"),i=t.length;return t.some(qy)&&(i+=eI),e&&(i+=XS),t.filter(o=>!qy(o)).reduce((o,a)=>o+(QS.test(a)?JS:a===""?YS:ZS),i)}function nI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function rI(n,e,t){let{routesMeta:i}=n,o={},a="/",u=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),R=p.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Qi([a,E.pathname]),pathnameBase:uI(Qi([a,E.pathnameBase])),route:R}),E.pathnameBase!=="/"&&(a=Qi([a,E.pathnameBase]))}return u}function qc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=iI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,_,E)=>{let{paramName:R,isOptional:F}=_;if(R==="*"){let U=d[E]||"";u=a.slice(0,a.length-U.length).replace(/(.)\/+$/,"$1")}const V=d[E];return F&&!V?y[R]=void 0:y[R]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:n}}function iI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Q_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function sI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function na(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function oI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?fa(n):n;return{pathname:t?t.startsWith("/")?t:aI(t,e):e,search:cI(i),hash:hI(o)}}function aI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Y_(n,e){let t=lI(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Z_(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=fa(n):(o=Cl({},n),Et(!o.pathname||!o.pathname.includes("?"),Cf("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),Cf("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),Cf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!i&&u.startsWith("..")){let R=u.split("/");for(;R[0]==="..";)R.shift(),E-=1;o.pathname=R.join("/")}d=E>=0?e[E]:"/"}let p=oI(o,d),y=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}const Qi=n=>n.join("/").replace(/\/\/+/g,"/"),uI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const e0=["post","put","patch","delete"];new Set(e0);const fI=["get",...e0];new Set(fI);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pl.apply(this,arguments)}const vh=de.createContext(null),t0=de.createContext(null),os=de.createContext(null),_h=de.createContext(null),Gs=de.createContext({outlet:null,matches:[],isDataRoute:!1}),n0=de.createContext(null);function pI(n,e){let{relative:t}=e===void 0?{}:e;jl()||Et(!1);let{basename:i,navigator:o}=de.useContext(os),{hash:a,pathname:u,search:d}=Eh(n,{relative:t}),p=u;return i!=="/"&&(p=u==="/"?i:Qi([i,u])),o.createHref({pathname:p,search:d,hash:a})}function jl(){return de.useContext(_h)!=null}function Bl(){return jl()||Et(!1),de.useContext(_h).location}function r0(n){de.useContext(os).static||de.useLayoutEffect(n)}function pa(){let{isDataRoute:n}=de.useContext(Gs);return n?CI():mI()}function mI(){jl()||Et(!1);let n=de.useContext(vh),{basename:e,future:t,navigator:i}=de.useContext(os),{matches:o}=de.useContext(Gs),{pathname:a}=Bl(),u=JSON.stringify(Y_(o,t.v7_relativeSplatPath)),d=de.useRef(!1);return r0(()=>{d.current=!0}),de.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=Z_(y,JSON.parse(u),a,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(_.replace?i.replace:i.push)(E,_.state,_)},[e,i,u,a,n])}function Eh(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=de.useContext(os),{matches:o}=de.useContext(Gs),{pathname:a}=Bl(),u=JSON.stringify(Y_(o,i.v7_relativeSplatPath));return de.useMemo(()=>Z_(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function gI(n,e){return yI(n,e)}function yI(n,e,t,i){jl()||Et(!1);let{navigator:o}=de.useContext(os),{matches:a}=de.useContext(Gs),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let y=Bl(),_;if(e){var E;let k=typeof e=="string"?fa(e):e;p==="/"||(E=k.pathname)!=null&&E.startsWith(p)||Et(!1),_=k}else _=y;let R=_.pathname||"/",F=R;if(p!=="/"){let k=p.replace(/^\//,"").split("/");F="/"+R.replace(/^\//,"").split("/").slice(k.length).join("/")}let V=HS(n,{pathname:F}),U=TI(V&&V.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Qi([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Qi([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,i);return e&&U?de.createElement(_h.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Ki.Pop}},U):U}function vI(){let n=AI(),e=dI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:o},t):null,null)}const _I=de.createElement(vI,null);class EI extends de.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?de.createElement(Gs.Provider,{value:this.props.routeContext},de.createElement(n0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wI(n){let{routeContext:e,match:t,children:i}=n,o=de.useContext(vh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),de.createElement(Gs.Provider,{value:e},i)}function TI(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=u.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);_>=0||Et(!1),u=u.slice(0,Math.min(u.length,_+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<u.length;_++){let E=u[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:R,errors:F}=t,V=E.route.loader&&R[E.route.id]===void 0&&(!F||F[E.route.id]===void 0);if(E.route.lazy||V){p=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((_,E,R)=>{let F,V=!1,U=null,k=null;t&&(F=d&&E.route.id?d[E.route.id]:void 0,U=E.route.errorElement||_I,p&&(y<0&&R===0?(V=!0,k=null):y===R&&(V=!0,k=E.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,R+1)),Q=()=>{let Y;return F?Y=U:V?Y=k:E.route.Component?Y=de.createElement(E.route.Component,null):E.route.element?Y=E.route.element:Y=_,de.createElement(wI,{match:E,routeContext:{outlet:_,matches:Z,isDataRoute:t!=null},children:Y})};return t&&(E.route.ErrorBoundary||E.route.errorElement||R===0)?de.createElement(EI,{location:t.location,revalidation:t.revalidation,component:U,error:F,children:Q(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):Q()},null)}var i0=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(i0||{}),$c=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}($c||{});function SI(n){let e=de.useContext(vh);return e||Et(!1),e}function II(n){let e=de.useContext(t0);return e||Et(!1),e}function RI(n){let e=de.useContext(Gs);return e||Et(!1),e}function s0(n){let e=RI(),t=e.matches[e.matches.length-1];return t.route.id||Et(!1),t.route.id}function AI(){var n;let e=de.useContext(n0),t=II($c.UseRouteError),i=s0($c.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function CI(){let{router:n}=SI(i0.UseNavigateStable),e=s0($c.UseNavigateStable),t=de.useRef(!1);return r0(()=>{t.current=!0}),de.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Pl({fromRouteId:e},a)))},[n,e])}const $y={};function PI(n,e){$y[e]||($y[e]=!0,console.warn(e))}const Wy=(n,e,t)=>PI(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function kI(n,e){n!=null&&n.v7_startTransition||Wy("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(n!=null&&n.v7_relativeSplatPath)&&!e&&Wy("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function pr(n){Et(!1)}function xI(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Ki.Pop,navigator:a,static:u=!1,future:d}=n;jl()&&Et(!1);let p=e.replace(/^\/*/,"/"),y=de.useMemo(()=>({basename:p,navigator:a,static:u,future:Pl({v7_relativeSplatPath:!1},d)}),[p,d,a,u]);typeof i=="string"&&(i=fa(i));let{pathname:_="/",search:E="",hash:R="",state:F=null,key:V="default"}=i,U=de.useMemo(()=>{let k=na(_,p);return k==null?null:{location:{pathname:k,search:E,hash:R,state:F,key:V},navigationType:o}},[p,_,E,R,F,V,o]);return U==null?null:de.createElement(os.Provider,{value:y},de.createElement(_h.Provider,{children:t,value:U}))}function NI(n){let{children:e,location:t}=n;return gI(Jf(e),t)}new Promise(()=>{});function Jf(n,e){e===void 0&&(e=[]);let t=[];return de.Children.forEach(n,(i,o)=>{if(!de.isValidElement(i))return;let a=[...e,o];if(i.type===de.Fragment){t.push.apply(t,Jf(i.props.children,a));return}i.type!==pr&&Et(!1),!i.props.index||!i.props.children||Et(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Jf(i.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wc.apply(this,arguments)}function o0(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function bI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OI(n,e){return n.button===0&&(!e||e==="_self")&&!bI(n)}const DI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],VI="6";try{window.__reactRouterVersion=VI}catch{}const MI=de.createContext({isTransitioning:!1}),FI="startTransition",Hy=MS[FI];function UI(n){let{basename:e,children:t,future:i,window:o}=n,a=de.useRef();a.current==null&&(a.current=qS({window:o,v5Compat:!0}));let u=a.current,[d,p]=de.useState({action:u.action,location:u.location}),{v7_startTransition:y}=i||{},_=de.useCallback(E=>{y&&Hy?Hy(()=>p(E)):p(E)},[p,y]);return de.useLayoutEffect(()=>u.listen(_),[u,_]),de.useEffect(()=>kI(i),[i]),de.createElement(xI,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:i})}const jI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zI=de.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:u,state:d,target:p,to:y,preventScrollReset:_,viewTransition:E}=e,R=o0(e,DI),{basename:F}=de.useContext(os),V,U=!1;if(typeof y=="string"&&BI.test(y)&&(V=y,jI))try{let Y=new URL(window.location.href),ae=y.startsWith("//")?new URL(Y.protocol+y):new URL(y),fe=na(ae.pathname,F);ae.origin===Y.origin&&fe!=null?y=fe+ae.search+ae.hash:U=!0}catch{}let k=pI(y,{relative:o}),Z=$I(y,{replace:u,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function Q(Y){i&&i(Y),Y.defaultPrevented||Z(Y)}return de.createElement("a",Wc({},R,{href:V||k,onClick:U||a?i:Q,ref:t,target:p}))}),$o=de.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:a="",end:u=!1,style:d,to:p,viewTransition:y,children:_}=e,E=o0(e,LI),R=Eh(p,{relative:E.relative}),F=Bl(),V=de.useContext(t0),{navigator:U,basename:k}=de.useContext(os),Z=V!=null&&WI(R)&&y===!0,Q=U.encodeLocation?U.encodeLocation(R).pathname:R.pathname,Y=F.pathname,ae=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;o||(Y=Y.toLowerCase(),ae=ae?ae.toLowerCase():null,Q=Q.toLowerCase()),ae&&k&&(ae=na(ae,k)||ae);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ve=Y===Q||!u&&Y.startsWith(Q)&&Y.charAt(fe)==="/",N=ae!=null&&(ae===Q||!u&&ae.startsWith(Q)&&ae.charAt(Q.length)==="/"),S={isActive:ve,isPending:N,isTransitioning:Z},C=ve?i:void 0,P;typeof a=="function"?P=a(S):P=[a,ve?"active":null,N?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let D=typeof d=="function"?d(S):d;return de.createElement(zI,Wc({},E,{"aria-current":C,className:P,ref:t,style:D,to:p,viewTransition:y}),typeof _=="function"?_(S):_)});var Xf;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Xf||(Xf={}));var Ky;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function qI(n){let e=de.useContext(vh);return e||Et(!1),e}function $I(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,p=pa(),y=Bl(),_=Eh(n,{relative:u});return de.useCallback(E=>{if(OI(E,t)){E.preventDefault();let R=i!==void 0?i:zc(y)===zc(_);p(n,{replace:R,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[y,p,_,i,o,t,n,a,u,d])}function WI(n,e){e===void 0&&(e={});let t=de.useContext(MI);t==null&&Et(!1);let{basename:i}=qI(Xf.useViewTransitionState),o=Eh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=na(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=na(t.nextLocation.pathname,i)||t.nextLocation.pathname;return qc(o.pathname,u)!=null||qc(o.pathname,a)!=null}var Wo={},Gy;function HI(){if(Gy)return Wo;Gy=1,Object.defineProperty(Wo,"__esModule",{value:!0});var n=K_(),e=yh(),t=function(){return t=Object.assign||function(p){for(var y,_=1,E=arguments.length;_<E;_++)for(var R in y=arguments[_])Object.prototype.hasOwnProperty.call(y,R)&&(p[R]=y[R]);return p},t.apply(this,arguments)};function i(p,y){var _,E;switch(y.type){case"TYPE":return t(t({},p),{speed:y.speed,text:(_=y.payload)===null||_===void 0?void 0:_.substring(0,p.text.length+1)});case"DELAY":return t(t({},p),{speed:y.payload});case"DELETE":return t(t({},p),{speed:y.speed,text:(E=y.payload)===null||E===void 0?void 0:E.substring(0,p.text.length-1)});case"COUNT":return t(t({},p),{count:p.count+1});default:return p}}var o=function(p){var y=p.words,_=y===void 0?["Hello World!","This is","a simple Typewriter"]:y,E=p.loop,R=E===void 0?1:E,F=p.typeSpeed,V=F===void 0?80:F,U=p.deleteSpeed,k=U===void 0?50:U,Z=p.delaySpeed,Q=Z===void 0?1500:Z,Y=p.onLoopDone,ae=p.onType,fe=p.onDelete,ve=p.onDelay,N=e.useReducer(i,{speed:V,text:"",count:0}),S=N[0],C=S.speed,P=S.text,D=S.count,x=N[1],I=e.useRef(0),Ne=e.useRef(!1),Ae=e.useRef(!1),Ge=e.useRef(!1),Re=e.useRef(!1),se=e.useCallback(function(){var me=D%_.length,ce=_[me];Ae.current?(x({type:"DELETE",payload:ce,speed:k}),P===""&&(Ae.current=!1,x({type:"COUNT"}))):(x({type:"TYPE",payload:ce,speed:V}),Ge.current=!0,P===ce&&(x({type:"DELAY",payload:Q}),Ge.current=!1,Re.current=!0,setTimeout(function(){Re.current=!1,Ae.current=!0},Q),R>0&&(I.current+=1,I.current/_.length===R&&(Re.current=!1,Ne.current=!0)))),Ge.current&&ae&&ae(I.current),Ae.current&&fe&&fe(),Re.current&&ve&&ve()},[D,Q,k,R,V,_,P,ae,fe,ve]);return e.useEffect(function(){var me=setTimeout(se,C);return Ne.current&&clearTimeout(me),function(){return clearTimeout(me)}},[se,C]),e.useEffect(function(){Y&&Ne.current&&Y()},[Y]),[P,{isType:Ge.current,isDelay:Re.current,isDelete:Ae.current,isDone:Ne.current}]},a="styles-module_blinkingCursor__yugAC",u="styles-module_blinking__9VXRT";(function(p,y){y===void 0&&(y={});var _=y.insertAt;if(typeof document<"u"){var E=document.head||document.getElementsByTagName("head")[0],R=document.createElement("style");R.type="text/css",_==="top"&&E.firstChild?E.insertBefore(R,E.firstChild):E.appendChild(R),R.styleSheet?R.styleSheet.cssText=p:R.appendChild(document.createTextNode(p))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var d=e.memo(function(p){var y=p.cursorBlinking,_=y===void 0||y,E=p.cursorStyle,R=E===void 0?"|":E,F=p.cursorColor,V=F===void 0?"inherit":F;return n.jsx("span",t({style:{color:V},className:"".concat(a," ").concat(_?u:"")},{children:R}))});return Wo.Cursor=d,Wo.Typewriter=function(p){var y=p.words,_=y===void 0?["Hello World!","This is","a simple Typewriter"]:y,E=p.loop,R=E===void 0?1:E,F=p.typeSpeed,V=F===void 0?80:F,U=p.deleteSpeed,k=U===void 0?50:U,Z=p.delaySpeed,Q=Z===void 0?1500:Z,Y=p.cursor,ae=Y!==void 0&&Y,fe=p.cursorStyle,ve=fe===void 0?"|":fe,N=p.cursorColor,S=N===void 0?"inherit":N,C=p.cursorBlinking,P=C===void 0||C,D=p.onLoopDone,x=p.onType,I=p.onDelay,Ne=p.onDelete,Ae=o({words:_,loop:R,typeSpeed:V,deleteSpeed:k,delaySpeed:Q,onLoopDone:D,onType:x,onDelay:I,onDelete:Ne})[0];return n.jsxs(n.Fragment,{children:[n.jsx("span",{children:Ae}),ae&&n.jsx(d,{cursorStyle:ve,cursorColor:S,cursorBlinking:P})]})},Wo.useTypewriter=o,Wo}var ra=HI();const wh="/aviron-bourges/assets/logo-club-DFI51XyS.png";function KI(){return z.jsx(z.Fragment,{children:z.jsxs("div",{className:"w-full h-screen flex items-center justify-center flex-col gap-2",children:[z.jsx("img",{src:wh,alt:" logo du site",className:"mb-4 object-contain"}),z.jsxs("h1",{className:"text-4xl text-white font-black mb-2 text-center uppercase flex items-center",children:[z.jsx(ra.Typewriter,{typeSpeed:50,words:["bienvenue","au","club","d'aviron","de","bourges"],loop:0}),z.jsx("span",{children:z.jsx(ra.Cursor,{})})]})]})})}function GI(){const n=({isActive:e})=>({fontWeight:e?"bold":"normal"});return z.jsxs("nav",{className:"w-full h-16 flex  items-center jusitfy-between space-x-4 bg-[white] px-3 py-6 mt-2",children:[z.jsx("img",{src:wh,alt:"logo du site",className:"w-10 h-10"}),z.jsx($o,{style:n,className:"text-[red-500] font-semibold",to:"/",children:"Acceuil "}),z.jsx($o,{style:n,className:"text-[red-500] font-semibold",to:"/presentation",children:"prsentation du club "}),z.jsx($o,{style:n,className:"text-[red-500] font-semibold",to:"/horaires",children:" horaires et tarifs "}),z.jsx($o,{style:n,className:"text-[red-500] font-semibold",to:"/register",children:" devenir Membres du site"}),z.jsx($o,{style:n,className:"text-[red-500] font-semibold",to:"/login",children:" Se connecter "}),z.jsx($o,{style:n,className:"text-[red-500] font-semibold",to:"/formulaire",children:" Contacts "})]})}function QI(){return z.jsx("footer",{className:"w-full h-16  bg-[white]",children:z.jsx("p",{className:"text-center text-[red]",children:" site cre et dvlopp par webdevloppement18 tout droits rservs "})})}var Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},l0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|d>>4;let R=(d&15)<<2|y>>6,F=y&63;p||(F=64,u||(R=64)),i.push(t[_],t[E],t[R],t[F])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(a0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||E==null)throw new XI;const R=a<<2|d>>4;if(i.push(R),y!==64){const F=d<<4&240|y>>2;if(i.push(F),E!==64){const V=y<<6&192|E;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(n){const e=a0(n);return l0.encodeByteArray(e,!0)},Hc=function(n){return YI(n).replace(/\./g,"")},u0=function(n){try{return l0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=()=>ZI().__FIREBASE_DEFAULTS__,t1=()=>{if(typeof process>"u"||typeof Qy>"u")return;const n=Qy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&u0(n[1]);return e&&JSON.parse(e)},Th=()=>{try{return e1()||t1()||n1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},c0=n=>{var e,t;return(t=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},r1=n=>{const e=c0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},h0=()=>{var n;return(n=Th())===null||n===void 0?void 0:n.config},d0=n=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hc(JSON.stringify(t)),Hc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function a1(){var n;const e=(n=Th())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function c1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h1(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function d1(){return!a1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function p1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class pi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=m1,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?g1(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new pi(o,d,i)}}function g1(n,e){return n.replace(y1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const y1=/\{\$([^}]+)}/g;function v1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(Jy(a)&&Jy(u)){if(!Kc(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Jy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ml(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function gl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _1(n,e){const t=new E1(n,e);return t.subscribe.bind(t)}class E1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");w1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Pf),o.error===void 0&&(o.error=Pf),o.complete===void 0&&(o.complete=Pf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n){return n&&n._delegate?n._delegate:n}class qs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new i1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I1(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:S1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S1(n){return n===Ms?void 0:n}function I1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const A1={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},C1=He.INFO,P1={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},k1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=P1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=C1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const x1=(n,e)=>e.some(t=>n instanceof t);let Xy,Yy;function N1(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b1(){return Yy||(Yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,Yf=new WeakMap,p0=new WeakMap,kf=new WeakMap,Np=new WeakMap;function O1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ji(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&f0.set(t,n)}).catch(()=>{}),Np.set(e,n),e}function D1(n){if(Yf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Yf.set(n,e)}let Zf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||p0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ji(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L1(n){Zf=n(Zf)}function V1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(xf(this),e,...t);return p0.set(i,e.sort?e.sort():[e]),Ji(i)}:b1().includes(n)?function(...e){return n.apply(xf(this),e),Ji(f0.get(this))}:function(...e){return Ji(n.apply(xf(this),e))}}function M1(n){return typeof n=="function"?V1(n):(n instanceof IDBTransaction&&D1(n),x1(n,N1())?new Proxy(n,Zf):n)}function Ji(n){if(n instanceof IDBRequest)return O1(n);if(kf.has(n))return kf.get(n);const e=M1(n);return e!==n&&(kf.set(n,e),Np.set(e,n)),e}const xf=n=>Np.get(n);function F1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Ji(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Ji(u.result),p.oldVersion,p.newVersion,Ji(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const U1=["get","getKey","getAll","getAllKeys","count"],j1=["put","add","delete","clear"],Nf=new Map;function Zy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=j1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||U1.includes(t)))return;const a=async function(u,...d){const p=this.transaction(u,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Nf.set(e,a),a}L1(n=>({...n,get:(e,t,i)=>Zy(e,t)||n.get(e,t,i),has:(e,t)=>!!Zy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(z1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function z1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",ev="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new xp("@firebase/app"),q1="@firebase/app-compat",$1="@firebase/analytics-compat",W1="@firebase/analytics",H1="@firebase/app-check-compat",K1="@firebase/app-check",G1="@firebase/auth",Q1="@firebase/auth-compat",J1="@firebase/database",X1="@firebase/data-connect",Y1="@firebase/database-compat",Z1="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",rR="@firebase/messaging",iR="@firebase/messaging-compat",sR="@firebase/performance",oR="@firebase/performance-compat",aR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",hR="@firebase/firestore",dR="@firebase/vertexai",fR="@firebase/firestore-compat",pR="firebase",mR="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",gR={[ep]:"fire-core",[q1]:"fire-core-compat",[W1]:"fire-analytics",[$1]:"fire-analytics-compat",[K1]:"fire-app-check",[H1]:"fire-app-check-compat",[G1]:"fire-auth",[Q1]:"fire-auth-compat",[J1]:"fire-rtdb",[X1]:"fire-data-connect",[Y1]:"fire-rtdb-compat",[Z1]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[rR]:"fire-fcm",[iR]:"fire-fcm-compat",[sR]:"fire-perf",[oR]:"fire-perf-compat",[aR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[hR]:"fire-fst",[fR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,yR=new Map,np=new Map;function tv(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ia(n){const e=n.name;if(np.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,n);for(const t of Gc.values())tv(t,n);for(const t of yR.values())tv(t,n);return!0}function bp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new zl("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=mR;function m0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(t||(t=h0()),!t)throw Xi.create("no-options");const a=Gc.get(o);if(a){if(Kc(t,a.options)&&Kc(i,a.config))return a;throw Xi.create("duplicate-app",{appName:o})}const u=new R1(o);for(const p of np.values())u.addComponent(p);const d=new _R(t,i,u);return Gc.set(o,d),d}function g0(n=tp){const e=Gc.get(n);if(!e&&n===tp&&h0())return m0();if(!e)throw Xi.create("no-app",{appName:n});return e}function Yi(n,e,t){var i;let o=(i=gR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(d.join(" "));return}ia(new qs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",wR=1,kl="firebase-heartbeat-store";let bf=null;function y0(){return bf||(bf=F1(ER,wR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xi.create("idb-open",{originalErrorMessage:n.message})})),bf}async function TR(n){try{const t=(await y0()).transaction(kl),i=await t.objectStore(kl).get(v0(n));return await t.done,i}catch(e){if(e instanceof pi)ci.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(t.message)}}}async function nv(n,e){try{const i=(await y0()).transaction(kl,"readwrite");await i.objectStore(kl).put(e,v0(n)),await i.done}catch(t){if(t instanceof pi)ci.warn(t.message);else{const i=Xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ci.warn(i.message)}}}function v0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1024,IR=30*24*60*60*1e3;class RR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=IR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:i,unsentEntries:o}=AR(this._heartbeatsCache.heartbeats),a=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ci.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function AR(n,e=SR){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),iv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),iv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class CR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?p1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return nv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return nv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iv(n){return Hc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n){ia(new qs("platform-logger",e=>new B1(e),"PRIVATE")),ia(new qs("heartbeat",e=>new RR(e),"PRIVATE")),Yi(ep,ev,n),Yi(ep,ev,"esm2017"),Yi("fire-js","")}PR("");function Op(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function _0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kR=_0,E0=new zl("auth","Firebase",_0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new xp("@firebase/auth");function xR(n,...e){Qc.logLevel<=He.WARN&&Qc.warn(`Auth (${ma}): ${n}`,...e)}function Ac(n,...e){Qc.logLevel<=He.ERROR&&Qc.error(`Auth (${ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,...e){throw Dp(n,...e)}function Vr(n,...e){return Dp(n,...e)}function w0(n,e,t){const i=Object.assign(Object.assign({},kR()),{[e]:t});return new zl("auth","Firebase",i).create(e,{appName:n.name})}function li(n){return w0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return E0.create(n,...e)}function be(n,e,...t){if(!n)throw Dp(e,...t)}function si(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ac(e),new Error(e)}function hi(n,e){n||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function NR(){return sv()==="http:"||sv()==="https:"}function sv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NR()||u1()||"connection"in navigator)?navigator.onLine:!0}function OR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=o1()||c1()}get(){return bR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n,e){hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new $l(3e4,6e4);function as(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ls(n,e,t,i,o={}){return S0(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=ql(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return l1()||(y.referrerPolicy="no-referrer"),T0.fetch()(I0(n,n.config.apiHost,t,d),y)})}async function S0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},DR),e);try{const o=new MR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw vc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw vc(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw vc(n,"user-disabled",u);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw w0(n,_,y);yr(n,_)}}catch(o){if(o instanceof pi)throw o;yr(n,"network-request-failed",{message:String(o)})}}async function Wl(n,e,t,i,o={}){const a=await ls(n,e,t,i,o);return"mfaPendingCredential"in a&&yr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function I0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Lp(n.config,o):`${n.config.apiScheme}://${o}`}function VR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Vr(this.auth,"network-request-failed")),LR.get())})}}function vc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Vr(n,e,i);return o.customData._tokenResponse=t,o}function ov(n){return n!==void 0&&n.enterprise!==void 0}class FR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UR(n,e){return ls(n,"GET","/v2/recaptchaConfig",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e){return ls(n,"POST","/v1/accounts:delete",e)}async function R0(n,e){return ls(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BR(n,e=!1){const t=Jn(n),i=await t.getIdToken(e),o=Vp(i);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:wl(Of(o.auth_time)),issuedAtTime:wl(Of(o.iat)),expirationTime:wl(Of(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Of(n){return Number(n)*1e3}function Vp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=u0(t);return o?JSON.parse(o):(Ac("Failed to decode base64 JWT payload"),null)}catch(o){return Ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function av(n){const e=Vp(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pi&&zR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await xl(n,R0(t,{idToken:i}));be(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?A0(a.providerUserInfo):[],d=WR(n.providerData,u),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new ip(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function $R(n){const e=Jn(n);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function A0(n){return n.map(e=>{var{providerId:t}=e,i=Op(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n,e){const t=await S0(n,{},async()=>{const i=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=I0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",T0.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KR(n,e){return ls(n,"POST","/v2/accounts:revokeToken",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=av(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await HR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new Yo;return i&&(be(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(be(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(be(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ip(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await xl(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Jc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await xl(this,jR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,d,p,y,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,F=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,V=(u=t.photoURL)!==null&&u!==void 0?u:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:ae,isAnonymous:fe,providerData:ve,stsTokenManager:N}=t;be(Y&&N,e,"internal-error");const S=Yo.fromJSON(this.name,N);be(typeof Y=="string",e,"internal-error"),Bi(E,e.name),Bi(R,e.name),be(typeof ae=="boolean",e,"internal-error"),be(typeof fe=="boolean",e,"internal-error"),Bi(F,e.name),Bi(V,e.name),Bi(U,e.name),Bi(k,e.name),Bi(Z,e.name),Bi(Q,e.name);const C=new oi({uid:Y,auth:e,email:R,emailVerified:ae,displayName:E,isAnonymous:fe,photoURL:V,phoneNumber:F,tenantId:U,stsTokenManager:S,createdAt:Z,lastLoginAt:Q});return ve&&Array.isArray(ve)&&(C.providerData=ve.map(P=>Object.assign({},P))),k&&(C._redirectEventId=k),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Yo;o.updateFromServerResponse(t);const a=new oi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Jc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];be(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?A0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Yo;d.updateFromIdToken(i);const p=new oi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Map;function ai(n){hi(n instanceof Function,"Expected a class definition");let e=lv.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}C0.type="NONE";const uv=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n,e,t){return`firebase:${n}:${e}:${t}`}class Zo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Cc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Cc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Zo(ai(uv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ai(uv);const u=Cc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(u);if(_){const E=oi._fromJSON(e,_);y!==a&&(d=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Zo(a,e,i):(a=p[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new Zo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O0(e))return"Blackberry";if(D0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||x0(e))&&!e.includes("edge/"))return"Chrome";if(b0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function P0(n=un()){return/firefox\//i.test(n)}function k0(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x0(n=un()){return/crios\//i.test(n)}function N0(n=un()){return/iemobile/i.test(n)}function b0(n=un()){return/android/i.test(n)}function O0(n=un()){return/blackberry/i.test(n)}function D0(n=un()){return/webos/i.test(n)}function Mp(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GR(n=un()){var e;return Mp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QR(){return h1()&&document.documentMode===10}function L0(n=un()){return Mp(n)||b0(n)||D0(n)||O0(n)||/windows phone/i.test(n)||N0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n,e=[]){let t;switch(n){case"Browser":t=cv(un());break;case"Worker":t=`${cv(un())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,d)=>{try{const p=e(a);u(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n,e={}){return ls(n,"GET","/v2/passwordPolicy",as(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=6;class ZR{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:YR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new JR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await R0(this,{idToken:e}),i=await oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(li(this));const t=e?Jn(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),t=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await KR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ai(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&xR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Qs(n){return Jn(n)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=_1(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tA(n){Sh=n}function M0(n){return Sh.loadJS(n)}function nA(){return Sh.recaptchaEnterpriseScript}function rA(){return Sh.gapiScript}function iA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class sA{constructor(){this.enterprise=new oA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const aA="recaptcha-enterprise",F0="NO_RECAPTCHA";class lA{constructor(e){this.type=aA,this.auth=Qs(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{UR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new FR(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,u(y.siteKey)}}).catch(p=>{d(p)})})}function o(a,u,d){const p=window.grecaptcha;ov(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{u(y)}).catch(()=>{u(F0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!t&&ov(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nA();p.length!==0&&(p+=d),M0(p).then(()=>{o(d,a,u)}).catch(y=>{u(y)})}}).catch(d=>{u(d)})})}}async function dv(n,e,t,i=!1,o=!1){const a=new lA(n);let u;if(o)u=F0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function sp(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dv(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n,e){const t=bp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Kc(a,e??{}))return o;yr(o,"already-initialized")}return t.initialize({options:e})}function cA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ai);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function hA(n,e,t){const i=Qs(n);be(i._canInitEmulator,i,"emulator-config-failed"),be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=U0(e),{host:u,port:d}=dA(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${u}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),fA()}function U0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dA(n){const e=U0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:fv(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:fv(u)}}}function fv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function pA(n,e){return ls(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n,e){return Wl(n,"POST","/v1/accounts:signInWithPassword",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(n,e){return Wl(n,"POST","/v1/accounts:signInWithEmailLink",as(n,e))}async function yA(n,e){return Wl(n,"POST","/v1/accounts:signInWithEmailLink",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Fp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Nl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Nl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,t,"signInWithPassword",mA);case"emailLink":return gA(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,i,"signUpPassword",pA);case"emailLink":return yA(e,{idToken:t,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n,e){return Wl(n,"POST","/v1/accounts:signInWithIdp",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="http://localhost";class $s extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Op(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new $s(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ea(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ea(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ea(e,t)}buildRequest(){const e={requestUri:vA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ql(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EA(n){const e=ml(gl(n)).link,t=e?ml(gl(e)).deep_link_id:null,i=ml(gl(n)).deep_link_id;return(i?ml(gl(i)).link:null)||i||t||e||n}class Up{constructor(e){var t,i,o,a,u,d;const p=ml(gl(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,E=_A((o=p.mode)!==null&&o!==void 0?o:null);be(y&&_&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=EA(e);try{return new Up(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,t){return Nl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Up.parseLink(t);return be(i,"argument-error"),Nl._fromEmailAndCode(e,i.code,i.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends j0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Hl{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return qi.credential(t,i)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Hl{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Hl{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Wi.credential(t,i)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n,e){return Wl(n,"POST","/v1/accounts:signUp",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await oi._fromIdTokenResponse(e,i,o),u=pv(i);return new Ws({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=pv(i);return new Ws({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function pv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends pi{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Xc(e,t,i,o)}}function B0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(n,a,e,i):a})}async function TA(n,e,t=!1){const i=await xl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ws._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(n,e,t=!1){const{auth:i}=n;if(Dr(i.app))return Promise.reject(li(i));const o="reauthenticate";try{const a=await xl(n,B0(i,o,e,n),t);be(a.idToken,i,"internal-error");const u=Vp(a.idToken);be(u,i,"internal-error");const{sub:d}=u;return be(n.uid===d,i,"user-mismatch"),Ws._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&yr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(n,e,t=!1){if(Dr(n.app))return Promise.reject(li(n));const i="signIn",o=await B0(n,i,e),a=await Ws._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function IA(n,e){return z0(Qs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(n){const e=Qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RA(n,e,t){if(Dr(n.app))return Promise.reject(li(n));const i=Qs(n),u=await sp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&q0(n),p}),d=await Ws._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function AA(n,e,t){return Dr(n.app)?Promise.reject(li(n)):IA(Jn(n),ga.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&q0(n),i})}function CA(n,e,t,i){return Jn(n).onIdTokenChanged(e,t,i)}function PA(n,e,t){return Jn(n).beforeAuthStateChanged(e,t)}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=1e3,xA=10;class W0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);QR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},kA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}W0.type="LOCAL";const NA=W0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}H0.type="SESSION";const K0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async y=>y(t.origin,a)),p=await bA(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,p)=>{const y=jp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(E){const R=E;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(R.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function DA(n){Mr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function LA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function MA(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",FA=1,Zc="firebaseLocalStorage",J0="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rh(n,e){return n.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function UA(){const n=indexedDB.deleteDatabase(Q0);return new Kl(n).toPromise()}function op(){const n=indexedDB.open(Q0,FA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zc,{keyPath:J0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Zc)?e(i):(i.close(),await UA(),e(await op()))})})}async function mv(n,e,t){const i=Rh(n,!0).put({[J0]:e,value:t});return new Kl(i).toPromise()}async function jA(n,e){const t=Rh(n,!1).get(e),i=await new Kl(t).toPromise();return i===void 0?null:i.value}function gv(n,e){const t=Rh(n,!0).delete(e);return new Kl(t).toPromise()}const BA=800,zA=3;class X0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(MA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LA(),!this.activeServiceWorker)return;this.sender=new OA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await mv(e,Yc,"1"),await gv(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>jA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Rh(o,!1).getAll();return new Kl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X0.type="LOCAL";const qA=X0;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n,e){return e?ai(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WA(n){return z0(n.auth,new Bp(n),n.bypassAuthState)}function HA(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),SA(t,new Bp(n),n.bypassAuthState)}async function KA(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),TA(t,new Bp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WA;case"linkViaPopup":case"linkViaRedirect":return KA;case"reauthViaPopup":case"reauthViaRedirect":return HA;default:yr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new $l(2e3,1e4);class Xo extends Y0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GA.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="pendingRedirect",Pc=new Map;class JA extends Y0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const i=await XA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XA(n,e){const t=eC(e),i=ZA(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function YA(n,e){Pc.set(n._key(),e)}function ZA(n){return ai(n._redirectPersistence)}function eC(n){return Cc(QA,n.config.apiKey,n.name)}async function tC(n,e,t=!1){if(Dr(n.app))return Promise.reject(li(n));const i=Qs(n),o=$A(i,e),u=await new JA(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=10*60*1e3;class rC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Z0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Vr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(yv(e))}saveEventToCache(e){this.cachedEventUids.add(yv(e)),this.lastProcessedEventTime=Date.now()}}function yv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(n,e={}){return ls(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aC=/^https?/;async function lC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sC(n);for(const t of e)try{if(uC(t))return}catch{}yr(n,"unauthorized-domain")}function uC(n){const e=rp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!aC.test(t))return!1;if(oC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new $l(3e4,6e4);function vv(){const n=Mr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hC(n){return new Promise((e,t)=>{var i,o,a;function u(){vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vv(),t(Vr(n,"network-request-failed"))},timeout:cC.get()})}if(!((o=(i=Mr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Mr().gapi)===null||a===void 0)&&a.load)u();else{const d=iA("iframefcb");return Mr()[d]=()=>{gapi.load?u():t(Vr(n,"network-request-failed"))},M0(`${rA()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw kc=null,e})}let kc=null;function dC(n){return kc=kc||hC(n),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new $l(5e3,15e3),pC="__/auth/iframe",mC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vC(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lp(e,mC):`https://${n.config.authDomain}/${pC}`,i={apiKey:e.apiKey,appName:n.name,v:ma},o=yC.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${ql(i).slice(1)}`}async function _C(n){const e=await dC(n),t=Mr().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:vC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Vr(n,"network-request-failed"),d=Mr().setTimeout(()=>{a(u)},fC.get());function p(){Mr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wC=500,TC=600,SC="_blank",IC="http://localhost";class _v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(n,e,t,i=wC,o=TC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},EC),{width:i.toString(),height:o.toString(),top:a,left:u}),y=un().toLowerCase();t&&(d=x0(y)?SC:t),P0(y)&&(e=e||IC,p.scrollbars="yes");const _=Object.entries(p).reduce((R,[F,V])=>`${R}${F}=${V},`,"");if(GR(y)&&d!=="_self")return AC(e||"",d),new _v(null);const E=window.open(e||"",d,_);be(E,n,"popup-blocked");try{E.focus()}catch{}return new _v(E)}function AC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__/auth/handler",PC="emulator/auth/handler",kC=encodeURIComponent("fac");async function Ev(n,e,t,i,o,a){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ma,eventId:o};if(e instanceof j0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",v1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof Hl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${kC}=${encodeURIComponent(p)}`:"";return`${xC(n)}?${ql(d).slice(1)}${y}`}function xC({config:n}){return n.emulator?Lp(n,PC):`https://${n.authDomain}/${CC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K0,this._completeRedirectFn=tC,this._overrideRedirectResult=YA}async _openPopup(e,t,i,o){var a;hi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Ev(e,t,i,rp(),o);return RC(e,u,jp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Ev(e,t,i,rp(),o);return DA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(hi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await _C(e),i=new rC(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Df,{type:Df},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Df];u!==void 0&&t(!!u),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return L0()||k0()||Mp()}}const bC=NC;var wv="@firebase/auth",Tv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(n){ia(new qs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V0(n)},y=new eA(i,o,a,p);return cA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ia(new qs("auth-internal",e=>{const t=Qs(e.getProvider("auth").getImmediate());return(i=>new OC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(wv,Tv,DC(n)),Yi(wv,Tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=5*60,MC=d0("authIdTokenMaxAge")||VC;let Sv=null;const FC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>MC)return;const o=t==null?void 0:t.token;Sv!==o&&(Sv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UC(n=g0()){const e=bp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uA(n,{popupRedirectResolver:bC,persistence:[qA,NA,K0]}),i=d0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=FC(a.toString());PA(t,u,()=>u(t.currentUser)),CA(t,d=>u(d))}}const o=c0("auth");return o&&hA(t,`http://${o}`),t}function jC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Vr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",jC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var BC="firebase",zC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(BC,zC,"app");var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,eE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.D=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(P,D,x){for(var I=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)I[Ne-2]=arguments[Ne];return S.prototype[D].apply(P,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);var P=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)P[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;16>D;++D)P[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],D=N.g[2];var x=N.g[3],I=S+(x^C&(D^x))+P[0]+3614090360&4294967295;S=C+(I<<7&4294967295|I>>>25),I=x+(D^S&(C^D))+P[1]+3905402710&4294967295,x=S+(I<<12&4294967295|I>>>20),I=D+(C^x&(S^C))+P[2]+606105819&4294967295,D=x+(I<<17&4294967295|I>>>15),I=C+(S^D&(x^S))+P[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=S+(x^C&(D^x))+P[4]+4118548399&4294967295,S=C+(I<<7&4294967295|I>>>25),I=x+(D^S&(C^D))+P[5]+1200080426&4294967295,x=S+(I<<12&4294967295|I>>>20),I=D+(C^x&(S^C))+P[6]+2821735955&4294967295,D=x+(I<<17&4294967295|I>>>15),I=C+(S^D&(x^S))+P[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=S+(x^C&(D^x))+P[8]+1770035416&4294967295,S=C+(I<<7&4294967295|I>>>25),I=x+(D^S&(C^D))+P[9]+2336552879&4294967295,x=S+(I<<12&4294967295|I>>>20),I=D+(C^x&(S^C))+P[10]+4294925233&4294967295,D=x+(I<<17&4294967295|I>>>15),I=C+(S^D&(x^S))+P[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=S+(x^C&(D^x))+P[12]+1804603682&4294967295,S=C+(I<<7&4294967295|I>>>25),I=x+(D^S&(C^D))+P[13]+4254626195&4294967295,x=S+(I<<12&4294967295|I>>>20),I=D+(C^x&(S^C))+P[14]+2792965006&4294967295,D=x+(I<<17&4294967295|I>>>15),I=C+(S^D&(x^S))+P[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=S+(D^x&(C^D))+P[1]+4129170786&4294967295,S=C+(I<<5&4294967295|I>>>27),I=x+(C^D&(S^C))+P[6]+3225465664&4294967295,x=S+(I<<9&4294967295|I>>>23),I=D+(S^C&(x^S))+P[11]+643717713&4294967295,D=x+(I<<14&4294967295|I>>>18),I=C+(x^S&(D^x))+P[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=S+(D^x&(C^D))+P[5]+3593408605&4294967295,S=C+(I<<5&4294967295|I>>>27),I=x+(C^D&(S^C))+P[10]+38016083&4294967295,x=S+(I<<9&4294967295|I>>>23),I=D+(S^C&(x^S))+P[15]+3634488961&4294967295,D=x+(I<<14&4294967295|I>>>18),I=C+(x^S&(D^x))+P[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=S+(D^x&(C^D))+P[9]+568446438&4294967295,S=C+(I<<5&4294967295|I>>>27),I=x+(C^D&(S^C))+P[14]+3275163606&4294967295,x=S+(I<<9&4294967295|I>>>23),I=D+(S^C&(x^S))+P[3]+4107603335&4294967295,D=x+(I<<14&4294967295|I>>>18),I=C+(x^S&(D^x))+P[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=S+(D^x&(C^D))+P[13]+2850285829&4294967295,S=C+(I<<5&4294967295|I>>>27),I=x+(C^D&(S^C))+P[2]+4243563512&4294967295,x=S+(I<<9&4294967295|I>>>23),I=D+(S^C&(x^S))+P[7]+1735328473&4294967295,D=x+(I<<14&4294967295|I>>>18),I=C+(x^S&(D^x))+P[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=S+(C^D^x)+P[5]+4294588738&4294967295,S=C+(I<<4&4294967295|I>>>28),I=x+(S^C^D)+P[8]+2272392833&4294967295,x=S+(I<<11&4294967295|I>>>21),I=D+(x^S^C)+P[11]+1839030562&4294967295,D=x+(I<<16&4294967295|I>>>16),I=C+(D^x^S)+P[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=S+(C^D^x)+P[1]+2763975236&4294967295,S=C+(I<<4&4294967295|I>>>28),I=x+(S^C^D)+P[4]+1272893353&4294967295,x=S+(I<<11&4294967295|I>>>21),I=D+(x^S^C)+P[7]+4139469664&4294967295,D=x+(I<<16&4294967295|I>>>16),I=C+(D^x^S)+P[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=S+(C^D^x)+P[13]+681279174&4294967295,S=C+(I<<4&4294967295|I>>>28),I=x+(S^C^D)+P[0]+3936430074&4294967295,x=S+(I<<11&4294967295|I>>>21),I=D+(x^S^C)+P[3]+3572445317&4294967295,D=x+(I<<16&4294967295|I>>>16),I=C+(D^x^S)+P[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=S+(C^D^x)+P[9]+3654602809&4294967295,S=C+(I<<4&4294967295|I>>>28),I=x+(S^C^D)+P[12]+3873151461&4294967295,x=S+(I<<11&4294967295|I>>>21),I=D+(x^S^C)+P[15]+530742520&4294967295,D=x+(I<<16&4294967295|I>>>16),I=C+(D^x^S)+P[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=S+(D^(C|~x))+P[0]+4096336452&4294967295,S=C+(I<<6&4294967295|I>>>26),I=x+(C^(S|~D))+P[7]+1126891415&4294967295,x=S+(I<<10&4294967295|I>>>22),I=D+(S^(x|~C))+P[14]+2878612391&4294967295,D=x+(I<<15&4294967295|I>>>17),I=C+(x^(D|~S))+P[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=S+(D^(C|~x))+P[12]+1700485571&4294967295,S=C+(I<<6&4294967295|I>>>26),I=x+(C^(S|~D))+P[3]+2399980690&4294967295,x=S+(I<<10&4294967295|I>>>22),I=D+(S^(x|~C))+P[10]+4293915773&4294967295,D=x+(I<<15&4294967295|I>>>17),I=C+(x^(D|~S))+P[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=S+(D^(C|~x))+P[8]+1873313359&4294967295,S=C+(I<<6&4294967295|I>>>26),I=x+(C^(S|~D))+P[15]+4264355552&4294967295,x=S+(I<<10&4294967295|I>>>22),I=D+(S^(x|~C))+P[6]+2734768916&4294967295,D=x+(I<<15&4294967295|I>>>17),I=C+(x^(D|~S))+P[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=S+(D^(C|~x))+P[4]+4149444226&4294967295,S=C+(I<<6&4294967295|I>>>26),I=x+(C^(S|~D))+P[11]+3174756917&4294967295,x=S+(I<<10&4294967295|I>>>22),I=D+(S^(x|~C))+P[2]+718787259&4294967295,D=x+(I<<15&4294967295|I>>>17),I=C+(x^(D|~S))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+x&4294967295}i.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var C=S-this.blockSize,P=this.B,D=this.h,x=0;x<S;){if(D==0)for(;x<=C;)o(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<S;)if(P[D++]=N.charCodeAt(x++),D==this.blockSize){o(this,P),D=0;break}}else for(;x<S;)if(P[D++]=N[x++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=S},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var C=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=C&255,C/=256;for(this.u(N),N=Array(16),S=C=0;4>S;++S)for(var P=0;32>P;P+=8)N[C++]=this.g[S]>>>P&255;return N};function a(N,S){var C=d;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function u(N,S){this.h=S;for(var C=[],P=!0,D=N.length-1;0<=D;D--){var x=N[D]|0;P&&x==S||(C[D]=x,P=!1)}this.g=C}var d={};function p(N){return-128<=N&&128>N?a(N,function(S){return new u([S|0],0>S?-1:0)}):new u([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return E;if(0>N)return k(y(-N));for(var S=[],C=1,P=0;N>=C;P++)S[P]=N/C|0,C*=4294967296;return new u(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return k(_(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),P=E,D=0;D<N.length;D+=8){var x=Math.min(8,N.length-D),I=parseInt(N.substring(D,D+x),S);8>x?(x=y(Math.pow(S,x)),P=P.j(x).add(y(I))):(P=P.j(C),P=P.add(y(I)))}return P}var E=p(0),R=p(1),F=p(16777216);n=u.prototype,n.m=function(){if(U(this))return-k(this).m();for(var N=0,S=1,C=0;C<this.g.length;C++){var P=this.i(C);N+=(0<=P?P:4294967296+P)*S,S*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V(this))return"0";if(U(this))return"-"+k(this).toString(N);for(var S=y(Math.pow(N,6)),C=this,P="";;){var D=ae(C,S).g;C=Z(C,D.j(S));var x=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=D,V(C))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function V(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function U(N){return N.h==-1}n.l=function(N){return N=Z(this,N),U(N)?-1:V(N)?0:1};function k(N){for(var S=N.g.length,C=[],P=0;P<S;P++)C[P]=~N.g[P];return new u(C,~N.h).add(R)}n.abs=function(){return U(this)?k(this):this},n.add=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0,D=0;D<=S;D++){var x=P+(this.i(D)&65535)+(N.i(D)&65535),I=(x>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);P=I>>>16,x&=65535,I&=65535,C[D]=I<<16|x}return new u(C,C[C.length-1]&-2147483648?-1:0)};function Z(N,S){return N.add(k(S))}n.j=function(N){if(V(this)||V(N))return E;if(U(this))return U(N)?k(this).j(k(N)):k(k(this).j(N));if(U(N))return k(this.j(k(N)));if(0>this.l(F)&&0>N.l(F))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,C=[],P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<N.g.length;D++){var x=this.i(P)>>>16,I=this.i(P)&65535,Ne=N.i(D)>>>16,Ae=N.i(D)&65535;C[2*P+2*D]+=I*Ae,Q(C,2*P+2*D),C[2*P+2*D+1]+=x*Ae,Q(C,2*P+2*D+1),C[2*P+2*D+1]+=I*Ne,Q(C,2*P+2*D+1),C[2*P+2*D+2]+=x*Ne,Q(C,2*P+2*D+2)}for(P=0;P<S;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=S;P<2*S;P++)C[P]=0;return new u(C,0)};function Q(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function Y(N,S){this.g=N,this.h=S}function ae(N,S){if(V(S))throw Error("division by zero");if(V(N))return new Y(E,E);if(U(N))return S=ae(k(N),S),new Y(k(S.g),k(S.h));if(U(S))return S=ae(N,k(S)),new Y(k(S.g),S.h);if(30<N.g.length){if(U(N)||U(S))throw Error("slowDivide_ only works with positive integers.");for(var C=R,P=S;0>=P.l(N);)C=fe(C),P=fe(P);var D=ve(C,1),x=ve(P,1);for(P=ve(P,2),C=ve(C,2);!V(P);){var I=x.add(P);0>=I.l(N)&&(D=D.add(C),x=I),P=ve(P,1),C=ve(C,1)}return S=Z(N,D.j(S)),new Y(D,S)}for(D=E;0<=N.l(S);){for(C=Math.max(1,Math.floor(N.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=y(C),I=x.j(S);U(I)||0<I.l(N);)C-=P,x=y(C),I=x.j(S);V(x)&&(x=R),D=D.add(x),N=Z(N,I)}return new Y(D,N)}n.A=function(N){return ae(this,N).h},n.and=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)&N.i(P);return new u(C,this.h&N.h)},n.or=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)|N.i(P);return new u(C,this.h|N.h)},n.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)^N.i(P);return new u(C,this.h^N.h)};function fe(N){for(var S=N.g.length+1,C=[],P=0;P<S;P++)C[P]=N.i(P)<<1|N.i(P-1)>>>31;return new u(C,N.h)}function ve(N,S){var C=S>>5;S%=32;for(var P=N.g.length-C,D=[],x=0;x<P;x++)D[x]=0<S?N.i(x+C)>>>S|N.i(x+C+1)<<32-S:N.i(x+C);return new u(D,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,Bs=u}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tE,yl,nE,xc,ap,rE,iE,sE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(c,m){if(m)e:{var v=i;c=c.split(".");for(var T=0;T<c.length-1;T++){var j=c[T];if(!(j in v))break e;v=v[j]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function a(c,m){c instanceof String&&(c+="");var v=0,T=!1,j={next:function(){if(!T&&v<c.length){var H=v++;return{value:m(H,c[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function E(c,m,v){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function R(c,m,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,R.apply(null,arguments)}function F(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function V(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(T,j,H){for(var ue=Array(arguments.length-2),st=2;st<arguments.length;st++)ue[st-2]=arguments[st];return m.prototype[j].apply(T,ue)}}function U(c){const m=c.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function k(c,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const j=c.length||0,H=T.length||0;c.length=j+H;for(let ue=0;ue<H;ue++)c[j+ue]=T[ue]}else c.push(T)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var fe=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ve(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function N(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function S(c){const m={};for(const v in c)m[v]=c[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)c[v]=T[v];for(let H=0;H<C.length;H++)v=C[H],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function D(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function x(c){d.setTimeout(()=>{throw c},0)}function I(){var c=me;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,v){const T=Ae.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Ae=new Z(()=>new Ge,c=>c.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,se=!1,me=new Ne,ce=()=>{const c=d.Promise.resolve(void 0);Re=()=>{c.then(M)}};var M=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){x(v)}var m=Ae;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}se=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c}();function Be(c,m){if(Se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(fe){e:{try{ae(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ze[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Be.aa.h.call(this)}}V(Be,Se);var ze={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function it(c,m,v,T,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++Qe,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vn(c){this.src=c,this.g={},this.h=0}Vn.prototype.add=function(c,m,v,T,j){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ue=Xn(c,m,T,j);return-1<ue?(m=c[ue],v||(m.fa=!1)):(m=new it(m,this.src,H,!!T,j),m.fa=v,c.push(m)),m};function mi(c,m){var v=m.type;if(v in c.g){var T=c.g[v],j=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=j)&&Array.prototype.splice.call(T,j,1),H&&(At(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Xn(c,m,v,T){for(var j=0;j<c.length;++j){var H=c[j];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return j}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),us={};function eo(c,m,v,T,j){if(Array.isArray(m)){for(var H=0;H<m.length;H++)eo(c,m[H],v,T,j);return null}return v=Me(v),c&&c[Ye]?c.K(m,v,y(T)?!!T.capture:!!T,j):to(c,m,v,!1,T,j)}function to(c,m,v,T,j,H){if(!m)throw Error("Invalid event type");var ue=y(j)?!!j.capture:!!j,st=ie(c);if(st||(c[_r]=st=new Vn(c)),v=st.add(m,v,T,ue,H),v.proxy)return v;if(T=b(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)Ue||(j=ue),j===void 0&&(j=!1),c.addEventListener(m.toString(),T,j);else if(c.attachEvent)c.attachEvent(he(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function b(){function c(v){return m.call(c.src,c.listener,v)}const m=le;return c}function $(c,m,v,T,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)$(c,m[H],v,T,j);else T=y(T)?!!T.capture:!!T,v=Me(v),c&&c[Ye]?(c=c.i,m=String(m).toString(),m in c.g&&(H=c.g[m],v=Xn(H,v,T,j),-1<v&&(At(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete c.g[m],c.h--)))):c&&(c=ie(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Xn(m,v,T,j)),(v=-1<c?m[c]:null)&&K(v))}function K(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ye])mi(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(he(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ie(m))?(mi(v,c),v.h==0&&(v.src=null,m[_r]=null)):At(c)}}}function he(c){return c in us?us[c]:us[c]="on"+c}function le(c,m){if(c.da)c=!0;else{m=new Be(m,this);var v=c.listener,T=c.ha||c.src;c.fa&&K(c),c=v.call(T,m)}return c}function ie(c){return c=c[_r],c instanceof Vn?c:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(c){return typeof c=="function"?c:(c[Ie]||(c[Ie]=function(m){return c.handleEvent(m)}),c[Ie])}function qe(){J.call(this),this.i=new Vn(this),this.M=this,this.F=null}V(qe,J),qe.prototype[Ye]=!0,qe.prototype.removeEventListener=function(c,m,v,T){$(this,c,m,v,T)};function $e(c,m){var v,T=c.F;if(T)for(v=[];T;T=T.F)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new Se(m,c);else if(m instanceof Se)m.target=m.target||c;else{var j=m;m=new Se(T,c),P(m,j)}if(j=!0,v)for(var H=v.length-1;0<=H;H--){var ue=m.g=v[H];j=Wt(ue,T,!0,m)&&j}if(ue=m.g=c,j=Wt(ue,T,!0,m)&&j,j=Wt(ue,T,!1,m)&&j,v)for(H=0;H<v.length;H++)ue=m.g=v[H],j=Wt(ue,T,!1,m)&&j}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],T=0;T<v.length;T++)At(v[T]);delete c.g[m],c.h--}}this.F=null},qe.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},qe.prototype.L=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function Wt(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,H=0;H<m.length;++H){var ue=m[H];if(ue&&!ue.da&&ue.capture==v){var st=ue.listener,Ot=ue.ha||ue.src;ue.fa&&mi(c.i,ue),j=st.call(Ot,T)!==!1&&j}}return j&&!T.defaultPrevented}function cs(c,m,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(c,m||0)}function Mn(c){c.g=cs(()=>{c.g=null,c.i&&(c.i=!1,Mn(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Yn extends J{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(c){J.call(this),this.h=c,this.g={}}V(qr,J);var gi=[];function hs(c){ve(c.g,function(m,v){this.g.hasOwnProperty(v)&&K(m)},c),c.g={}}qr.prototype.N=function(){qr.aa.N.call(this),hs(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=d.JSON.stringify,Sa=d.JSON.parse,Ia=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ds(){}ds.prototype.h=null;function no(c){return c.h||(c.h=c.i())}function ro(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){Se.call(this,"d")}V(Er,Se);function io(){Se.call(this,"c")}V(io,Se);var wr={},Ra=null;function fs(){return Ra=Ra||new qe}wr.La="serverreachability";function Aa(c){Se.call(this,wr.La,c)}V(Aa,Se);function $r(c){const m=fs();$e(m,new Aa(m))}wr.STAT_EVENT="statevent";function Ca(c,m){Se.call(this,wr.STAT_EVENT,c),this.stat=m}V(Ca,Se);function wt(c){const m=fs();$e(m,new Ca(m,c))}wr.Ma="timingevent";function so(c,m){Se.call(this,wr.Ma,c),this.size=m}V(so,Se);function Zn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function ms(c,m,v,T,j,H){c.info(function(){if(c.g)if(H)for(var ue="",st=H.split("&"),Ot=0;Ot<st.length;Ot++){var Ze=st[Ot].split("=");if(1<Ze.length){var jt=Ze[0];Ze=Ze[1];var Ct=jt.split("_");ue=2<=Ct.length&&Ct[1]=="type"?ue+(jt+"="+Ze+"&"):ue+(jt+"=redacted&")}}else ue=null;else ue=H;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+ue})}function oo(c,m,v,T,j,H,ue){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+H+" "+ue})}function er(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qh(c,v)+(T?" "+T:"")})}function Pa(c,m){c.info(function(){return"TIMEOUT: "+m})}ps.prototype.info=function(){};function Qh(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var T=v[c];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ue=1;ue<j.length;ue++)j[ue]=""}}}}return yi(v)}catch{return m}}var ao={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ru={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function gs(){}V(gs,ds),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},tr=new gs;function nr(c,m,v,T){this.j=c,this.i=m,this.l=v,this.R=T||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}var ka={},lo={};function uo(c,m,v){c.L=1,c.v=Ti(Cn(m)),c.m=v,c.P=!0,xa(c,null)}function xa(c,m){c.F=Date.now(),at(c),c.A=Cn(c.v);var v=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Ii(v.i,"t",T),c.C=0,v=c.j.J,c.h=new iu,c.g=Tu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Yn(R(c.Y,c,c.g),c.O)),m=c.U,v=c.g,T=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(gi[0]=j.toString()),j=gi);for(var H=0;H<j.length;H++){var ue=eo(v,j[H],T||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),$r(),ms(c.i,c.u,c.A,c.l,c.R,c.m)}nr.prototype.ca=function(c){c=c.target;const m=this.M;m&&gn(c)==3?m.j():this.Y(c)},nr.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=gn(this.g);var m=this.g.Ba();const Bn=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Va(this.g)))){this.J||Ct!=4||m==7||(m==8||0>=Bn?$r(3):$r(2)),ys(this);var v=this.g.Z();this.X=v;t:if(su(this)){var T=Va(this.g);c="";var j=T.length,H=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),vi(this);var ue="";break t}this.h.i=new d.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(T[m],{stream:!(H&&m==j-1)});T.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,oo(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Ot=this.g;if((st=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(st)){var Ze=st;break t}}Ze=null}if(v=Ze)er(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Na(this,v);else{this.o=!1,this.s=3,wt(12),Un(this),vi(this);break e}}if(this.P){v=!0;let kn;for(;!this.J&&this.C<ue.length;)if(kn=Jh(this,ue),kn==lo){Ct==4&&(this.s=4,wt(14),v=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==ka){this.s=4,wt(15),er(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else er(this.i,this.l,kn,null),Na(this,kn);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ue.length!=0||this.h.h||(this.s=1,wt(16),v=!1),this.o=this.o&&v,!v)er(this.i,this.l,ue,"[Invalid Chunked Response]"),Un(this),vi(this);else if(0<ue.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Fa(jt),jt.M=!0,wt(11))}}else er(this.i,this.l,ue,null),Na(this,ue);Ct==4&&Un(this),this.o&&!this.J&&(Ct==4?wo(this.j,this):(this.o=!1,at(this)))}else go(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Un(this),vi(this)}}}catch{}finally{}};function su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Jh(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?lo:(v=Number(m.substring(v,T)),isNaN(v)?ka:(T+=1,T+v>m.length?lo:(m=m.slice(T,T+v),c.C=T+v,m)))}nr.prototype.cancel=function(){this.J=!0,Un(this)};function at(c){c.S=Date.now()+c.I,ou(c,c.I)}function ou(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zn(R(c.ba,c),m)}function ys(c){c.B&&(d.clearTimeout(c.B),c.B=null)}nr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pa(this.i,this.A),this.L!=2&&($r(),wt(17)),Un(this),this.s=2,vi(this)):ou(this,this.S-c)};function vi(c){c.j.G==0||c.J||wo(c.j,c)}function Un(c){ys(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,hs(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Na(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||cn(v.h,c))){if(!c.K&&cn(v.h,c)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Eo(v),ar(v);else break e;_o(v),wt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Zn(R(v.Za,v),6e3));if(1>=lu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Qr(v,11)}else if((c.K||v.g==c)&&Eo(v),!Q(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let Ze=j[m];if(v.T=Ze[0],Ze=Ze[1],v.G==2)if(Ze[0]=="c"){v.K=Ze[1],v.ia=Ze[2];const jt=Ze[3];jt!=null&&(v.la=jt,v.j.info("VER="+v.la));const Ct=Ze[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Bn=Ze[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(T=1.5*Bn,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const kn=c.g;if(kn){const Is=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var H=T.h;H.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ba(H,H.h),H.h=null))}if(T.D){const So=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(T.ya=So,ot(T.I,T.D,So))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ue=c;if(T.qa=wu(T,T.J?T.ia:null,T.W),ue.K){uu(T.h,ue);var st=ue,Ot=T.L;Ot&&(st.I=Ot),st.B&&(ys(st),at(st)),T.g=ue}else Ss(T);0<v.i.length&&Rr(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Qr(v,7);else v.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Qr(v,7):Kt(v):Ze[0]!="noop"&&v.l&&v.l.ta(Ze),v.v=0)}}$r(4)}catch{}}var au=class{constructor(c,m){this.g=c,this.map=m}};function vs(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function lu(c){return c.h?1:c.g?c.g.size:0}function cn(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ba(c,m){c.g?c.g.add(m):c.h=m}function uu(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}vs.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return U(c.i)}function co(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],v=c.length,T=0;T<v;T++)m.push(c[T]);return m}m=[],v=0;for(T in c)m[v++]=c[T];return m}function ho(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const T in c)m[v++]=T;return m}}}function _i(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=ho(c),T=co(c),j=T.length,H=0;H<j;H++)m.call(void 0,T[H],v&&v[H],c)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var T=c[v].indexOf("="),j=null;if(0<=T){var H=c[v].substring(0,T);j=c[v].substring(T+1)}else H=c[v];m(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Wr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Wr){this.h=c.h,Es(this,c.j),this.o=c.o,this.g=c.g,Ei(this,c.s),this.l=c.l;var m=c.i,v=new Tr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),wi(this,v),this.m=c.m}else c&&(m=String(c).match(_s))?(this.h=!1,Es(this,m[1]||"",!0),this.o=Je(m[2]||""),this.g=Je(m[3]||"",!0),Ei(this,m[4]),this.l=Je(m[5]||"",!0),wi(this,m[6]||"",!0),this.m=Je(m[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}Wr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Si(m,fo,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Si(m,fo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Si(v,v.charAt(0)=="/"?fu:du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Si(v,Oa)),c.join("")};function Cn(c){return new Wr(c)}function Es(c,m,v){c.j=v?Je(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Ei(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function wi(c,m,v){m instanceof Tr?(c.i=m,Sr(c.i,c.h)):(v||(m=Si(m,pu)),c.i=new Tr(m,c.h))}function ot(c,m,v){c.i.set(m,v)}function Ti(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Je(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,hu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fo=/[#\/\?@]/g,du=/[#\?:]/g,fu=/[#\?]/g,pu=/[#\?@]/g,Oa=/#/g;function Tr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Ht(c){c.g||(c.g=new Map,c.h=0,c.i&&Xh(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Tr.prototype,n.add=function(c,m){Ht(this),this.i=null,c=jn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function rr(c,m){Ht(c),m=jn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ir(c,m){return Ht(c),m=jn(c,m),c.g.has(m)}n.forEach=function(c,m){Ht(this),this.g.forEach(function(v,T){v.forEach(function(j){c.call(m,j,T,this)},this)},this)},n.na=function(){Ht(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const j=c[T];for(let H=0;H<j.length;H++)v.push(m[T])}return v},n.V=function(c){Ht(this);let m=[];if(typeof c=="string")ir(this,c)&&(m=m.concat(this.g.get(jn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},n.set=function(c,m){return Ht(this),this.i=null,c=jn(this,c),ir(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},n.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Ii(c,m,v){rr(c,m),0<v.length&&(c.i=null,c.g.set(jn(c,m),U(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const H=encodeURIComponent(String(T)),ue=this.V(T);for(T=0;T<ue.length;T++){var j=H;ue[T]!==""&&(j+="="+encodeURIComponent(String(ue[T]))),c.push(j)}}return this.i=c.join("&")};function jn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Sr(c,m){m&&!c.j&&(Ht(c),c.i=null,c.g.forEach(function(v,T){var j=T.toLowerCase();T!=j&&(rr(this,T),Ii(this,j,v))},c)),c.j=m}function Yh(c,m){const v=new ps;if(d.Image){const T=new Image;T.onload=F(mn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=F(mn,v,"TestLoadImage: error",!1,m,T),T.onabort=F(mn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(mn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function mu(c,m){const v=new ps,T=new AbortController,j=setTimeout(()=>{T.abort(),mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(H=>{clearTimeout(j),H.ok?mn(v,"TestPingServer: ok",!0,m):mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),mn(v,"TestPingServer: error",!1,m)})}function mn(c,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function Zh(){this.g=new Ia}function gu(c,m,v){const T=v||"";try{_i(c,function(j,H){let ue=j;y(j)&&(ue=yi(j)),m.push(T+H+"="+encodeURIComponent(ue))})}catch(j){throw m.push(T+"type="+encodeURIComponent("_badmap")),j}}function Hr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Hr,ds),Hr.prototype.g=function(){return new ws(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({});function ws(c,m){qe.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(ws,qe),n=ws.prototype,n.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,or(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?sr(this):or(this),this.readyState==3&&yu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,sr(this))},n.Qa=function(c){this.g&&(this.response=c,sr(this))},n.ga=function(){this.g&&sr(this)};function sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,or(c)}n.setRequestHeader=function(c,m){this.u.append(c,m)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Kr(c){let m="";return ve(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ri(c,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Kr(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ot(c,m,v))}function dt(c){qe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(dt,qe);var ed=/^https?$/i,Da=["POST","PUT"];n=dt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?no(this.o):no(tr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){Ts(this,H);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Da,m,void 0))||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ue]of v)this.g.setRequestHeader(H,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){Ts(this,H)}};function Ts(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,po(c),Pn(c)}function po(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},n.bb=function(){La(this)};function La(c){if(c.h&&typeof u<"u"&&(!c.v[1]||gn(c)!=4||c.Z()!=2)){if(c.u&&gn(c)==4)cs(c.Ea,0,c);else if($e(c,"readystatechange"),gn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=ue===0){var j=String(c.D).match(_s)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),T=!ed.test(j?j.toLowerCase():"")}v=T}if(v)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var H=2<gn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",po(c)}}finally{Pn(c)}}}}function Pn(c,m){if(c.g){mo(c);const v=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||$e(c,"ready");try{v.onreadystatechange=T}catch{}}}function mo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function gn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Sa(m)}};function Va(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function go(c){const m={};c=(c.g&&2<=gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(Q(c[T]))continue;var v=D(c[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[j]||[];m[j]=H,H.push(v)}N(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ma(c){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,c),this.cb=Ir("retryDelaySeedMs",1e4,c),this.Wa=Ir("forwardChannelMaxRetries",2,c),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(c&&c.concurrentRequestLimit),this.Da=new Zh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ma.prototype,n.la=8,n.G=1,n.connect=function(c,m,v,T){wt(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=wu(this,null,this.W),Rr(this)};function Kt(c){if(yo(c),c.G==3){var m=c.U++,v=Cn(c.I);if(ot(v,"SID",c.K),ot(v,"RID",m),ot(v,"TYPE","terminate"),Gr(c,v),m=new nr(c,c.j,m),m.L=2,m.v=Ti(Cn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),at(m)}Eu(c)}function ar(c){c.g&&(Fa(c),c.g.cancel(),c.g=null)}function yo(c){ar(c),c.u&&(d.clearTimeout(c.u),c.u=null),Eo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Rr(c){if(!An(c.h)&&!c.s){c.s=!0;var m=c.Ga;Re||ce(),se||(Re(),se=!0),me.add(m,c),c.B=0}}function td(c,m){return lu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zn(R(c.Ga,c,m),_u(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new nr(this,this.j,c);let H=this.o;if(this.S&&(H?(H=S(H),P(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ai(this,j,m),v=Cn(this.I),ot(v,"RID",c),ot(v,"CVER",22),this.D&&ot(v,"X-HTTP-Session-Id",this.D),Gr(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(Kr(H)))+"&"+m:this.m&&Ri(v,this.m,H)),ba(this.h,j),this.Ua&&ot(v,"TYPE","init"),this.P?(ot(v,"$req",m),ot(v,"SID","null"),j.T=!0,uo(j,v,null)):uo(j,v,m),this.G=2}}else this.G==3&&(c?vo(this,c):this.i.length==0||An(this.h)||vo(this))};function vo(c,m){var v;m?v=m.l:v=c.U++;const T=Cn(c.I);ot(T,"SID",c.K),ot(T,"RID",v),ot(T,"AID",c.T),Gr(c,T),c.m&&c.o&&Ri(T,c.m,c.o),v=new nr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ai(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ba(c.h,v),uo(v,T,m)}function Gr(c,m){c.H&&ve(c.H,function(v,T){ot(m,T,v)}),c.l&&_i({},function(v,T){ot(m,T,v)})}function Ai(c,m,v){v=Math.min(c.i.length,v);var T=c.l?R(c.l.Na,c.l,c):null;e:{var j=c.i;let H=-1;for(;;){const ue=["count="+v];H==-1?0<v?(H=j[0].g,ue.push("ofs="+H)):H=0:ue.push("ofs="+H);let st=!0;for(let Ot=0;Ot<v;Ot++){let Ze=j[Ot].g;const jt=j[Ot].map;if(Ze-=H,0>Ze)H=Math.max(0,j[Ot].g-100),st=!1;else try{gu(jt,ue,"req"+Ze+"_")}catch{T&&T(jt)}}if(st){T=ue.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,T}function Ss(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Re||ce(),se||(Re(),se=!0),me.add(m,c),c.v=0}}function _o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zn(R(c.Fa,c),_u(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zn(R(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),ar(this),vu(this))};function Fa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function vu(c){c.g=new nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Cn(c.qa);ot(m,"RID","rpc"),ot(m,"SID",c.K),ot(m,"AID",c.T),ot(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(m,"TO",c.ja),ot(m,"TYPE","xmlhttp"),Gr(c,m),c.m&&c.o&&Ri(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ti(Cn(m)),v.m=null,v.P=!0,xa(v,c)}n.Za=function(){this.C!=null&&(this.C=null,ar(this),_o(this),wt(19))};function Eo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function wo(c,m){var v=null;if(c.g==m){Eo(c),Fa(c),c.g=null;var T=2}else if(cn(c.h,m))v=m.D,uu(c.h,m),T=1;else return;if(c.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;T=fs(),$e(T,new so(T,v)),Rr(c)}else Ss(c);else if(j=m.s,j==3||j==0&&0<m.X||!(T==1&&td(c,m)||T==2&&_o(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),j){case 1:Qr(c,5);break;case 4:Qr(c,10);break;case 3:Qr(c,6);break;default:Qr(c,2)}}}function _u(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Qr(c,m){if(c.j.info("Error code "+m),m==2){var v=R(c.fb,c),T=c.Xa;const j=!T;T=new Wr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Es(T,"https"),Ti(T),j?Yh(T.toString(),v):mu(T.toString(),v)}else wt(2);c.G=0,c.l&&c.l.sa(m),Eu(c),yo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const m=cu(c.h);(m.length!=0||c.i.length!=0)&&(k(c.ka,m),k(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function wu(c,m,v){var T=v instanceof Wr?Cn(v):new Wr(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ei(T,T.s);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var H=new Wr(null);T&&Es(H,T),m&&(H.g=m),j&&Ei(H,j),v&&(H.l=v),T=H}return v=c.D,m=c.ya,v&&m&&ot(T,v,m),ot(T,"VER",c.la),Gr(c,T),T}function Tu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new dt(new Hr({eb:v})):new dt(c.pa),m.Ha(c.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ua(){}n=Ua.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function To(){}To.prototype.g=function(c,m){return new hn(c,m)};function hn(c,m){qe.call(this),this.g=new Ma(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!Q(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Q(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ar(this)}V(hn,qe),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Kt(this.g)},hn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=yi(c),c=v);m.i.push(new au(m.Ya++,c)),m.G==3&&Rr(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,hn.aa.N.call(this)};function Su(c){Er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}V(Su,Er);function Iu(){io.call(this),this.status=1}V(Iu,io);function Ar(c){this.g=c}V(Ar,Ua),Ar.prototype.ua=function(){$e(this.g,"a")},Ar.prototype.ta=function(c){$e(this.g,new Su(c))},Ar.prototype.sa=function(c){$e(this.g,new Iu)},Ar.prototype.ra=function(){$e(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,sE=function(){return new To},iE=function(){return fs()},rE=wr,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,xc=ao,ru.COMPLETE="complete",nE=ru,ro.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",qe.prototype.listen=qe.prototype.K,yl=ro,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,tE=dt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new xp("@firebase/firestore");function Ko(){return Hs.logLevel}function ge(n,...e){if(Hs.logLevel<=He.DEBUG){const t=e.map(zp);Hs.debug(`Firestore (${ya}): ${n}`,...t)}}function di(n,...e){if(Hs.logLevel<=He.ERROR){const t=e.map(zp);Hs.error(`Firestore (${ya}): ${n}`,...t)}}function sa(n,...e){if(Hs.logLevel<=He.WARN){const t=e.map(zp);Hs.warn(`Firestore (${ya}): ${n}`,...t)}}function zp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+n;throw di(e),new Error(e)}function rt(n,e){n||Le()}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class $C{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ui,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ui)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string"),new oE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new on(e)}}class HC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class KC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new HC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){rt(this.o===void 0);const i=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string"),this.R=t.token,new GC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=JC(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function oa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ft(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ft(0,0))}static max(){return new Ve(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Le(),i===void 0?i=e.length-t:i>e.length-t&&Le(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return bl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pt extends bl{construct(e,t,i){return new pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends bl{construct(e,t,i){return new Yt(e,t,i)}static isValidIdentifier(e){return XC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Ce(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ce(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new Ce(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(pt.fromString(e))}static fromName(e){return new xe(pt.fromString(e).popFirst(5))}static empty(){return new xe(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new pt(e.slice()))}}function YC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new Ft(t+1,0):new Ft(t,i));return new es(o,xe.empty(),e)}function ZC(n){return new es(n.readTime,n.key,-1)}class es{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new es(Ve.min(),xe.empty(),-1)}static max(){return new es(Ve.max(),xe.empty(),-1)}}function eP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==tP)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},p=>i(p))}),u=!0,a===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(_=>{u[y]=_,++d,d===a&&i(u)},_=>o(_))}})}static doWhile(e,t){return new X((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function rP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _a(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ah.oe=-1;function Ch(n){return n==null}function eh(n){return n===0&&1/n==-1/0}function iP(n){return typeof n=="number"&&Number.isInteger(n)&&!eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Av(e)),e=oP(n.get(t),e);return Av(e)}function oP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Av(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Jt.RED,this.left=o??Jt.EMPTY,this.right=a??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Jt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new gr([])}unionWith(e){let t=new Ut(Yt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new gr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uE("Invalid base64 string: "+a):a}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const aP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(n){if(rt(!!n),typeof n=="string"){let e=0;const t=aP.exec(n);if(rt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ns(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ph(n){const e=n.mapValue.fields.__previous_value__;return qp(e)?Ph(e):e}function Ol(n){const e=ts(n.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,i,o,a,u,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class Dl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qp(n)?4:cP(n)?9007199254740991:uP(n)?10:11:Le()}function Br(n,e){if(n===e)return!0;const t=rs(n);if(t!==rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ts(o.timestampValue),d=ts(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ns(o.bytesValue).isEqual(ns(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return It(o.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return It(o.integerValue)===It(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=It(o.doubleValue),d=It(a.doubleValue);return u===d?eh(u)===eh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return oa(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Cv(u)!==Cv(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Br(u[p],d[p])))return!1;return!0}(n,e);default:return Le()}}function Ll(n,e){return(n.values||[]).find(t=>Br(t,e))!==void 0}function aa(n,e){if(n===e)return 0;const t=rs(n),i=rs(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=It(a.integerValue||a.doubleValue),p=It(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return kv(n.timestampValue,e.timestampValue);case 4:return kv(Ol(n),Ol(e));case 5:return Xe(n.stringValue,e.stringValue);case 6:return function(a,u){const d=ns(a),p=ns(u);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),p=u.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Xe(d[y],p[y]);if(_!==0)return _}return Xe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Xe(It(a.latitude),It(u.latitude));return d!==0?d:Xe(It(a.longitude),It(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,p,y,_;const E=a.fields||{},R=u.fields||{},F=(d=E.value)===null||d===void 0?void 0:d.arrayValue,V=(p=R.value)===null||p===void 0?void 0:p.arrayValue,U=Xe(((y=F==null?void 0:F.values)===null||y===void 0?void 0:y.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:xv(F,V)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===wc.mapValue&&u===wc.mapValue)return 0;if(a===wc.mapValue)return 1;if(u===wc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=u.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const R=Xe(p[E],_[E]);if(R!==0)return R;const F=aa(d[p[E]],y[_[E]]);if(F!==0)return F}return Xe(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Le()}}function kv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=ts(n),i=ts(e),o=Xe(t.seconds,i.seconds);return o!==0?o:Xe(t.nanos,i.nanos)}function xv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=aa(t[o],i[o]);if(a)return a}return Xe(t.length,i.length)}function la(n){return lp(n)}function lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ts(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return xe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=lp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${lp(t.fields[u])}`;return o+"}"}(n.mapValue):Le()}function Nc(n){switch(rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(n);return e?16+Nc(e):16;case 5:return 2*n.stringValue.length;case 6:return ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Nc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Js(i.fields,(a,u)=>{o+=a.length+Nc(u)}),o}(n.mapValue);default:throw Le()}}function up(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function Nv(n){return!!n&&"nullValue"in n}function bv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bc(n){return!!n&&"mapValue"in n}function uP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!bc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=Yt.emptyPath(),i={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}u?i[d.lastSegment()]=Tl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());bc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Js(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Qn(Tl(this.value))}}function cE(n){const e=[];return Js(n.fields,(t,i)=>{const o=new Yt([t]);if(bc(i)){const a=cE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,i,o,a,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Ve.min(),Ve.min(),Ve.min(),Qn.empty(),0)}static newFoundDocument(e,t,i,o){return new an(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new an(e,2,t,Ve.min(),Ve.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ve.min(),Ve.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.position=e,this.inclusive=t}}function Ov(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=xe.comparator(xe.fromName(u.referenceValue),t.key):i=aa(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Dv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function hP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{}class Mt extends hE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new fP(e,t,i):t==="array-contains"?new gP(e,i):t==="in"?new yP(e,i):t==="not-in"?new vP(e,i):t==="array-contains-any"?new _P(e,i):new Mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new pP(e,i):new mP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(aa(t,this.value)):t!==null&&rs(this.value)===rs(t)&&this.matchesComparison(aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends hE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new zr(e,t)}matches(e){return dE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dE(n){return n.op==="and"}function fE(n){return dP(n)&&dE(n)}function dP(n){for(const e of n.filters)if(e instanceof zr)return!1;return!0}function cp(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+la(n.value);if(fE(n))return n.filters.map(e=>cp(e)).join(",");{const e=n.filters.map(t=>cp(t)).join(",");return`${n.op}(${e})`}}function pE(n,e){return n instanceof Mt?function(i,o){return o instanceof Mt&&i.op===o.op&&i.field.isEqual(o.field)&&Br(i.value,o.value)}(n,e):n instanceof zr?function(i,o){return o instanceof zr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,d)=>a&&pE(u,o.filters[d]),!0):!1}(n,e):void Le()}function mE(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${la(t.value)}`}(n):n instanceof zr?function(t){return t.op.toString()+" {"+t.getFilters().map(mE).join(" ,")+"}"}(n):"Filter"}class fP extends Mt{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class pP extends Mt{constructor(e,t){super(e,"in",t),this.keys=gE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mP extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=gE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>xe.fromName(i.referenceValue))}class gP extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&Ll(t.arrayValue,this.value)}}class yP extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ll(this.value.arrayValue,t)}}class vP extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ll(this.value.arrayValue,t)}}class _P extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function Lv(n,e=null,t=[],i=[],o=null,a=null,u=null){return new EP(n,e,t,i,o,a,u)}function Wp(n){const e=Fe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>cp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>la(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>la(i)).join(",")),e.ue=t}return e.ue}function Hp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dv(n.startAt,e.startAt)&&Dv(n.endAt,e.endAt)}function hp(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t=null,i=[],o=[],a=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wP(n,e,t,i,o,a,u,d){return new kh(n,e,t,i,o,a,u,d)}function Kp(n){return new kh(n)}function Vv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TP(n){return n.collectionGroup!==null}function Sl(n){const e=Fe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ut(Yt.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new nh(a,i))}),t.has(Yt.keyField().canonicalString())||e.ce.push(new nh(Yt.keyField(),i))}return e.ce}function Fr(n){const e=Fe(n);return e.le||(e.le=SP(e,Sl(n))),e.le}function SP(n,e){if(n.limitType==="F")return Lv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new nh(o.field,a)});const t=n.endAt?new th(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new th(n.startAt.position,n.startAt.inclusive):null;return Lv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function dp(n,e,t){return new kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xh(n,e){return Hp(Fr(n),Fr(e))&&n.limitType===e.limitType}function yE(n){return`${Wp(Fr(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>mE(o)).join(", ")}]`),Ch(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>la(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>la(o)).join(",")),`Target(${i})`}(Fr(n))}; limitType=${n.limitType})`}function Nh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):xe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Sl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,d,p){const y=Ov(u,d,p);return u.inclusive?y<=0:y<0}(i.startAt,Sl(i),o)||i.endAt&&!function(u,d,p){const y=Ov(u,d,p);return u.inclusive?y>=0:y>0}(i.endAt,Sl(i),o))}(n,e)}function IP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vE(n){return(e,t)=>{let i=!1;for(const o of Sl(n)){const a=RP(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function RP(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):function(a,u,d){const p=u.data.field(a),y=d.data.field(a);return p!==null&&y!==null?aa(p,y):Le()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new vt(xe.comparator);function fi(){return AP}const _E=new vt(xe.comparator);function vl(...n){let e=_E;for(const t of n)e=e.insert(t.key,t);return e}function EE(n){let e=_E;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Fs(){return Il()}function wE(){return Il()}function Il(){return new Xs(n=>n.toString(),(n,e)=>n.isEqual(e))}const CP=new vt(xe.comparator),PP=new Ut(xe.comparator);function Ke(...n){let e=PP;for(const t of n)e=e.add(t);return e}const kP=new Ut(Xe);function xP(){return kP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function TE(n){return{integerValue:""+n}}function NP(n,e){return iP(e)?TE(e):Gp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function bP(n,e,t){return n instanceof rh?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&qp(a)&&(a=Ph(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Vl?IE(n,e):n instanceof Ml?RE(n,e):function(o,a){const u=SE(o,a),d=Mv(u)+Mv(o.Pe);return up(u)&&up(o.Pe)?TE(d):Gp(o.serializer,d)}(n,e)}function OP(n,e,t){return n instanceof Vl?IE(n,e):n instanceof Ml?RE(n,e):t}function SE(n,e){return n instanceof ih?function(i){return up(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class rh extends bh{}class Vl extends bh{constructor(e){super(),this.elements=e}}function IE(n,e){const t=AE(e);for(const i of n.elements)t.some(o=>Br(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ml extends bh{constructor(e){super(),this.elements=e}}function RE(n,e){let t=AE(e);for(const i of n.elements)t=t.filter(o=>!Br(o,i));return{arrayValue:{values:t}}}class ih extends bh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Mv(n){return It(n.integerValue||n.doubleValue)}function AE(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DP(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Vl&&o instanceof Vl||i instanceof Ml&&o instanceof Ml?oa(i.elements,o.elements,Br):i instanceof ih&&o instanceof ih?Br(i.Pe,o.Pe):i instanceof rh&&o instanceof rh}(n.transform,e.transform)}class LP{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Oh{}function CE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kE(n.key,Ur.none()):new Gl(n.key,n.data,Ur.none());{const t=n.data,i=Qn.empty();let o=new Ut(Yt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Ys(n.key,i,new gr(o.toArray()),Ur.none())}}function VP(n,e,t){n instanceof Gl?function(o,a,u){const d=o.value.clone(),p=Uv(o.fieldTransforms,a,u.transformResults);d.setAll(p),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ys?function(o,a,u){if(!Oc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Uv(o.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(PE(o)),p.setAll(d),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Rl(n,e,t,i){return n instanceof Gl?function(a,u,d,p){if(!Oc(a.precondition,u))return d;const y=a.value.clone(),_=jv(a.fieldTransforms,p,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ys?function(a,u,d,p){if(!Oc(a.precondition,u))return d;const y=jv(a.fieldTransforms,p,u),_=u.data;return _.setAll(PE(a)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,u,d){return Oc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function MP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=SE(i.transform,o||null);a!=null&&(t===null&&(t=Qn.empty()),t.set(i.field,a))}return t||null}function Fv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&oa(i,o,(a,u)=>DP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gl extends Oh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Oh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Uv(n,e,t){const i=new Map;rt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,OP(u,d,t[o]))}return i}function jv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,bP(a,u,e))}return i}class kE extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FP extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&VP(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Rl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Rl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=wE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const p=CE(u,d);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,i)=>Fv(t,i))&&oa(this.baseMutations,e.baseMutations,(t,i)=>Fv(t,i))}}class Qp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){rt(e.mutations.length===i.length);let o=function(){return CP}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Qp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,et;function zP(n){switch(n){default:return Le();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function xE(n){if(n===void 0)return di("GRPC error has no .code"),ne.UNKNOWN;switch(n){case kt.OK:return ne.OK;case kt.CANCELLED:return ne.CANCELLED;case kt.UNKNOWN:return ne.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ne.INTERNAL;case kt.UNAVAILABLE:return ne.UNAVAILABLE;case kt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case kt.NOT_FOUND:return ne.NOT_FOUND;case kt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case kt.ABORTED:return ne.ABORTED;case kt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case kt.DATA_LOSS:return ne.DATA_LOSS;default:return Le()}}(et=kt||(kt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Bs([4294967295,4294967295],0);function Bv(n){const e=qP().encode(n),t=new eE;return t.update(e),new Uint8Array(t.digest())}function zv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bs([t,i],0),new Bs([o,a],0)]}class Jp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _l(`Invalid padding: ${t}`);if(i<0)throw new _l(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _l(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Bs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Bs.fromNumber(i)));return o.compare($P)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Bv(e),[i,o]=zv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Jp(a,o,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=Bv(e),[i,o]=zv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Dh(Ve.min(),o,new vt(Xe),fi(),Ke())}}class Ql{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ql(i,t,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class NE{constructor(e,t){this.targetId=e,this.me=t}}class bE{constructor(e,t,i=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class qv{constructor(){this.fe=0,this.ge=$v(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ke(),t=Ke(),i=Ke();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Le()}}),new Ql(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=$v()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WP{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=Tc(),this.Qe=Tc(),this.Ke=new vt(Xe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Le()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(hp(a))if(i===0){const u=new xe(a.path);this.We(t,u,an.newNoDocument(u,Ve.min()))}else rt(i===1);else{const u=this.Ze(t);if(u!==i){const d=this.Xe(e),p=d?this.et(d,e,u):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=ns(i).toUint8Array()}catch(p){if(p instanceof uE)return sa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Jp(u,o,a)}catch(p){return sa(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Le.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&hp(d.target)){const p=new xe(d.target.path);this.st(p).has(u)||this.ot(u,p)||this.We(u,p,an.newNoDocument(p,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=Ke();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Dh(e,t,this.Ke,this.ke,i);return this.ke=fi(),this.qe=Tc(),this.Qe=Tc(),this.Ke=new vt(Xe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new qv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ut(Xe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ut(Xe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new qv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Tc(){return new vt(xe.comparator)}function $v(){return new vt(xe.comparator)}const HP={asc:"ASCENDING",desc:"DESCENDING"},KP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GP={and:"AND",or:"OR"};class QP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fp(n,e){return n.useProto3Json||Ch(e)?e:{value:e}}function sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JP(n,e){return sh(n,e.toTimestamp())}function jr(n){return rt(!!n),Ve.fromTimestamp(function(t){const i=ts(t);return new Ft(i.seconds,i.nanos)}(n))}function Xp(n,e){return pp(n,e).canonicalString()}function pp(n,e){const t=function(o){return new pt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DE(n){const e=pt.fromString(n);return rt(UE(e)),e}function mp(n,e){return Xp(n.databaseId,e.path)}function Lf(n,e){const t=DE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(VE(t))}function LE(n,e){return Xp(n.databaseId,e)}function XP(n){const e=DE(n);return e.length===4?pt.emptyPath():VE(e)}function gp(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VE(n){return rt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Wv(n,e,t){return{name:mp(n,e),fields:t.value.mapValue.fields}}function YP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(rt(_===void 0||typeof _=="string"),Zt.fromBase64String(_||"")):(rt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Zt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(y){const _=y.code===void 0?ne.UNKNOWN:xE(y.code);return new Ce(_,y.message||"")}(u);t=new bE(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Lf(n,i.document.name),a=jr(i.document.updateTime),u=i.document.createTime?jr(i.document.createTime):Ve.min(),d=new Qn({mapValue:{fields:i.document.fields}}),p=an.newFoundDocument(o,a,u,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Dc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Lf(n,i.document),a=i.readTime?jr(i.readTime):Ve.min(),u=an.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Dc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Lf(n,i.document),a=i.removedTargetIds||[];t=new Dc([],a,o,null)}else{if(!("filter"in e))return Le();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new BP(o,a),d=i.targetId;t=new NE(d,u)}}return t}function ZP(n,e){let t;if(e instanceof Gl)t={update:Wv(n,e.key,e.value)};else if(e instanceof kE)t={delete:mp(n,e.key)};else if(e instanceof Ys)t={update:Wv(n,e.key,e.data),updateMask:lk(e.fieldMask)};else{if(!(e instanceof FP))return Le();t={verify:mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const d=u.transform;if(d instanceof rh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ih)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Le()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:JP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le()}(n,e.precondition)),t}function ek(n,e){return n&&n.length>0?(rt(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?jr(o.updateTime):jr(a);return u.isEqual(Ve.min())&&(u=jr(a)),new LP(u,o.transformResults||[])}(t,e))):[]}function tk(n,e){return{documents:[LE(n,e.path)]}}function nk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=LE(n,o);const a=function(y){if(y.length!==0)return FE(zr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(y){if(y.length!==0)return y.map(_=>function(R){return{field:Qo(R.field),direction:sk(R.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=fp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function rk(n){let e=XP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){rt(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const R=ME(E);return R instanceof zr&&fE(R)?R.getFilters():[R]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(R=>function(V){return new nh(Jo(V.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(E){let R;return R=typeof E=="object"?E.value:E,Ch(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(E){const R=!!E.before,F=E.values||[];return new th(F,R)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const R=!E.before,F=E.values||[];return new th(F,R)}(t.endAt)),wP(e,o,u,a,d,"F",p,y)}function ik(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ME(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jo(t.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Jo(t.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jo(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(t.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(Jo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return zr.create(t.compositeFilter.filters.map(i=>ME(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le()}}(t.compositeFilter.op))}(n):Le()}function sk(n){return HP[n]}function ok(n){return KP[n]}function ak(n){return GP[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Jo(n){return Yt.fromServerFormat(n.fieldPath)}function FE(n){return n instanceof Mt?function(t){if(t.op==="=="){if(bv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(Nv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(Nv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:ok(t.op),value:t.value}}}(n):n instanceof zr?function(t){const i=t.getFilters().map(o=>FE(o));return i.length===1?i[0]:{compositeFilter:{op:ak(t.op),filters:i}}}(n):Le()}function lk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,i,o,a=Ve.min(),u=Ve.min(),d=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.ht=e}}function ck(n){const e=rk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.ln=new dk}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(es.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(es.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ut(pt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ut(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ua(0)}static Qn(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv([n,e],[t,i]){const o=Xe(n,t);return o===0?Xe(e,i):o}class fk{constructor(e){this.Gn=e,this.buffer=new Ut(Kv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Kv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_a(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.Yn(3e5)})}}class mk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Ah.oe);const i=new fk(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Hv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,u,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),Ko()<=He.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function gk(n,e){return new mk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.changes=new Xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Rl(i.mutation,o,gr.empty(),Ft.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ke()){const o=Fs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=vl();return a.forEach((d,p)=>{u=u.insert(d,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Fs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ke()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,o){let a=fi();const u=Il(),d=function(){return Il()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Ys)?a=a.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),Rl(_.mutation,y,_.mutation.getFieldMask(),Ft.now())):u.set(y.key,gr.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,_)=>u.set(y,_)),t.forEach((y,_)=>{var E;return d.set(y,new vk(_,(E=u.get(y))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Il();let o=new vt((u,d)=>u-d),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||gr.empty();_=d.applyToLocalView(y,_),i.set(p,_);const E=(o.get(d.batchId)||Ke()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,E=wE();_.forEach(R=>{if(!a.has(R)){const F=CE(t.get(R),i.get(R));F!==null&&E.set(R,F),a=a.add(R)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,E))}return X.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):X.resolve(Fs());let d=-1,p=a;return u.next(y=>X.forEach(y,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next(R=>{p=p.insert(_,R)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Ke())).next(_=>({batchId:d,changes:EE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(i=>{let o=vl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=vl();return this.indexManager.getCollectionParents(e,a).next(d=>X.forEach(d,p=>{const y=function(E,R){return new kh(R,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((E,R)=>{u=u.insert(E,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((p,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,an.newInvalidDocument(_)))});let d=vl();return u.forEach((p,y)=>{const _=a.get(p);_!==void 0&&Rl(_.mutation,y,gr.empty(),Ft.now()),Nh(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:jr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:ck(o.bundledQuery),readTime:jr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.overlays=new vt(xe.comparator),this.Er=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Fs();return X.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Fs(),a=t.length+1,u=new xe(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new vt((y,_)=>y-_);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=Fs(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Fs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return X.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new jP(t,i));let a=this.Er.get(t);a===void 0&&(a=Ke(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.dr=new Ut($t.Ar),this.Rr=new Ut($t.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new $t(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new $t(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new xe(new pt([])),i=new $t(t,e),o=new $t(t,e+1),a=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new xe(new pt([])),i=new $t(t,e),o=new $t(t,e+1);let a=Ke();return this.Rr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new $t(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return xe.comparator(e.key,t.key)||Xe(e.br,t.br)}static Vr(e,t){return Xe(e.br,t.br)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ut($t.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UP(a,t,i,o);this.mutationQueue.push(u);for(const d of o)this.vr=this.vr.add(new $t(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),o=new $t(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],u=>{const d=this.Cr(u.br);a.push(d)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Xe);return t.forEach(o=>{const a=new $t(o,0),u=new $t(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{i=i.add(d.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;xe.isDocumentKey(a)||(a=a.child(""));const u=new $t(new xe(a),0);let d=new Ut(Xe);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},u),X.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){rt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,o=>{const a=new $t(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new $t(t,0),o=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.Nr=e,this.docs=function(){return new vt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let i=fi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():an.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=fi();const u=t.path,d=new xe(u.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||eP(ZC(_),i)<=0||(o.has(_.key)||Nh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Le()}Lr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Rk(this)}getSize(e){return X.resolve(this.size)}}class Rk extends yk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.persistence=e,this.Br=new Xs(t=>Wp(t),Hp),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new Yp,this.targetCount=0,this.Qr=ua.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ua(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ah(0),this.Ur=!1,this.Ur=!0,this.Wr=new Tk,this.referenceDelegate=e(this),this.Gr=new Ak(this),this.indexManager=new hk,this.remoteDocumentCache=function(o){return new Ik(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new uk(t),this.jr=new Ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Sk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new Ck(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Ck extends nP{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Zr=new Yp,this.Xr=null}static ei(e){return new Zp(e)}get ti(){if(this.Xr)return this.Xr;throw Le()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const o=xe.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ve.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.ri=new Xs(i=>sP(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=gk(this,t)}static ei(e,t){return new oh(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(d=>{d||(i++,a.removeEntry(u,Ve.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nc(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ke(),o=Ke();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new em(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return d1()?8:rP(un())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Pk;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Ko()<=He.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Ko()<=He.DEBUG&&ge("QueryEngine","Query:",Go(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Ko()<=He.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):X.resolve())}Xi(e,t){if(Vv(t))return X.resolve(null);let i=Fr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=dp(t,null,"F"),i=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Ke(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,u,p.readTime)?this.Xi(e,dp(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Vv(t)||o.isEqual(Ve.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(t,a);return this.ss(t,u,i,o)?X.resolve(null):(Ko()<=He.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Go(t)),this.os(e,u,t,YC(o,-1)).next(d=>d))})}rs(e,t){let i=new Ut(vE(e));return t.forEach((o,a)=>{Nh(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Ko()<=He.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Go(t)),this.Zi.getDocumentsMatchingQuery(e,t,es.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new vt(Xe),this.cs=new Xs(a=>Wp(a),Hp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _k(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Nk(n,e,t,i){return new xk(n,e,t,i)}async function BE(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],d=[];let p=Ke();for(const y of o){u.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:u,addedBatchIds:d}))})})}function bk(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const E=y.batch,R=E.keys();let F=X.resolve();return R.forEach(V=>{F=F.next(()=>_.getEntry(p,V)).next(U=>{const k=y.docVersions.get(V);rt(k!==null),U.version.compareTo(k)<0&&(E.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),_.addEntry(U)))})}),F.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Ke();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function zE(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Ok(n,e){const t=Fe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,E)=>{const R=o.get(E);if(!R)return;d.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,E)));let F=R.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?F=F.withResumeToken(Zt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):_.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(_.resumeToken,i)),o=o.insert(E,F),function(U,k,Z){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(R,F,_)&&d.push(t.Gr.updateTargetData(a,F))});let p=fi(),y=Ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(Dk(a,u,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Ve.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(E=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return X.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=o,a))}function Dk(n,e,t){let i=Ke(),o=Ke();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=fi();return t.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:u,Es:o}})}function Lk(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Vk(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,X.resolve(o)):t.Gr.allocateTargetId(i).next(u=>(o=new Gi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function yp(n,e,t){const i=Fe(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!_a(u))throw u;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Gv(n,e,t){const i=Fe(n);let o=Ve.min(),a=Ke();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,y,_){const E=Fe(p),R=E.cs.get(_);return R!==void 0?X.resolve(E.us.get(R)):E.Gr.getTargetData(y,_)}(i,u,Fr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,d.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?o:Ve.min(),t?a:Ke())).next(d=>(Mk(i,IP(e),d),{documents:d,ds:a})))}function Mk(n,e,t){let i=n.ls.get(e)||Ve.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Qv{constructor(){this.activeTargetIds=xP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fk{constructor(){this._o=new Qv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Qv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function Vf(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class zk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,u){const d=Vf(),p=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,u),this.Bo(t,p,y,o).then(_=>(ge("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw sa("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,a,u,d){return this.Oo(t,i,o,a,u)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,i){const o=jk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=Vf();return new Promise((u,d)=>{const p=new tE;p.setWithCredentials(!0),p.listenOnce(nE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xc.NO_ERROR:const _=p.getResponseJson();ge(sn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case xc.TIMEOUT:ge(sn,`RPC '${e}' ${a} timed out`),d(new Ce(ne.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const E=p.getStatus();if(ge(sn,`RPC '${e}' ${a} failed with status:`,E,"response text:",p.getResponseText()),E>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const F=R==null?void 0:R.error;if(F&&F.status&&F.message){const V=function(k){const Z=k.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Z)>=0?Z:ne.UNKNOWN}(F.status);d(new Ce(V,F.message))}else d(new Ce(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ce(ne.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{ge(sn,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);ge(sn,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Vf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sE(),d=iE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");ge(sn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=u.createWebChannel(_,p);let R=!1,F=!1;const V=new Bk({Eo:k=>{F?ge(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(R||(ge(sn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),R=!0),ge(sn,`RPC '${e}' stream ${o} sending:`,k),E.send(k))},Ao:()=>E.close()}),U=(k,Z,Q)=>{k.listen(Z,Y=>{try{Q(Y)}catch(ae){setTimeout(()=>{throw ae},0)}})};return U(E,yl.EventType.OPEN,()=>{F||(ge(sn,`RPC '${e}' stream ${o} transport opened.`),V.So())}),U(E,yl.EventType.CLOSE,()=>{F||(F=!0,ge(sn,`RPC '${e}' stream ${o} transport closed`),V.Do())}),U(E,yl.EventType.ERROR,k=>{F||(F=!0,sa(sn,`RPC '${e}' stream ${o} transport errored:`,k),V.Do(new Ce(ne.UNAVAILABLE,"The operation could not be completed")))}),U(E,yl.EventType.MESSAGE,k=>{var Z;if(!F){const Q=k.data[0];rt(!!Q);const Y=Q,ae=(Y==null?void 0:Y.error)||((Z=Y[0])===null||Z===void 0?void 0:Z.error);if(ae){ge(sn,`RPC '${e}' stream ${o} received error:`,ae);const fe=ae.status;let ve=function(C){const P=kt[C];if(P!==void 0)return xE(P)}(fe),N=ae.message;ve===void 0&&(ve=ne.INTERNAL,N="Unknown error status: "+fe+" with message "+ae.message),F=!0,V.Do(new Ce(ve,N)),E.close()}else ge(sn,`RPC '${e}' stream ${o} received:`,Q),V.vo(Q)}}),U(d,rE.STAT_EVENT,k=>{k.stat===ap.PROXY?ge(sn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===ap.NOPROXY&&ge(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.bo()},0),V}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n){return new QP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t,i,o,a,u,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new qE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Ce(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qk extends $E{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=YP(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ve.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?jr(u.readTime):Ve.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=gp(this.serializer),t.addTarget=function(a,u){let d;const p=u.target;if(d=hp(p)?{documents:tk(a,p)}:{query:nk(a,p).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=OE(a,u.resumeToken);const y=fp(a,u.expectedCount);y!==null&&(d.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ve.min())>0){d.readTime=sh(a,u.snapshotVersion.toTimestamp());const y=fp(a,u.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=ik(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=gp(this.serializer),t.removeTarget=e,this.c_(t)}}class $k extends $E{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=ek(e.writeResults,e.commitTime),i=jr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=gp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ZP(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,pp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(ne.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,pp(t,i),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(ne.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Hk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(di(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{Zs(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Fe(p);y.k_.add(4),await Jl(y),y.K_.set("Unknown"),y.k_.delete(4),await Vh(y)}(this))})}),this.K_=new Hk(i,o)}}async function Vh(n){if(Zs(n))for(const e of n.q_)await e(!0)}async function Jl(n){for(const e of n.q_)await e(!1)}function WE(n,e){const t=Fe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),im(t)?rm(t):Ea(t).s_()&&nm(t,e))}function tm(n,e){const t=Fe(n),i=Ea(t);t.B_.delete(e),i.s_()&&HE(t,e),t.B_.size===0&&(i.s_()?i.a_():Zs(t)&&t.K_.set("Unknown"))}function nm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ea(n).V_(e)}function HE(n,e){n.U_.xe(e),Ea(n).m_(e)}function rm(n){n.U_=new WP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ea(n).start(),n.K_.F_()}function im(n){return Zs(n)&&!Ea(n).i_()&&n.B_.size>0}function Zs(n){return Fe(n).k_.size===0}function KE(n){n.U_=void 0}async function Gk(n){n.K_.set("Online")}async function Qk(n){n.B_.forEach((e,t)=>{nm(n,e)})}async function Jk(n,e){KE(n),im(n)?(n.K_.O_(e),rm(n)):n.K_.set("Unknown")}async function Xk(n,e,t){if(n.K_.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ah(n,i)}else if(e instanceof Dc?n.U_.$e(e):e instanceof NE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ve.min()))try{const i=await zE(n.localStore);t.compareTo(i)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.B_.get(y);_&&a.B_.set(y,_.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach((p,y)=>{const _=a.B_.get(p);if(!_)return;a.B_.set(p,_.withResumeToken(Zt.EMPTY_BYTE_STRING,_.snapshotVersion)),HE(a,p);const E=new Gi(_.target,p,y,_.sequenceNumber);nm(a,E)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await ah(n,i)}}async function ah(n,e,t){if(!_a(e))throw e;n.k_.add(1),await Jl(n),n.K_.set("Offline"),t||(t=()=>zE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Vh(n)})}function GE(n,e){return e().catch(t=>ah(n,t,e))}async function Mh(n){const e=Fe(n),t=is(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Yk(e);)try{const o=await Lk(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,Zk(e,o)}catch(o){await ah(e,o)}QE(e)&&JE(e)}function Yk(n){return Zs(n)&&n.L_.length<10}function Zk(n,e){n.L_.push(e);const t=is(n);t.s_()&&t.f_&&t.g_(e.mutations)}function QE(n){return Zs(n)&&!is(n).i_()&&n.L_.length>0}function JE(n){is(n).start()}async function ex(n){is(n).w_()}async function tx(n){const e=is(n);for(const t of n.L_)e.g_(t.mutations)}async function nx(n,e,t){const i=n.L_.shift(),o=Qp.from(i,e,t);await GE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Mh(n)}async function rx(n,e){e&&is(n).f_&&await async function(i,o){if(function(u){return zP(u)&&u!==ne.ABORTED}(o.code)){const a=i.L_.shift();is(i).__(),await GE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Mh(i)}}(n,e),QE(n)&&JE(n)}async function Xv(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=Zs(t);t.k_.add(3),await Jl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Vh(t)}async function ix(n,e){const t=Fe(n);e?(t.k_.delete(2),await Vh(t)):e||(t.k_.add(2),await Jl(t),t.K_.set("Unknown"))}function Ea(n){return n.W_||(n.W_=function(t,i,o){const a=Fe(t);return a.b_(),new qk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:Gk.bind(null,n),mo:Qk.bind(null,n),po:Jk.bind(null,n),R_:Xk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),im(n)?rm(n):n.K_.set("Unknown")):(await n.W_.stop(),KE(n))})),n.W_}function is(n){return n.G_||(n.G_=function(t,i,o){const a=Fe(t);return a.b_(),new $k(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:ex.bind(null,n),po:rx.bind(null,n),p_:tx.bind(null,n),y_:nx.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Mh(n)):(await n.G_.stop(),n.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,d=new sm(e,t,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function om(n,e){if(di("AsyncQueue",`${e}: ${n}`),_a(n))return new Ce(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=vl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.z_=new vt(xe.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Le():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ca{constructor(e,t,i,o,a,u,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ca(e,t,ta.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class ox{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Fe(t),a=o.queries;o.queries=Zv(),a.forEach((u,d)=>{for(const p of d.J_)p.onError(i)})})(this,new Ce(ne.ABORTED,"Firestore shutting down"))}}function Zv(){return new Xs(n=>yE(n),xh)}async function XE(n,e){const t=Fe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new sx,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=om(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&am(t)}async function YE(n,e){const t=Fe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ax(n,e){const t=Fe(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(o)&&(i=!0);u.H_=o}}i&&am(t)}function lx(n,e,t){const i=Fe(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function am(n){n.X_.forEach(e=>{e.next()})}var vp,e_;(e_=vp||(vp={})).na="default",e_.Cache="cache";class ZE{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.key=e}}class tw{constructor(e){this.key=e}}class ux{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ke(),this.mutatedKeys=Ke(),this.Va=vE(e),this.ma=new ta(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Yv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const R=o.get(_),F=Nh(this.query,E)?E:null,V=!!R&&this.mutatedKeys.has(R.key),U=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let k=!1;R&&F?R.data.isEqual(F.data)?V!==U&&(i.track({type:3,doc:F}),k=!0):this.ya(R,F)||(i.track({type:2,doc:F}),k=!0,(p&&this.Va(F,p)>0||y&&this.Va(F,y)<0)&&(d=!0)):!R&&F?(i.track({type:0,doc:F}),k=!0):R&&!F&&(i.track({type:1,doc:R}),k=!0,(p||y)&&(d=!0)),k&&(F?(u=u.add(F),a=U?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:u,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((_,E)=>function(F,V){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return U(F)-U(V)}(_.type,E.type)||this.Va(_.doc,E.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,u.length!==0||y?{snapshot:new ca(this.query,e.ma,a,u,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Yv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ke(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new tw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new ew(i))}),t}va(e){this.da=e.ds,this.Ra=Ke();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ca.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class cx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class hx{constructor(e){this.key=e,this.Fa=!1}}class dx{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Xs(d=>yE(d),xh),this.Oa=new Map,this.Na=new Set,this.La=new vt(xe.comparator),this.Ba=new Map,this.ka=new Yp,this.qa={},this.Qa=new Map,this.Ka=ua.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function fx(n,e,t=!0){const i=aw(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await nw(i,e,t,!0),o}async function px(n,e){const t=aw(n);await nw(t,e,!0,!1)}async function nw(n,e,t,i){const o=await Vk(n.localStore,Fr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await mx(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&WE(n.remoteStore,o),d}async function mx(n,e,t,i,o){n.Ua=(E,R,F)=>async function(U,k,Z,Q){let Y=k.view.ga(Z);Y.ss&&(Y=await Gv(U.localStore,k.query,!1).then(({documents:N})=>k.view.ga(N,Y)));const ae=Q&&Q.targetChanges.get(k.targetId),fe=Q&&Q.targetMismatches.get(k.targetId)!=null,ve=k.view.applyChanges(Y,U.isPrimaryClient,ae,fe);return n_(U,k.targetId,ve.ba),ve.snapshot}(n,E,R,F);const a=await Gv(n.localStore,e,!0),u=new ux(e,a.ds),d=u.ga(a.documents),p=Ql.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=u.applyChanges(d,n.isPrimaryClient,p);n_(n,t,y.ba);const _=new cx(e,t,u);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function gx(n,e,t){const i=Fe(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(u=>!xh(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&tm(i.remoteStore,o.targetId),_p(i,o.targetId)}).catch(va)):(_p(i,o.targetId),await yp(i.localStore,o.targetId,!0))}async function yx(n,e){const t=Fe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),tm(t.remoteStore,i.targetId))}async function vx(n,e,t){const i=Rx(n);try{const o=await function(u,d){const p=Fe(u),y=Ft.now(),_=d.reduce((F,V)=>F.add(V.key),Ke());let E,R;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let V=fi(),U=Ke();return p.hs.getEntries(F,_).next(k=>{V=k,V.forEach((Z,Q)=>{Q.isValidDocument()||(U=U.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,V)).next(k=>{E=k;const Z=[];for(const Q of d){const Y=MP(Q,E.get(Q.key).overlayedDocument);Y!=null&&Z.push(new Ys(Q.key,Y,cE(Y.value.mapValue),Ur.exists(!0)))}return p.mutationQueue.addMutationBatch(F,y,Z,d)}).next(k=>{R=k;const Z=k.applyToLocalDocumentSet(E,U);return p.documentOverlayCache.saveOverlays(F,k.batchId,Z)})}).then(()=>({batchId:R.batchId,changes:EE(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,d,p){let y=u.qa[u.currentUser.toKey()];y||(y=new vt(Xe)),y=y.insert(d,p),u.qa[u.currentUser.toKey()]=y}(i,o.batchId,t),await Xl(i,o.changes),await Mh(i.remoteStore)}catch(o){const a=om(o,"Failed to persist write");t.reject(a)}}async function rw(n,e){const t=Fe(n);try{const i=await Ok(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?rt(u.Fa):o.removedDocuments.size>0&&(rt(u.Fa),u.Fa=!1))}),await Xl(t,i,e)}catch(i){await va(i)}}function t_(n,e,t){const i=Fe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const p=Fe(u);p.onlineState=d;let y=!1;p.queries.forEach((_,E)=>{for(const R of E.J_)R.ea(d)&&(y=!0)}),y&&am(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function _x(n,e,t){const i=Fe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let u=new vt(xe.comparator);u=u.insert(a,an.newNoDocument(a,Ve.min()));const d=Ke().add(a),p=new Dh(Ve.min(),new Map,new vt(Xe),u,d);await rw(i,p),i.La=i.La.remove(a),i.Ba.delete(e),lm(i)}else await yp(i.localStore,e,!1).then(()=>_p(i,e,t)).catch(va)}async function Ex(n,e){const t=Fe(n),i=e.batch.batchId;try{const o=await bk(t.localStore,e);sw(t,i,null),iw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Xl(t,o)}catch(o){await va(o)}}async function wx(n,e,t){const i=Fe(n);try{const o=await function(u,d){const p=Fe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(E=>(rt(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);sw(i,e,t),iw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Xl(i,o)}catch(o){await va(o)}}function iw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function sw(n,e,t){const i=Fe(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function _p(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||ow(n,i)})}function ow(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(tm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),lm(n))}function n_(n,e,t){for(const i of t)i instanceof ew?(n.ka.addReference(i.key,e),Tx(n,i)):i instanceof tw?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||ow(n,i.key)):Le()}function Tx(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),lm(n))}function lm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new xe(pt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new hx(t)),n.La=n.La.insert(t,i),WE(n.remoteStore,new Gi(Fr(Kp(t.path)),i,"TargetPurposeLimboResolution",Ah.oe))}}async function Xl(n,e,t){const i=Fe(n),o=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{u.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=em.zi(p.targetId,y);a.push(E)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(p,y){const _=Fe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>X.forEach(y,R=>X.forEach(R.Wi,F=>_.persistence.referenceDelegate.addReference(E,R.targetId,F)).next(()=>X.forEach(R.Gi,F=>_.persistence.referenceDelegate.removeReference(E,R.targetId,F)))))}catch(E){if(!_a(E))throw E;ge("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const R=E.targetId;if(!E.fromCache){const F=_.us.get(R),V=F.snapshotVersion,U=F.withLastLimboFreeSnapshotVersion(V);_.us=_.us.insert(R,U)}}}(i.localStore,a))}async function Sx(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await BE(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(p=>{p.reject(new Ce(ne.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xl(t,i.Ts)}}function Ix(n,e){const t=Fe(n),i=t.Ba.get(e);if(i&&i.Fa)return Ke().add(i.key);{let o=Ke();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const d=t.xa.get(u);o=o.unionWith(d.view.fa)}return o}}function aw(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ix.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_x.bind(null,e),e.Ma.R_=ax.bind(null,e.eventManager),e.Ma.Wa=lx.bind(null,e.eventManager),e}function Rx(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wx.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Nk(this.persistence,new kk,e.initialUser,this.serializer)}ja(e){return new jE(Zp.ei,this.serializer)}za(e){return new Fk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class Ax extends lh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){rt(this.persistence.referenceDelegate instanceof oh);const i=this.persistence.referenceDelegate.garbageCollector;return new pk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new jE(i=>oh.ei(i,t),this.serializer)}}class Ep{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>t_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sx.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ox}()}createDatastore(e){const t=Lh(e.databaseInfo.databaseId),i=function(a){return new zk(a)}(e.databaseInfo);return function(a,u,d,p){return new Wk(a,u,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,d){return new Kk(i,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>t_(this.syncEngine,t,0),function(){return Jv.p()?new Jv:new Uk}())}createSyncEngine(e,t){return function(o,a,u,d,p,y,_){const E=new dx(o,a,u,d,p,y);return _&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Fe(o);ge("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Jl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ge("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=om(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ff(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await BE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function r_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Px(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Xv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Xv(e.remoteStore,o)),n._onlineComponents=e}async function Px(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ff(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),await Ff(n,new lh)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Ff(n,new Ax(void 0));return n._offlineComponents}async function uw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await r_(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await r_(n,new Ep))),n._onlineComponents}function kx(n){return uw(n).then(e=>e.syncEngine)}async function cw(n){const e=await uw(n),t=e.eventManager;return t.onListen=fx.bind(null,e.syncEngine),t.onUnlisten=gx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=px.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yx.bind(null,e.syncEngine),t}function xx(n,e,t={}){const i=new ui;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,p,y){const _=new lw({next:R=>{_.eu(),u.enqueueAndForget(()=>YE(a,E));const F=R.docs.has(d);!F&&R.fromCache?y.reject(new Ce(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&R.fromCache&&p&&p.source==="server"?y.reject(new Ce(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),E=new ZE(Kp(d.path),_,{includeMetadataChanges:!0,ua:!0});return XE(a,E)}(await cw(n),n.asyncQueue,e,t,i)),i.promise}function Nx(n,e,t={}){const i=new ui;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,p,y){const _=new lw({next:R=>{_.eu(),u.enqueueAndForget(()=>YE(a,E)),R.fromCache&&p.source==="server"?y.reject(new Ce(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),E=new ZE(d,_,{includeMetadataChanges:!0,ua:!0});return XE(a,E)}(await cw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n,e,t){if(!t)throw new Ce(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bx(n,e,t,i){if(e===!0&&i===!0)throw new Ce(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function s_(n){if(!xe.isDocumentKey(n))throw new Ce(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o_(n){if(xe.isDocumentKey(n))throw new Ce(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function um(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le()}function ss(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=um(n);throw new Ce(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new qC;switch(i.type){case"firstParty":return new KC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=i_.get(t);i&&(ge("ComponentProvider","Removing Datastore"),i_.delete(t),i.terminate())}(this),Promise.resolve()}}function Ox(n,e,t,i={}){var o;const a=(n=ss(n,Fh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=on.MOCK_USER;else{d=s1(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Ce(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new on(y)}n._authCredentials=new $C(new oE(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Dn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Zi extends Uh{constructor(e,t,i){super(e,t,Kp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new xe(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function fw(n,e,...t){if(n=Jn(n),dw("collection","path",e),n instanceof Fh){const i=pt.fromString(e,...t);return o_(i),new Zi(n,null,i)}{if(!(n instanceof Dn||n instanceof Zi))throw new Ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return o_(i),new Zi(n.firestore,null,i)}}function cm(n,e,...t){if(n=Jn(n),arguments.length===1&&(e=aE.newId()),dw("doc","path",e),n instanceof Fh){const i=pt.fromString(e,...t);return s_(i),new Dn(n,null,new xe(i))}{if(!(n instanceof Dn||n instanceof Zi))throw new Ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return s_(i),new Dn(n.firestore,n instanceof Zi?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new qE(this,"async_queue_retry"),this.fu=()=>{const i=Mf();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ui;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!_a(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(i);throw di("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=sm.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Le()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Yl extends Fh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new l_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l_(e),this._firestoreClient=void 0,await e}}}function Dx(n,e){const t=typeof n=="object"?n:g0(),i=typeof n=="string"?n:"(default)",o=bp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=r1("firestore");a&&Ox(o,...a)}return o}function hm(n){if(n._terminated)throw new Ce(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lx(n),n._firestoreClient}function Lx(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,y,_){return new lP(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,hw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Cx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(Zt.fromBase64String(e))}catch(t){throw new Ce(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ha(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=/^__.*__$/;class Mx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}function mw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class mm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return uh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(mw(this.Mu)&&Vx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Fx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lh(e)}$u(e,t,i,o=!1){return new mm({Mu:e,methodName:t,Ku:i,path:Yt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gw(n){const e=n._freezeSettings(),t=Lh(n._databaseId);return new Fx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yw(n,e,t,i,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);ww("Data must be an object, but it was:",u,i);const d=_w(i,u);let p,y;if(a.merge)p=new gr(u.fieldMask),y=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const R=Ux(e,E,t);if(!u.contains(R))throw new Ce(ne.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Bx(_,R)||_.push(R)}p=new gr(_),y=u.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=u.fieldTransforms;return new Mx(new Qn(d),p,y)}function vw(n,e){if(Ew(n=Jn(n)))return ww("Unsupported field value:",e,n),_w(n,e);if(n instanceof pw)return function(i,o){if(!mw(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const d of i){let p=vw(d,o.ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Ft.fromDate(i);return{timestampValue:sh(o.serializer,a)}}if(i instanceof Ft){const a=new Ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sh(o.serializer,a)}}if(i instanceof fm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ha)return{bytesValue:OE(o.serializer,i._byteString)};if(i instanceof Dn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Xp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof pm)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Gp(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${um(i)}`)}(n,e)}function _w(n,e){const t={};return lE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,(i,o)=>{const a=vw(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function Ew(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof fm||n instanceof ha||n instanceof Dn||n instanceof pw||n instanceof pm)}function ww(n,e,t){if(!Ew(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=um(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Ux(n,e,t){if((e=Jn(e))instanceof dm)return e._internalPath;if(typeof e=="string")return Tw(n,e);throw uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const jx=new RegExp("[~\\*/\\[\\]]");function Tw(n,e,t){if(e.search(jx)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dm(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uh(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new Ce(ne.INVALID_ARGUMENT,d+n+p)}function Bx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Iw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zx extends Sw{data(){return super.data()}}function Iw(n,e){return typeof e=="string"?Tw(n,e):e instanceof dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $x{convertValue(e,t="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Js(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>It(u.doubleValue));return new pm(a)}convertGeoPoint(e){return new fm(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ph(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=ts(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pt.fromString(e);rt(UE(i));const o=new Dl(i.get(1),i.get(3)),a=new xe(i.popFirst(5));return o.isEqual(t)||di(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aw extends Sw{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Iw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Lc extends Aw{data(e={}){return super.data(e)}}class Wx{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Lc(this._firestore,this._userDataWriter,i.key,i,new El(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const p=new Lc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new El(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new Lc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new El(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:Hx(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){n=ss(n,Dn);const e=ss(n.firestore,Yl);return xx(hm(e),n._key).then(t=>Xx(e,n,t))}class Cw extends $x{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function Gx(n){n=ss(n,Uh);const e=ss(n.firestore,Yl),t=hm(e),i=new Cw(e);return qx(n._query),Nx(t,n._query).then(o=>new Wx(e,i,n,o))}function Qx(n,e,t){n=ss(n,Dn);const i=ss(n.firestore,Yl),o=Rw(n.converter,e);return Pw(i,[yw(gw(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Ur.none())])}function Jx(n,e){const t=ss(n.firestore,Yl),i=cm(n),o=Rw(n.converter,e);return Pw(t,[yw(gw(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Ur.exists(!1))]).then(()=>i)}function Pw(n,e){return function(i,o){const a=new ui;return i.asyncQueue.enqueueAndForget(async()=>vx(await kx(i),o,a)),a.promise}(hm(n),e)}function Xx(n,e,t){const i=t.docs.get(e._key),o=new Cw(n);return new Aw(n,o,e._key,i,new El(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ya=o})(ma),ia(new qs("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new Yl(new WC(i.getProvider("auth-internal")),new QC(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ce(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(y.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Yi(Rv,"4.7.5",e),Yi(Rv,"4.7.5","esm2017")})();const Yx={apiKey:"AIzaSyAw65sVmeQUKJb1rabJJAS4TA3u73qHa1M",authDomain:"bourges-5e395.firebaseapp.com",projectId:"bourges-5e395",storageBucket:"bourges-5e395.firebasestorage.app",messagingSenderId:"1026992624244",appId:"1:1026992624244:web:40a49ca9f807533c703721"},kw=m0(Yx),Fl=UC(kw),jh=Dx(kw);function Zx(){const[n,e]=de.useState(""),[t,i]=de.useState(""),[o,a]=de.useState(""),[u,d]=de.useState(""),p=async y=>{y.preventDefault();try{await RA(Fl,n,t);const _=Fl.currentUser;console.log(_),_&&await Qx(cm(jh,"Users",_.uid),{email:_.email,firstName:o,lastName:u})}catch(_){console.log(_.message)}};return z.jsx("div",{children:z.jsxs("form",{onSubmit:p,className:"w-full h-screen flex items-center justify-center flex-col gap-2",children:[z.jsx("h3",{children:" Pour vous inscrire"}),z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{htmlFor:"lName",children:" Votre Prnom : "}),z.jsx("input",{type:"text",className:"",placeholder:"votre prenom",value:o,onChange:y=>a(y.target.value)})]}),z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{htmlFor:"Lnamen",children:" Votre nom : "}),z.jsx("input",{type:"text",className:"",placeholder:"votre nom",value:u,onChange:y=>d(y.target.value)})]}),z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{htmlFor:"email",children:" Votre Email : "}),z.jsx("input",{type:"email",className:"",placeholder:"votre email",value:n,onChange:y=>e(y.target.value)})]}),z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{htmlFor:"password",children:" Votre mot de passe "}),z.jsx("input",{type:"password",className:"",placeholder:" Entrez votre mot de passe ",value:t,onChange:y=>i(y.target.value)})]}),z.jsx("div",{className:"mb-3",children:z.jsx("button",{type:"submit",className:"bg-[blue] text-white rounded ",children:" Se connecter "})})]})})}function eN(){const[n,e]=de.useState(""),[t,i]=de.useState(""),o=pa(),a=async u=>{u.preventDefault();try{await AA(Fl,n,t),console.log("utilisaateur bien connecter "),o("/profile")}catch(d){console.log(d.message)}};return z.jsxs("form",{onSubmit:a,className:"w-full h-screen flex items-center justify-center flex-col gap-2",children:[z.jsx("h3",{children:" Pour vous connecter "}),z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{htmlFor:"email",children:" Votre Email : "}),z.jsx("input",{type:"email",className:"",placeholder:"votre email",value:n,onChange:u=>e(u.target.value)})]}),z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{htmlFor:"password",children:" Votre mot de passe "}),z.jsx("input",{type:"password",className:"",placeholder:" Entrez votre mot de passe ",value:t,onChange:u=>i(u.target.value)})]}),z.jsx("div",{className:"mb-3",children:z.jsx("button",{type:"submit",className:"bg-[blue] text-white rounded ",children:" Se connecter "})})]})}var Zl=n=>n.type==="checkbox",Us=n=>n instanceof Date,pn=n=>n==null;const xw=n=>typeof n=="object";var Rt=n=>!pn(n)&&!Array.isArray(n)&&xw(n)&&!Us(n),tN=n=>Rt(n)&&n.target?Zl(n.target)?n.target.checked:n.target.value:n,nN=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,rN=(n,e)=>n.has(nN(e)),iN=n=>{const e=n.constructor&&n.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},gm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gn(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(gm&&(n instanceof Blob||n instanceof FileList))&&(t||Rt(n)))if(e=t?[]:{},!t&&!iN(n))e=n;else for(const i in n)n.hasOwnProperty(i)&&(e[i]=Gn(n[i]));else return n;return e}var Bh=n=>Array.isArray(n)?n.filter(Boolean):[],St=n=>n===void 0,Ee=(n,e,t)=>{if(!e||!Rt(n))return t;const i=Bh(e.split(/[,[\].]+?/)).reduce((o,a)=>pn(o)?o:o[a],n);return St(i)||i===n?St(n[e])?t:n[e]:i},br=n=>typeof n=="boolean",ym=n=>/^\w*$/.test(n),Nw=n=>Bh(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ht=(n,e,t)=>{let i=-1;const o=ym(e)?[e]:Nw(e),a=o.length,u=a-1;for(;++i<a;){const d=o[i];let p=t;if(i!==u){const y=n[d];p=Rt(y)||Array.isArray(y)?y:isNaN(+o[i+1])?{}:[]}if(d==="__proto__")return;n[d]=p,n=n[d]}return n};const u_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};De.createContext(null);var sN=(n,e,t,i=!0)=>{const o={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(o,a,{get:()=>{const u=a;return e._proxyFormState[u]!==mr.all&&(e._proxyFormState[u]=!i||mr.all),n[u]}});return o},Sn=n=>Rt(n)&&!Object.keys(n).length,oN=(n,e,t,i)=>{t(n);const{name:o,...a}=n;return Sn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(u=>e[u]===mr.all)},Vc=n=>Array.isArray(n)?n:[n];function aN(n){const e=De.useRef(n);e.current=n,De.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var Lr=n=>typeof n=="string",lN=(n,e,t,i,o)=>Lr(n)?(i&&e.watch.add(n),Ee(t,n,o)):Array.isArray(n)?n.map(a=>(i&&e.watch.add(a),Ee(t,a))):(i&&(e.watchAll=!0),t),uN=(n,e,t,i,o)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:o||!0}}:{},c_=n=>({isOnSubmit:!n||n===mr.onSubmit,isOnBlur:n===mr.onBlur,isOnChange:n===mr.onChange,isOnAll:n===mr.all,isOnTouch:n===mr.onTouched}),h_=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const Al=(n,e,t,i)=>{for(const o of t||Object.keys(n)){const a=Ee(n,o);if(a){const{_f:u,...d}=a;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],o)&&!i)return!0;if(u.ref&&e(u.ref,u.name)&&!i)return!0;if(Al(d,e))break}else if(Rt(d)&&Al(d,e))break}}};var cN=(n,e,t)=>{const i=Vc(Ee(n,t));return ht(i,"root",e[t]),ht(n,t,i),n},vm=n=>n.type==="file",Or=n=>typeof n=="function",ch=n=>{if(!gm)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Mc=n=>Lr(n),_m=n=>n.type==="radio",hh=n=>n instanceof RegExp;const d_={value:!1,isValid:!1},f_={value:!0,isValid:!0};var bw=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!St(n[0].attributes.value)?St(n[0].value)||n[0].value===""?f_:{value:n[0].value,isValid:!0}:f_:d_}return d_};const p_={isValid:!1,value:null};var Ow=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,p_):p_;function m_(n,e,t="validate"){if(Mc(n)||Array.isArray(n)&&n.every(Mc)||br(n)&&!n)return{type:t,message:Mc(n)?n:"",ref:e}}var Ho=n=>Rt(n)&&!hh(n)?n:{value:n,message:""},g_=async(n,e,t,i,o)=>{const{ref:a,refs:u,required:d,maxLength:p,minLength:y,min:_,max:E,pattern:R,validate:F,name:V,valueAsNumber:U,mount:k,disabled:Z}=n._f,Q=Ee(e,V);if(!k||Z)return{};const Y=u?u[0]:a,ae=x=>{i&&Y.reportValidity&&(Y.setCustomValidity(br(x)?"":x||""),Y.reportValidity())},fe={},ve=_m(a),N=Zl(a),S=ve||N,C=(U||vm(a))&&St(a.value)&&St(Q)||ch(a)&&a.value===""||Q===""||Array.isArray(Q)&&!Q.length,P=uN.bind(null,V,t,fe),D=(x,I,Ne,Ae=ii.maxLength,Ge=ii.minLength)=>{const Re=x?I:Ne;fe[V]={type:x?Ae:Ge,message:Re,ref:a,...P(x?Ae:Ge,Re)}};if(o?!Array.isArray(Q)||!Q.length:d&&(!S&&(C||pn(Q))||br(Q)&&!Q||N&&!bw(u).isValid||ve&&!Ow(u).isValid)){const{value:x,message:I}=Mc(d)?{value:!!d,message:d}:Ho(d);if(x&&(fe[V]={type:ii.required,message:I,ref:Y,...P(ii.required,I)},!t))return ae(I),fe}if(!C&&(!pn(_)||!pn(E))){let x,I;const Ne=Ho(E),Ae=Ho(_);if(!pn(Q)&&!isNaN(Q)){const Ge=a.valueAsNumber||Q&&+Q;pn(Ne.value)||(x=Ge>Ne.value),pn(Ae.value)||(I=Ge<Ae.value)}else{const Ge=a.valueAsDate||new Date(Q),Re=ce=>new Date(new Date().toDateString()+" "+ce),se=a.type=="time",me=a.type=="week";Lr(Ne.value)&&Q&&(x=se?Re(Q)>Re(Ne.value):me?Q>Ne.value:Ge>new Date(Ne.value)),Lr(Ae.value)&&Q&&(I=se?Re(Q)<Re(Ae.value):me?Q<Ae.value:Ge<new Date(Ae.value))}if((x||I)&&(D(!!x,Ne.message,Ae.message,ii.max,ii.min),!t))return ae(fe[V].message),fe}if((p||y)&&!C&&(Lr(Q)||o&&Array.isArray(Q))){const x=Ho(p),I=Ho(y),Ne=!pn(x.value)&&Q.length>+x.value,Ae=!pn(I.value)&&Q.length<+I.value;if((Ne||Ae)&&(D(Ne,x.message,I.message),!t))return ae(fe[V].message),fe}if(R&&!C&&Lr(Q)){const{value:x,message:I}=Ho(R);if(hh(x)&&!Q.match(x)&&(fe[V]={type:ii.pattern,message:I,ref:a,...P(ii.pattern,I)},!t))return ae(I),fe}if(F){if(Or(F)){const x=await F(Q,e),I=m_(x,Y);if(I&&(fe[V]={...I,...P(ii.validate,I.message)},!t))return ae(I.message),fe}else if(Rt(F)){let x={};for(const I in F){if(!Sn(x)&&!t)break;const Ne=m_(await F[I](Q,e),Y,I);Ne&&(x={...Ne,...P(I,Ne.message)},ae(Ne.message),t&&(fe[V]=x))}if(!Sn(x)&&(fe[V]={ref:Y,...x},!t))return fe}}return ae(!0),fe};function hN(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=St(n)?i++:n[e[i++]];return n}function dN(n){for(const e in n)if(n.hasOwnProperty(e)&&!St(n[e]))return!1;return!0}function Vt(n,e){const t=Array.isArray(e)?e:ym(e)?[e]:Nw(e),i=t.length===1?n:hN(n,t),o=t.length-1,a=t[o];return i&&delete i[a],o!==0&&(Rt(i)&&Sn(i)||Array.isArray(i)&&dN(i))&&Vt(n,t.slice(0,-1)),n}var Uf=()=>{let n=[];return{get observers(){return n},next:o=>{for(const a of n)a.next&&a.next(o)},subscribe:o=>(n.push(o),{unsubscribe:()=>{n=n.filter(a=>a!==o)}}),unsubscribe:()=>{n=[]}}},wp=n=>pn(n)||!xw(n);function Hi(n,e){if(wp(n)||wp(e))return n===e;if(Us(n)&&Us(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const o of t){const a=n[o];if(!i.includes(o))return!1;if(o!=="ref"){const u=e[o];if(Us(a)&&Us(u)||Rt(a)&&Rt(u)||Array.isArray(a)&&Array.isArray(u)?!Hi(a,u):a!==u)return!1}}return!0}var Dw=n=>n.type==="select-multiple",fN=n=>_m(n)||Zl(n),jf=n=>ch(n)&&n.isConnected,Lw=n=>{for(const e in n)if(Or(n[e]))return!0;return!1};function dh(n,e={}){const t=Array.isArray(n);if(Rt(n)||t)for(const i in n)Array.isArray(n[i])||Rt(n[i])&&!Lw(n[i])?(e[i]=Array.isArray(n[i])?[]:{},dh(n[i],e[i])):pn(n[i])||(e[i]=!0);return e}function Vw(n,e,t){const i=Array.isArray(n);if(Rt(n)||i)for(const o in n)Array.isArray(n[o])||Rt(n[o])&&!Lw(n[o])?St(e)||wp(t[o])?t[o]=Array.isArray(n[o])?dh(n[o],[]):{...dh(n[o])}:Vw(n[o],pn(e)?{}:e[o],t[o]):t[o]=!Hi(n[o],e[o]);return t}var cl=(n,e)=>Vw(n,e,dh(e)),Mw=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>St(n)?n:e?n===""?NaN:n&&+n:t&&Lr(n)?new Date(n):i?i(n):n;function Bf(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return vm(e)?e.files:_m(e)?Ow(n.refs).value:Dw(e)?[...e.selectedOptions].map(({value:t})=>t):Zl(e)?bw(n.refs).value:Mw(St(e.value)?n.ref.value:e.value,n)}var pN=(n,e,t,i)=>{const o={};for(const a of n){const u=Ee(e,a);u&&ht(o,a,u._f)}return{criteriaMode:t,names:[...n],fields:o,shouldUseNativeValidation:i}},hl=n=>St(n)?n:hh(n)?n.source:Rt(n)?hh(n.value)?n.value.source:n.value:n;const y_="AsyncFunction";var mN=n=>(!n||!n.validate)&&!!(Or(n.validate)&&n.validate.constructor.name===y_||Rt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===y_)),gN=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function v_(n,e,t){const i=Ee(n,t);if(i||ym(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const a=o.join("."),u=Ee(e,a),d=Ee(n,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(d&&d.type)return{name:a,error:d};o.pop()}return{name:t}}var yN=(n,e,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||n):(t?i.isOnBlur:o.isOnBlur)?!n:(t?i.isOnChange:o.isOnChange)?n:!0,vN=(n,e)=>!Bh(Ee(n,e)).length&&Vt(n,e);const _N={mode:mr.onSubmit,reValidateMode:mr.onChange,shouldFocusError:!0};function EN(n={}){let e={..._N,...n},t={submitCount:0,isDirty:!1,isLoading:Or(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},o=Rt(e.defaultValues)||Rt(e.values)?Gn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Gn(o),u={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={values:Uf(),array:Uf(),state:Uf()},R=c_(e.mode),F=c_(e.reValidateMode),V=e.criteriaMode===mr.all,U=b=>$=>{clearTimeout(y),y=setTimeout(b,$)},k=async b=>{if(!e.disabled&&(_.isValid||b)){const $=e.resolver?Sn((await S()).errors):await P(i,!0);$!==t.isValid&&E.state.next({isValid:$})}},Z=(b,$)=>{!e.disabled&&(_.isValidating||_.validatingFields)&&((b||Array.from(d.mount)).forEach(K=>{K&&($?ht(t.validatingFields,K,$):Vt(t.validatingFields,K))}),E.state.next({validatingFields:t.validatingFields,isValidating:!Sn(t.validatingFields)}))},Q=(b,$=[],K,he,le=!0,ie=!0)=>{if(he&&K&&!e.disabled){if(u.action=!0,ie&&Array.isArray(Ee(i,b))){const Ie=K(Ee(i,b),he.argA,he.argB);le&&ht(i,b,Ie)}if(ie&&Array.isArray(Ee(t.errors,b))){const Ie=K(Ee(t.errors,b),he.argA,he.argB);le&&ht(t.errors,b,Ie),vN(t.errors,b)}if(_.touchedFields&&ie&&Array.isArray(Ee(t.touchedFields,b))){const Ie=K(Ee(t.touchedFields,b),he.argA,he.argB);le&&ht(t.touchedFields,b,Ie)}_.dirtyFields&&(t.dirtyFields=cl(o,a)),E.state.next({name:b,isDirty:x(b,$),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ht(a,b,$)},Y=(b,$)=>{ht(t.errors,b,$),E.state.next({errors:t.errors})},ae=b=>{t.errors=b,E.state.next({errors:t.errors,isValid:!1})},fe=(b,$,K,he)=>{const le=Ee(i,b);if(le){const ie=Ee(a,b,St(K)?Ee(o,b):K);St(ie)||he&&he.defaultChecked||$?ht(a,b,$?ie:Bf(le._f)):Ae(b,ie),u.mount&&k()}},ve=(b,$,K,he,le)=>{let ie=!1,Ie=!1;const Me={name:b};if(!e.disabled){const qe=!!(Ee(i,b)&&Ee(i,b)._f&&Ee(i,b)._f.disabled);if(!K||he){_.isDirty&&(Ie=t.isDirty,t.isDirty=Me.isDirty=x(),ie=Ie!==Me.isDirty);const $e=qe||Hi(Ee(o,b),$);Ie=!!(!qe&&Ee(t.dirtyFields,b)),$e||qe?Vt(t.dirtyFields,b):ht(t.dirtyFields,b,!0),Me.dirtyFields=t.dirtyFields,ie=ie||_.dirtyFields&&Ie!==!$e}if(K){const $e=Ee(t.touchedFields,b);$e||(ht(t.touchedFields,b,K),Me.touchedFields=t.touchedFields,ie=ie||_.touchedFields&&$e!==K)}ie&&le&&E.state.next(Me)}return ie?Me:{}},N=(b,$,K,he)=>{const le=Ee(t.errors,b),ie=_.isValid&&br($)&&t.isValid!==$;if(n.delayError&&K?(p=U(()=>Y(b,K)),p(n.delayError)):(clearTimeout(y),p=null,K?ht(t.errors,b,K):Vt(t.errors,b)),(K?!Hi(le,K):le)||!Sn(he)||ie){const Ie={...he,...ie&&br($)?{isValid:$}:{},errors:t.errors,name:b};t={...t,...Ie},E.state.next(Ie)}},S=async b=>{Z(b,!0);const $=await e.resolver(a,e.context,pN(b||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return Z(b),$},C=async b=>{const{errors:$}=await S(b);if(b)for(const K of b){const he=Ee($,K);he?ht(t.errors,K,he):Vt(t.errors,K)}else t.errors=$;return $},P=async(b,$,K={valid:!0})=>{for(const he in b){const le=b[he];if(le){const{_f:ie,...Ie}=le;if(ie){const Me=d.array.has(ie.name),qe=le._f&&mN(le._f);qe&&_.validatingFields&&Z([he],!0);const $e=await g_(le,a,V,e.shouldUseNativeValidation&&!$,Me);if(qe&&_.validatingFields&&Z([he]),$e[ie.name]&&(K.valid=!1,$))break;!$&&(Ee($e,ie.name)?Me?cN(t.errors,$e,ie.name):ht(t.errors,ie.name,$e[ie.name]):Vt(t.errors,ie.name))}!Sn(Ie)&&await P(Ie,$,K)}}return K.valid},D=()=>{for(const b of d.unMount){const $=Ee(i,b);$&&($._f.refs?$._f.refs.every(K=>!jf(K)):!jf($._f.ref))&&ze(b)}d.unMount=new Set},x=(b,$)=>!e.disabled&&(b&&$&&ht(a,b,$),!Hi(M(),o)),I=(b,$,K)=>lN(b,d,{...u.mount?a:St($)?o:Lr(b)?{[b]:$}:$},K,$),Ne=b=>Bh(Ee(u.mount?a:o,b,n.shouldUnregister?Ee(o,b,[]):[])),Ae=(b,$,K={})=>{const he=Ee(i,b);let le=$;if(he){const ie=he._f;ie&&(!ie.disabled&&ht(a,b,Mw($,ie)),le=ch(ie.ref)&&pn($)?"":$,Dw(ie.ref)?[...ie.ref.options].forEach(Ie=>Ie.selected=le.includes(Ie.value)):ie.refs?Zl(ie.ref)?ie.refs.length>1?ie.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(le)?!!le.find(Me=>Me===Ie.value):le===Ie.value)):ie.refs[0]&&(ie.refs[0].checked=!!le):ie.refs.forEach(Ie=>Ie.checked=Ie.value===le):vm(ie.ref)?ie.ref.value="":(ie.ref.value=le,ie.ref.type||E.values.next({name:b,values:{...a}})))}(K.shouldDirty||K.shouldTouch)&&ve(b,le,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&ce(b)},Ge=(b,$,K)=>{for(const he in $){const le=$[he],ie=`${b}.${he}`,Ie=Ee(i,ie);(d.array.has(b)||Rt(le)||Ie&&!Ie._f)&&!Us(le)?Ge(ie,le,K):Ae(ie,le,K)}},Re=(b,$,K={})=>{const he=Ee(i,b),le=d.array.has(b),ie=Gn($);ht(a,b,ie),le?(E.array.next({name:b,values:{...a}}),(_.isDirty||_.dirtyFields)&&K.shouldDirty&&E.state.next({name:b,dirtyFields:cl(o,a),isDirty:x(b,ie)})):he&&!he._f&&!pn(ie)?Ge(b,ie,K):Ae(b,ie,K),h_(b,d)&&E.state.next({...t}),E.values.next({name:u.mount?b:void 0,values:{...a}})},se=async b=>{u.mount=!0;const $=b.target;let K=$.name,he=!0;const le=Ee(i,K),ie=()=>$.type?Bf(le._f):tN(b),Ie=Me=>{he=Number.isNaN(Me)||Us(Me)&&isNaN(Me.getTime())||Hi(Me,Ee(a,K,Me))};if(le){let Me,qe;const $e=ie(),Wt=b.type===u_.BLUR||b.type===u_.FOCUS_OUT,cs=!gN(le._f)&&!e.resolver&&!Ee(t.errors,K)&&!le._f.deps||yN(Wt,Ee(t.touchedFields,K),t.isSubmitted,F,R),Mn=h_(K,d,Wt);ht(a,K,$e),Wt?(le._f.onBlur&&le._f.onBlur(b),p&&p(0)):le._f.onChange&&le._f.onChange(b);const Yn=ve(K,$e,Wt,!1),qr=!Sn(Yn)||Mn;if(!Wt&&E.values.next({name:K,type:b.type,values:{...a}}),cs)return _.isValid&&(n.mode==="onBlur"?Wt&&k():k()),qr&&E.state.next({name:K,...Mn?{}:Yn});if(!Wt&&Mn&&E.state.next({...t}),e.resolver){const{errors:gi}=await S([K]);if(Ie($e),he){const hs=v_(t.errors,i,K),yi=v_(gi,i,hs.name||K);Me=yi.error,K=yi.name,qe=Sn(gi)}}else Z([K],!0),Me=(await g_(le,a,V,e.shouldUseNativeValidation))[K],Z([K]),Ie($e),he&&(Me?qe=!1:_.isValid&&(qe=await P(i,!0)));he&&(le._f.deps&&ce(le._f.deps),N(K,qe,Me,Yn))}},me=(b,$)=>{if(Ee(t.errors,$)&&b.focus)return b.focus(),1},ce=async(b,$={})=>{let K,he;const le=Vc(b);if(e.resolver){const ie=await C(St(b)?b:le);K=Sn(ie),he=b?!le.some(Ie=>Ee(ie,Ie)):K}else b?(he=(await Promise.all(le.map(async ie=>{const Ie=Ee(i,ie);return await P(Ie&&Ie._f?{[ie]:Ie}:Ie)}))).every(Boolean),!(!he&&!t.isValid)&&k()):he=K=await P(i);return E.state.next({...!Lr(b)||_.isValid&&K!==t.isValid?{}:{name:b},...e.resolver||!b?{isValid:K}:{},errors:t.errors}),$.shouldFocus&&!he&&Al(i,me,b?le:d.mount),he},M=b=>{const $={...u.mount?a:o};return St(b)?$:Lr(b)?Ee($,b):b.map(K=>Ee($,K))},J=(b,$)=>({invalid:!!Ee(($||t).errors,b),isDirty:!!Ee(($||t).dirtyFields,b),error:Ee(($||t).errors,b),isValidating:!!Ee(t.validatingFields,b),isTouched:!!Ee(($||t).touchedFields,b)}),Se=b=>{b&&Vc(b).forEach($=>Vt(t.errors,$)),E.state.next({errors:b?t.errors:{}})},Ue=(b,$,K)=>{const he=(Ee(i,b,{_f:{}})._f||{}).ref,le=Ee(t.errors,b)||{},{ref:ie,message:Ie,type:Me,...qe}=le;ht(t.errors,b,{...qe,...$,ref:he}),E.state.next({name:b,errors:t.errors,isValid:!1}),K&&K.shouldFocus&&he&&he.focus&&he.focus()},Be=(b,$)=>Or(b)?E.values.subscribe({next:K=>b(I(void 0,$),K)}):I(b,$,!0),ze=(b,$={})=>{for(const K of b?Vc(b):d.mount)d.mount.delete(K),d.array.delete(K),$.keepValue||(Vt(i,K),Vt(a,K)),!$.keepError&&Vt(t.errors,K),!$.keepDirty&&Vt(t.dirtyFields,K),!$.keepTouched&&Vt(t.touchedFields,K),!$.keepIsValidating&&Vt(t.validatingFields,K),!e.shouldUnregister&&!$.keepDefaultValue&&Vt(o,K);E.values.next({values:{...a}}),E.state.next({...t,...$.keepDirty?{isDirty:x()}:{}}),!$.keepIsValid&&k()},Ye=({disabled:b,name:$,field:K,fields:he,value:le})=>{if(br(b)&&u.mount||b){const ie=b?void 0:St(le)?Bf(K?K._f:Ee(he,$)._f):le;ht(a,$,ie),ve($,ie,!1,!1,!0)}},Qe=(b,$={})=>{let K=Ee(i,b);const he=br($.disabled)||br(e.disabled);return ht(i,b,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:b}},name:b,mount:!0,...$}}),d.mount.add(b),K?Ye({field:K,disabled:br($.disabled)?$.disabled:e.disabled,name:b,value:$.value}):fe(b,!0,$.value),{...he?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:hl($.min),max:hl($.max),minLength:hl($.minLength),maxLength:hl($.maxLength),pattern:hl($.pattern)}:{},name:b,onChange:se,onBlur:se,ref:le=>{if(le){Qe(b,$),K=Ee(i,b);const ie=St(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Ie=fN(ie),Me=K._f.refs||[];if(Ie?Me.find(qe=>qe===ie):ie===K._f.ref)return;ht(i,b,{_f:{...K._f,...Ie?{refs:[...Me.filter(jf),ie,...Array.isArray(Ee(o,b))?[{}]:[]],ref:{type:ie.type,name:b}}:{ref:ie}}}),fe(b,!1,void 0,ie)}else K=Ee(i,b,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(rN(d.array,b)&&u.action)&&d.unMount.add(b)}}},it=()=>e.shouldFocusError&&Al(i,me,d.mount),At=b=>{br(b)&&(E.state.next({disabled:b}),Al(i,($,K)=>{const he=Ee(i,K);he&&($.disabled=he._f.disabled||b,Array.isArray(he._f.refs)&&he._f.refs.forEach(le=>{le.disabled=he._f.disabled||b}))},0,!1))},Vn=(b,$)=>async K=>{let he;if(K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist()),e.disabled){$&&await $({...t.errors},K);return}let le=Gn(a);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:Ie}=await S();t.errors=ie,le=Ie}else await P(i);if(Vt(t.errors,"root"),Sn(t.errors)){E.state.next({errors:{}});try{await b(le,K)}catch(ie){he=ie}}else $&&await $({...t.errors},K),it(),setTimeout(it);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sn(t.errors)&&!he,submitCount:t.submitCount+1,errors:t.errors}),he)throw he},mi=(b,$={})=>{Ee(i,b)&&(St($.defaultValue)?Re(b,Gn(Ee(o,b))):(Re(b,$.defaultValue),ht(o,b,Gn($.defaultValue))),$.keepTouched||Vt(t.touchedFields,b),$.keepDirty||(Vt(t.dirtyFields,b),t.isDirty=$.defaultValue?x(b,Gn(Ee(o,b))):x()),$.keepError||(Vt(t.errors,b),_.isValid&&k()),E.state.next({...t}))},Xn=(b,$={})=>{const K=b?Gn(b):o,he=Gn(K),le=Sn(b),ie=le?o:he;if($.keepDefaultValues||(o=K),!$.keepValues){if($.keepDirtyValues){const Ie=new Set([...d.mount,...Object.keys(cl(o,a))]);for(const Me of Array.from(Ie))Ee(t.dirtyFields,Me)?ht(ie,Me,Ee(a,Me)):Re(Me,Ee(ie,Me))}else{if(gm&&St(b))for(const Ie of d.mount){const Me=Ee(i,Ie);if(Me&&Me._f){const qe=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(ch(qe)){const $e=qe.closest("form");if($e){$e.reset();break}}}}i={}}a=n.shouldUnregister?$.keepDefaultValues?Gn(o):{}:Gn(ie),E.array.next({values:{...ie}}),E.values.next({values:{...ie}})}d={mount:$.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!_.isValid||!!$.keepIsValid||!!$.keepDirtyValues,u.watch=!!n.shouldUnregister,E.state.next({submitCount:$.keepSubmitCount?t.submitCount:0,isDirty:le?!1:$.keepDirty?t.isDirty:!!($.keepDefaultValues&&!Hi(b,o)),isSubmitted:$.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:le?{}:$.keepDirtyValues?$.keepDefaultValues&&a?cl(o,a):t.dirtyFields:$.keepDefaultValues&&b?cl(o,b):$.keepDirty?t.dirtyFields:{},touchedFields:$.keepTouched?t.touchedFields:{},errors:$.keepErrors?t.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},_r=(b,$)=>Xn(Or(b)?b(a):b,$);return{control:{register:Qe,unregister:ze,getFieldState:J,handleSubmit:Vn,setError:Ue,_executeSchema:S,_getWatch:I,_getDirty:x,_updateValid:k,_removeUnmounted:D,_updateFieldArray:Q,_updateDisabledField:Ye,_getFieldArray:Ne,_reset:Xn,_resetDefaultValues:()=>Or(e.defaultValues)&&e.defaultValues().then(b=>{_r(b,e.resetOptions),E.state.next({isLoading:!1})}),_updateFormState:b=>{t={...t,...b}},_disableForm:At,_subjects:E,_proxyFormState:_,_setErrors:ae,get _fields(){return i},get _formValues(){return a},get _state(){return u},set _state(b){u=b},get _defaultValues(){return o},get _names(){return d},set _names(b){d=b},get _formState(){return t},set _formState(b){t=b},get _options(){return e},set _options(b){e={...e,...b}}},trigger:ce,register:Qe,handleSubmit:Vn,watch:Be,setValue:Re,getValues:M,reset:_r,resetField:mi,clearErrors:Se,unregister:ze,setError:Ue,setFocus:(b,$={})=>{const K=Ee(i,b),he=K&&K._f;if(he){const le=he.refs?he.refs[0]:he.ref;le.focus&&(le.focus(),$.shouldSelect&&Or(le.select)&&le.select())}},getFieldState:J}}function Fw(n={}){const e=De.useRef(),t=De.useRef(),[i,o]=De.useState({isDirty:!1,isValidating:!1,isLoading:Or(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Or(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...EN(n),formState:i});const a=e.current.control;return a._options=n,aN({subject:a._subjects.state,next:u=>{oN(u,a._proxyFormState,a._updateFormState)&&o({...a._formState})}}),De.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),De.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==i.isDirty&&a._subjects.state.next({isDirty:u})}},[a,i.isDirty]),De.useEffect(()=>{n.values&&!Hi(n.values,t.current)?(a._reset(n.values,a._options.resetOptions),t.current=n.values,o(u=>({...u}))):a._resetDefaultValues()},[n.values,a]),De.useEffect(()=>{n.errors&&a._setErrors(n.errors)},[n.errors,a]),De.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),De.useEffect(()=>{n.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[n.shouldUnregister,a]),e.current.formState=sN(i,a),e.current}function wN(){const{register:n,handleSubmit:e,reset:t,formState:{errors:i}}=Fw(),o=async a=>{try{const u=await Jx(fw(jh,"articles"),a);console.log(u.id),t()}catch(u){console.error(" une erreur est survenue",u)}};return console.log(onsubmit),z.jsxs("div",{className:"max-w-[400px] w-full bg-white p-6 rounded-md shadow-md mt-12",children:[z.jsx("h1",{className:"text-4xl mb-4 font-bold uppercase text-amber-600",children:" Publier un article"}),z.jsxs("form",{onSubmit:e(o),noValidate:!0,children:[z.jsxs("div",{className:"mb-4",children:[z.jsx("label",{className:"block",htmlFor:"title",children:" Votre Titre : "}),z.jsx("input",{className:" outline-none form-input mt-1 block w-full border-b border-b*gray-300",type:"text",id:"title",...n("title",{required:"Ce champ est requis"})}),i.title&&z.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.title.message})]}),z.jsxs("div",{className:"mb-4",children:[z.jsx("label",{className:"block",htmlFor:"pseudo",children:" Votre pseudo : "}),z.jsx("input",{className:" outline-none form-input mt-1 block w-full border-b border-b*gray-300",type:"text",id:"pseudo",...n("pseudo",{required:"Ce champ est requis"})}),i.pseudo&&z.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.subTitle.pseudo})]}),z.jsxs("div",{className:"mb-4",children:[z.jsx("label",{className:"block",htmlFor:"message",children:" Votre articles : "}),z.jsx("input",{className:" outline-none form-input mt-1 block w-full border-b border-b*gray-300",type:"text",id:"message",...n("message",{required:"Ce champ est requis"})}),i.message&&z.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.title.message})]}),z.jsx("div",{className:"mt-4",children:z.jsx("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-md",children:" Envoyer votre article"})})]})]})}function TN(){const[n,e]=de.useState(null),t=pa(),i=async()=>{Fl.onAuthStateChanged(async u=>{console.log(u);const d=cm(jh,"Users",u.uid),p=await Kx(d);p.exists()?e(p.data()):console.log(" utlisateur non connecter")})};de.useEffect(()=>{i()},[]);async function o(){try{await Fl.signOut(),t("/"),console.log("deconection reussit")}catch(u){console.error("errur lors de la requete",u.message)}}function a(){t("/membres")}return z.jsxs("div",{className:"w-full  flex items-center justify-center flex-col gap-2",children:[n?z.jsxs("div",{className:"max-w-[400px] w-full bg-white p-6 rounded-md shadow-md mt-10",children:[z.jsxs("h3",{className:"text-6xl ",children:[" bonjour ",n.firstname]}),z.jsxs("div",{className:"mt-10",children:[z.jsxs("p",{className:"text-2xl mb-4 font-bold uppercase text-black-600",children:[" Votre Email : ",n.email]}),z.jsx("br",{}),z.jsxs("p",{className:"text-2xl mb-4 font-bold uppercase text-black-600",children:[" Votre prenom : ",n.firstName]}),z.jsx("br",{}),z.jsxs("p",{className:"text-2xl mb-4 font-bold uppercase text-black-600",children:[" votre nom : ",n.lastName]})]}),z.jsx("button",{onClick:o,className:"bg-[blue] text-[white] rounded",children:" se deconnecter"}),z.jsx("br",{}),z.jsx("br",{}),z.jsx("button",{onClick:a,className:"bg-[blue] text-[white] rounded ",children:" acceder a votre espace Membres "})]}):z.jsx("p",{children:" chargement...."}),z.jsx("form",{}),z.jsx(wN,{})]})}function SN(){const[n,e]=de.useState([]);return de.useEffect(()=>{(async()=>{try{const i=await Gx(fw(jh,"articles")),o=[];i.forEach(a=>{o.push({id:a.id,...a.data()}),e(o)})}catch(i){console.error("erreur",i)}})()}),z.jsxs(z.Fragment,{children:[z.jsx("h2",{className:"font-bold text-center text-4xl uppercase text-amber-900",children:" Liste des articles "}),z.jsx("div",{className:"grid grids-cols-1 md:grid cols-2 lg:grid-cols xl: grid-cols-4 gap-4 pt-20"}),n.map(t=>z.jsxs("div",{className:"bg-white p-4 shadow-md",children:[z.jsx("h2",{className:"text-4xl font-bold mb-2 text-red-600",children:t.title}),z.jsx("h2",{className:"text-2xl font-semibold mb-2 1px text-blue-700",children:t.pseudo}),z.jsx("p",{className:"text-sm text-[]font-bold mb-2 text-red-500",children:t.message}),z.jsx("hr",{})]},t.id))]})}var Uw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},__=De.createContext&&De.createContext(Uw),IN=["attr","size","title"];function RN(n,e){if(n==null)return{};var t=AN(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function AN(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function fh(){return fh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fh.apply(this,arguments)}function E_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function ph(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(t),!0).forEach(function(i){CN(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CN(n,e,t){return e=PN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PN(n){var e=kN(n,"string");return typeof e=="symbol"?e:e+""}function kN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jw(n){return n&&n.map((e,t)=>De.createElement(e.tag,ph({key:t},e.attr),jw(e.child)))}function xN(n){return e=>De.createElement(NN,fh({attr:ph({},n.attr)},e),jw(n.child))}function NN(n){var e=t=>{var{attr:i,size:o,title:a}=n,u=RN(n,IN),d=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),De.createElement("svg",fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:p,style:ph(ph({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&De.createElement("title",null,a),n.children)};return __!==void 0?De.createElement(__.Consumer,null,t=>e(t)):e(Uw)}function Bw(n){return xN({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(n)}function bN(){const n=pa();function e(){n("/login")}return z.jsxs("div",{className:"w-full h-screen flex items-center justify-center flex-col gap-2",children:[z.jsx("button",{onClick:e,children:z.jsx(Bw,{})}),z.jsx(SN,{})]})}function ON(){const n=pa();function e(){n("/")}return z.jsxs("div",{className:"w-full h-screen flex items-center justify-center mt-10 flex-col gap-2",children:[z.jsx("button",{className:"bg-[blue] px-3 py-3 rouded hover:bg-[red-500]",onClick:e,children:z.jsx(Bw,{})}),z.jsx("img",{src:wh,alt:"logo du site ",className:"mb-4 object-contain"}),z.jsxs("h1",{className:"text-4xl text-white font-black mb-2 text-center uppercase flex items-center",children:[z.jsx(ra.Typewriter,{typeSpeed:30,words:["prsentation","du","club"],loop:0}),z.jsx("span",{children:z.jsx(ra.Cursor,{})})]}),z.jsx("p",{className:"mt-10 ",children:z.jsx("p",{className:"italic font-semibold text-2xl text-[white]",children:"Cr en 1976 sous le nom dANMB, le club a chang de nom en 1997 pour devenir ACB. Les installations actuelles, inaugures en 1991, ont permis la formation de nombreux rameurs qui se sont illustrs dans diverses comptitions nationales et internationales grce  la qualit de leurs quipements. Parmi les titres de champions de France et du monde, ainsi que des slections en quipe nationale, mettant  lhonneur des sportifs de haut niveau comme Cdric Chaumont, Frdric Doucet ou encore Christophe Jeanton, pour ne citer queux. Cet hritage perdure aujourdhui, comme en tmoignent les mdailles remportes aux championnats de France cadets et juniors. Vous pouvez vous rassurer en sachant que mme si vous ne vous considrez pas comme un champion, laviron peut tre pratiqu comme un loisir. Cette activit vous permettra de dcouvrir certaines des plus belles rivires de France au travers de randonnes tranquilles privilgiant la dtente et la camaraderie. Laviron est un sport complet qui peut tre pratiqu par des personnes de tout ge, de tout niveau et en toute saison."})})]})}function DN(){const n=pa();function e(){n("/payer")}return z.jsxs("div",{className:"w-full h-screen flex items-center justify-center flex-col gap-2",children:[z.jsx("img",{src:wh,alt:""}),z.jsxs("h1",{className:"text-4xl text-white font-black mb-2 text-center uppercase flex items-center",children:[z.jsx(ra.Typewriter,{typeSpeed:30,words:["nos","horaires","et","tarifs"],loop:0}),z.jsx("span",{children:z.jsx(ra.Cursor,{})})]}),z.jsx("button",{onClick:e,children:" pour payer "})]})}var zw="https://js.stripe.com/v3",LN=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,w_="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",VN=function(){for(var e=document.querySelectorAll('script[src^="'.concat(zw,'"]')),t=0;t<e.length;t++){var i=e[t];if(LN.test(i.src))return i}return null},T_=function(e){var t="",i=document.createElement("script");i.src="".concat(zw).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(i),i},MN=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.1.0",startTime:t})},dl=null,Ic=null,Rc=null,FN=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},UN=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},jN=function(e){return dl!==null?dl:(dl=new Promise(function(t,i){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(w_),window.Stripe){t(window.Stripe);return}try{var o=VN();if(o&&e)console.warn(w_);else if(!o)o=T_(e);else if(o&&Rc!==null&&Ic!==null){var a;o.removeEventListener("load",Rc),o.removeEventListener("error",Ic),(a=o.parentNode)===null||a===void 0||a.removeChild(o),o=T_(e)}Rc=UN(t,i),Ic=FN(i),o.addEventListener("load",Rc),o.addEventListener("error",Ic)}catch(u){i(u);return}}),dl.catch(function(t){return dl=null,Promise.reject(t)}))},BN=function(e,t,i){if(e===null)return null;var o=e.apply(void 0,t);return MN(o,i),o},fl,qw=!1,$w=function(){return fl||(fl=jN(null).catch(function(e){return fl=null,Promise.reject(e)}),fl)};Promise.resolve().then(function(){return $w()}).catch(function(n){qw||console.warn(n)});var zN=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];qw=!0;var o=Date.now();return $w().then(function(a){return BN(a,t,o)})},zf={exports:{}},qf,S_;function qN(){if(S_)return qf;S_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qf=n,qf}var $f,I_;function $N(){if(I_)return $f;I_=1;var n=qN();function e(){}function t(){}return t.resetWarningCache=e,$f=function(){function i(u,d,p,y,_,E){if(E!==n){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},$f}var R_;function WN(){return R_||(R_=1,zf.exports=$N()()),zf.exports}var HN=WN();const yt=H_(HN);function A_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function C_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A_(Object(t),!0).forEach(function(i){Ww(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Fc(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fc=function(e){return typeof e}:Fc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(n)}function Ww(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hw(n,e){return KN(n)||GN(n,e)||QN(n,e)||JN()}function KN(n){if(Array.isArray(n))return n}function GN(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var i=[],o=!0,a=!1,u,d;try{for(t=t.call(n);!(o=(u=t.next()).done)&&(i.push(u.value),!(e&&i.length===e));o=!0);}catch(p){a=!0,d=p}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw d}}return i}}function QN(n,e){if(n){if(typeof n=="string")return P_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P_(n,e)}}function P_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function JN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var On=function(e,t,i){var o=!!i,a=De.useRef(i);De.useEffect(function(){a.current=i},[i]),De.useEffect(function(){if(!o||!e)return function(){};var u=function(){a.current&&a.current.apply(a,arguments)};return e.on(t,u),function(){e.off(t,u)}},[o,t,e,a])},Tp=function(e){var t=De.useRef(e);return De.useEffect(function(){t.current=e},[e]),t.current},da=function(e){return e!==null&&Fc(e)==="object"},XN=function(e){return da(e)&&typeof e.then=="function"},YN=function(e){return da(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},k_="[object Object]",ZN=function n(e,t){if(!da(e)||!da(t))return e===t;var i=Array.isArray(e),o=Array.isArray(t);if(i!==o)return!1;var a=Object.prototype.toString.call(e)===k_,u=Object.prototype.toString.call(t)===k_;if(a!==u)return!1;if(!a&&!i)return e===t;var d=Object.keys(e),p=Object.keys(t);if(d.length!==p.length)return!1;for(var y={},_=0;_<d.length;_+=1)y[d[_]]=!0;for(var E=0;E<p.length;E+=1)y[p[E]]=!0;var R=Object.keys(y);if(R.length!==d.length)return!1;var F=e,V=t,U=function(Z){return n(F[Z],V[Z])};return R.every(U)},Kw=function(e,t,i){return da(e)?Object.keys(e).reduce(function(o,a){var u=!da(t)||!ZN(e[a],t[a]);return i.includes(a)?(u&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),o):u?C_(C_({},o||{}),{},Ww({},a,e[a])):o},null):null},Gw="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",x_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gw;if(e===null||YN(e))return e;throw new Error(t)},eb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gw;if(XN(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(o){return x_(o,t)})};var i=x_(e,t);return i===null?{tag:"empty"}:{tag:"sync",stripe:i}},tb=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},zh=De.createContext(null);zh.displayName="ElementsContext";var Qw=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Jw=function(e){var t=e.stripe,i=e.options,o=e.children,a=De.useMemo(function(){return eb(t)},[t]),u=De.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(i):null}}),d=Hw(u,2),p=d[0],y=d[1];De.useEffect(function(){var R=!0,F=function(U){y(function(k){return k.stripe?k:{stripe:U,elements:U.elements(i)}})};return a.tag==="async"&&!p.stripe?a.stripePromise.then(function(V){V&&R&&F(V)}):a.tag==="sync"&&!p.stripe&&F(a.stripe),function(){R=!1}},[a,p,i]);var _=Tp(t);De.useEffect(function(){_!==null&&_!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[_,t]);var E=Tp(i);return De.useEffect(function(){if(p.elements){var R=Kw(i,E,["clientSecret","fonts"]);R&&p.elements.update(R)}},[i,E,p.elements]),De.useEffect(function(){tb(p.stripe)},[p.stripe]),De.createElement(zh.Provider,{value:p},o)};Jw.propTypes={stripe:yt.any,options:yt.object};var nb=function(e){var t=De.useContext(zh);return Qw(t,e)},rb=function(){var e=nb("calls useElements()"),t=e.elements;return t};yt.func.isRequired;var Xw=De.createContext(null);Xw.displayName="CheckoutSdkContext";var ib=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},sb=De.createContext(null);sb.displayName="CheckoutContext";yt.any,yt.shape({clientSecret:yt.string.isRequired,elementsOptions:yt.object}).isRequired;var Sp=function(e){var t=De.useContext(Xw),i=De.useContext(zh);if(t&&i)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?ib(t,e):Qw(i,e)},ob=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Nt=function(e,t){var i="".concat(ob(e),"Element"),o=function(p){var y=p.id,_=p.className,E=p.options,R=E===void 0?{}:E,F=p.onBlur,V=p.onFocus,U=p.onReady,k=p.onChange,Z=p.onEscape,Q=p.onClick,Y=p.onLoadError,ae=p.onLoaderStart,fe=p.onNetworksChange,ve=p.onConfirm,N=p.onCancel,S=p.onShippingAddressChange,C=p.onShippingRateChange,P=Sp("mounts <".concat(i,">")),D="elements"in P?P.elements:null,x="checkoutSdk"in P?P.checkoutSdk:null,I=De.useState(null),Ne=Hw(I,2),Ae=Ne[0],Ge=Ne[1],Re=De.useRef(null),se=De.useRef(null);On(Ae,"blur",F),On(Ae,"focus",V),On(Ae,"escape",Z),On(Ae,"click",Q),On(Ae,"loaderror",Y),On(Ae,"loaderstart",ae),On(Ae,"networkschange",fe),On(Ae,"confirm",ve),On(Ae,"cancel",N),On(Ae,"shippingaddresschange",S),On(Ae,"shippingratechange",C),On(Ae,"change",k);var me;U&&(e==="expressCheckout"?me=U:me=function(){U(Ae)}),On(Ae,"ready",me),De.useLayoutEffect(function(){if(Re.current===null&&se.current!==null&&(D||x)){var M=null;x?M=x.createElement(e,R):D&&(M=D.create(e,R)),Re.current=M,Ge(M),M&&M.mount(se.current)}},[D,x,R]);var ce=Tp(R);return De.useEffect(function(){if(Re.current){var M=Kw(R,ce,["paymentRequest"]);M&&"update"in Re.current&&Re.current.update(M)}},[R,ce]),De.useLayoutEffect(function(){return function(){if(Re.current&&typeof Re.current.destroy=="function")try{Re.current.destroy(),Re.current=null}catch{}}},[]),De.createElement("div",{id:y,className:_,ref:se})},a=function(p){Sp("mounts <".concat(i,">"));var y=p.id,_=p.className;return De.createElement("div",{id:y,className:_})},u=t?a:o;return u.propTypes={id:yt.string,className:yt.string,onChange:yt.func,onBlur:yt.func,onFocus:yt.func,onReady:yt.func,onEscape:yt.func,onClick:yt.func,onLoadError:yt.func,onLoaderStart:yt.func,onNetworksChange:yt.func,onConfirm:yt.func,onCancel:yt.func,onShippingAddressChange:yt.func,onShippingRateChange:yt.func,options:yt.object},u.displayName=i,u.__elementType=e,u},bt=typeof window>"u",ab=De.createContext(null);ab.displayName="EmbeddedCheckoutProviderContext";var lb=function(){var e=Sp("calls useStripe()"),t=e.stripe;return t};Nt("auBankAccount",bt);var N_=Nt("card",bt);Nt("cardNumber",bt);Nt("cardExpiry",bt);Nt("cardCvc",bt);Nt("fpxBank",bt);Nt("iban",bt);Nt("idealBank",bt);Nt("p24Bank",bt);Nt("epsBank",bt);Nt("payment",bt);Nt("expressCheckout",bt);Nt("currencySelector",bt);Nt("paymentRequestButton",bt);Nt("linkAuthentication",bt);Nt("address",bt);Nt("shippingAddress",bt);Nt("paymentMethodMessaging",bt);Nt("affirmMessage",bt);Nt("afterpayClearpayMessage",bt);function Yw(n,e){return function(){return n.apply(e,arguments)}}const{toString:ub}=Object.prototype,{getPrototypeOf:Em}=Object,qh=(n=>e=>{const t=ub.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),vr=n=>(n=n.toLowerCase(),e=>qh(e)===n),$h=n=>e=>typeof e===n,{isArray:wa}=Array,Ul=$h("undefined");function cb(n){return n!==null&&!Ul(n)&&n.constructor!==null&&!Ul(n.constructor)&&Ln(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Zw=vr("ArrayBuffer");function hb(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Zw(n.buffer),e}const db=$h("string"),Ln=$h("function"),eT=$h("number"),Wh=n=>n!==null&&typeof n=="object",fb=n=>n===!0||n===!1,Uc=n=>{if(qh(n)!=="object")return!1;const e=Em(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},pb=vr("Date"),mb=vr("File"),gb=vr("Blob"),yb=vr("FileList"),vb=n=>Wh(n)&&Ln(n.pipe),_b=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ln(n.append)&&((e=qh(n))==="formdata"||e==="object"&&Ln(n.toString)&&n.toString()==="[object FormData]"))},Eb=vr("URLSearchParams"),[wb,Tb,Sb,Ib]=["ReadableStream","Request","Response","Headers"].map(vr),Rb=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,o;if(typeof n!="object"&&(n=[n]),wa(n))for(i=0,o=n.length;i<o;i++)e.call(null,n[i],i,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let d;for(i=0;i<u;i++)d=a[i],e.call(null,n[d],d,n)}}function tT(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nT=n=>!Ul(n)&&n!==js;function Ip(){const{caseless:n}=nT(this)&&this||{},e={},t=(i,o)=>{const a=n&&tT(e,o)||o;Uc(e[a])&&Uc(i)?e[a]=Ip(e[a],i):Uc(i)?e[a]=Ip({},i):wa(i)?e[a]=i.slice():e[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&eu(arguments[i],t);return e}const Ab=(n,e,t,{allOwnKeys:i}={})=>(eu(e,(o,a)=>{t&&Ln(o)?n[a]=Yw(o,t):n[a]=o},{allOwnKeys:i}),n),Cb=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Pb=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},kb=(n,e,t,i)=>{let o,a,u;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!i||i(u,n,e))&&!d[u]&&(e[u]=n[u],d[u]=!0);n=t!==!1&&Em(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},xb=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Nb=n=>{if(!n)return null;if(wa(n))return n;let e=n.length;if(!eT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},bb=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Em(Uint8Array)),Ob=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=i.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},Db=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},Lb=vr("HTMLFormElement"),Vb=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),b_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Mb=vr("RegExp"),rT=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};eu(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(i[a]=u||o)}),Object.defineProperties(n,i)},Fb=n=>{rT(n,(e,t)=>{if(Ln(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Ln(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ub=(n,e)=>{const t={},i=o=>{o.forEach(a=>{t[a]=!0})};return wa(n)?i(n):i(String(n).split(e)),t},jb=()=>{},Bb=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Wf="abcdefghijklmnopqrstuvwxyz",O_="0123456789",iT={DIGIT:O_,ALPHA:Wf,ALPHA_DIGIT:Wf+Wf.toUpperCase()+O_},zb=(n=16,e=iT.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function qb(n){return!!(n&&Ln(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const $b=n=>{const e=new Array(10),t=(i,o)=>{if(Wh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const a=wa(i)?[]:{};return eu(i,(u,d)=>{const p=t(u,o+1);!Ul(p)&&(a[d]=p)}),e[o]=void 0,a}}return i};return t(n,0)},Wb=vr("AsyncFunction"),Hb=n=>n&&(Wh(n)||Ln(n))&&Ln(n.then)&&Ln(n.catch),sT=((n,e)=>n?setImmediate:e?((t,i)=>(js.addEventListener("message",({source:o,data:a})=>{o===js&&a===t&&i.length&&i.shift()()},!1),o=>{i.push(o),js.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ln(js.postMessage)),Kb=typeof queueMicrotask<"u"?queueMicrotask.bind(js):typeof process<"u"&&process.nextTick||sT,G={isArray:wa,isArrayBuffer:Zw,isBuffer:cb,isFormData:_b,isArrayBufferView:hb,isString:db,isNumber:eT,isBoolean:fb,isObject:Wh,isPlainObject:Uc,isReadableStream:wb,isRequest:Tb,isResponse:Sb,isHeaders:Ib,isUndefined:Ul,isDate:pb,isFile:mb,isBlob:gb,isRegExp:Mb,isFunction:Ln,isStream:vb,isURLSearchParams:Eb,isTypedArray:bb,isFileList:yb,forEach:eu,merge:Ip,extend:Ab,trim:Rb,stripBOM:Cb,inherits:Pb,toFlatObject:kb,kindOf:qh,kindOfTest:vr,endsWith:xb,toArray:Nb,forEachEntry:Ob,matchAll:Db,isHTMLForm:Lb,hasOwnProperty:b_,hasOwnProp:b_,reduceDescriptors:rT,freezeMethods:Fb,toObjectSet:Ub,toCamelCase:Vb,noop:jb,toFiniteNumber:Bb,findKey:tT,global:js,isContextDefined:nT,ALPHABET:iT,generateString:zb,isSpecCompliantForm:qb,toJSONObject:$b,isAsyncFn:Wb,isThenable:Hb,setImmediate:sT,asap:Kb};function je(n,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}G.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const oT=je.prototype,aT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{aT[n]={value:n}});Object.defineProperties(je,aT);Object.defineProperty(oT,"isAxiosError",{value:!0});je.from=(n,e,t,i,o,a)=>{const u=Object.create(oT);return G.toFlatObject(n,u,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),je.call(u,n.message,e,t,i,o),u.cause=n,u.name=n.name,a&&Object.assign(u,a),u};const Gb=null;function Rp(n){return G.isPlainObject(n)||G.isArray(n)}function lT(n){return G.endsWith(n,"[]")?n.slice(0,-2):n}function D_(n,e,t){return n?n.concat(e).map(function(o,a){return o=lT(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function Qb(n){return G.isArray(n)&&!n.some(Rp)}const Jb=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function Hh(n,e,t){if(!G.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=G.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,k){return!G.isUndefined(k[U])});const i=t.metaTokens,o=t.visitor||_,a=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function y(V){if(V===null)return"";if(G.isDate(V))return V.toISOString();if(!p&&G.isBlob(V))throw new je("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(V)||G.isTypedArray(V)?p&&typeof Blob=="function"?new Blob([V]):Buffer.from(V):V}function _(V,U,k){let Z=V;if(V&&!k&&typeof V=="object"){if(G.endsWith(U,"{}"))U=i?U:U.slice(0,-2),V=JSON.stringify(V);else if(G.isArray(V)&&Qb(V)||(G.isFileList(V)||G.endsWith(U,"[]"))&&(Z=G.toArray(V)))return U=lT(U),Z.forEach(function(Y,ae){!(G.isUndefined(Y)||Y===null)&&e.append(u===!0?D_([U],ae,a):u===null?U:U+"[]",y(Y))}),!1}return Rp(V)?!0:(e.append(D_(k,U,a),y(V)),!1)}const E=[],R=Object.assign(Jb,{defaultVisitor:_,convertValue:y,isVisitable:Rp});function F(V,U){if(!G.isUndefined(V)){if(E.indexOf(V)!==-1)throw Error("Circular reference detected in "+U.join("."));E.push(V),G.forEach(V,function(Z,Q){(!(G.isUndefined(Z)||Z===null)&&o.call(e,Z,G.isString(Q)?Q.trim():Q,U,R))===!0&&F(Z,U?U.concat(Q):[Q])}),E.pop()}}if(!G.isObject(n))throw new TypeError("data must be an object");return F(n),e}function L_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function wm(n,e){this._pairs=[],n&&Hh(n,this,e)}const uT=wm.prototype;uT.append=function(e,t){this._pairs.push([e,t])};uT.toString=function(e){const t=e?function(i){return e.call(this,i,L_)}:L_;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function Xb(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cT(n,e,t){if(!e)return n;const i=t&&t.encode||Xb;G.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=G.isURLSearchParams(e)?e.toString():new wm(e,t).toString(i),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class V_{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(i){i!==null&&e(i)})}}const hT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yb=typeof URLSearchParams<"u"?URLSearchParams:wm,Zb=typeof FormData<"u"?FormData:null,eO=typeof Blob<"u"?Blob:null,tO={isBrowser:!0,classes:{URLSearchParams:Yb,FormData:Zb,Blob:eO},protocols:["http","https","file","blob","url","data"]},Tm=typeof window<"u"&&typeof document<"u",Ap=typeof navigator=="object"&&navigator||void 0,nO=Tm&&(!Ap||["ReactNative","NativeScript","NS"].indexOf(Ap.product)<0),rO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iO=Tm&&window.location.href||"http://localhost",sO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tm,hasStandardBrowserEnv:nO,hasStandardBrowserWebWorkerEnv:rO,navigator:Ap,origin:iO},Symbol.toStringTag,{value:"Module"})),ln={...sO,...tO};function oO(n,e){return Hh(n,new ln.classes.URLSearchParams,Object.assign({visitor:function(t,i,o,a){return ln.isNode&&G.isBuffer(t)?(this.append(i,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function aO(n){return G.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lO(n){const e={},t=Object.keys(n);let i;const o=t.length;let a;for(i=0;i<o;i++)a=t[i],e[a]=n[a];return e}function dT(n){function e(t,i,o,a){let u=t[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),p=a>=t.length;return u=!u&&G.isArray(o)?o.length:u,p?(G.hasOwnProp(o,u)?o[u]=[o[u],i]:o[u]=i,!d):((!o[u]||!G.isObject(o[u]))&&(o[u]=[]),e(t,i,o[u],a)&&G.isArray(o[u])&&(o[u]=lO(o[u])),!d)}if(G.isFormData(n)&&G.isFunction(n.entries)){const t={};return G.forEachEntry(n,(i,o)=>{e(aO(i),o,t,0)}),t}return null}function uO(n,e,t){if(G.isString(n))try{return(e||JSON.parse)(n),G.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(n)}const tu={transitional:hT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,a=G.isObject(e);if(a&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return o?JSON.stringify(dT(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return oO(e,this.formSerializer).toString();if((d=G.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Hh(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),uO(e)):e}],transformResponse:[function(e){const t=this.transitional||tu.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(i&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(u)throw d.name==="SyntaxError"?je.from(d,je.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],n=>{tu.headers[n]={}});const cO=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hO=n=>{const e={};let t,i,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),i=u.substring(o+1).trim(),!(!t||e[t]&&cO[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},M_=Symbol("internals");function pl(n){return n&&String(n).trim().toLowerCase()}function jc(n){return n===!1||n==null?n:G.isArray(n)?n.map(jc):String(n)}function dO(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const fO=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Hf(n,e,t,i,o){if(G.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!G.isString(e)){if(G.isString(i))return e.indexOf(i)!==-1;if(G.isRegExp(i))return i.test(e)}}function pO(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function mO(n,e){const t=G.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(o,a,u){return this[i].call(this,e,o,a,u)},configurable:!0})})}class Rn{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function a(d,p,y){const _=pl(p);if(!_)throw new Error("header name must be a non-empty string");const E=G.findKey(o,_);(!E||o[E]===void 0||y===!0||y===void 0&&o[E]!==!1)&&(o[E||p]=jc(d))}const u=(d,p)=>G.forEach(d,(y,_)=>a(y,_,p));if(G.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(G.isString(e)&&(e=e.trim())&&!fO(e))u(hO(e),t);else if(G.isHeaders(e))for(const[d,p]of e.entries())a(p,d,i);else e!=null&&a(t,e,i);return this}get(e,t){if(e=pl(e),e){const i=G.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return dO(o);if(G.isFunction(t))return t.call(this,o,i);if(G.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pl(e),e){const i=G.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Hf(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function a(u){if(u=pl(u),u){const d=G.findKey(i,u);d&&(!t||Hf(i,i[d],d,t))&&(delete i[d],o=!0)}}return G.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const a=t[i];(!e||Hf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,i={};return G.forEach(this,(o,a)=>{const u=G.findKey(i,a);if(u){t[u]=jc(o),delete t[a];return}const d=e?pO(a):String(a).trim();d!==a&&delete t[a],t[d]=jc(o),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return G.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&G.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[M_]=this[M_]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=pl(u);i[d]||(mO(o,u),i[d]=!0)}return G.isArray(e)?e.forEach(a):a(e),this}}Rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Rn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});G.freezeMethods(Rn);function Kf(n,e){const t=this||tu,i=e||t,o=Rn.from(i.headers);let a=i.data;return G.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function fT(n){return!!(n&&n.__CANCEL__)}function Ta(n,e,t){je.call(this,n??"canceled",je.ERR_CANCELED,e,t),this.name="CanceledError"}G.inherits(Ta,je,{__CANCEL__:!0});function pT(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new je("Request failed with status code "+t.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function gO(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function yO(n,e){n=n||10;const t=new Array(n),i=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),_=i[a];u||(u=y),t[o]=p,i[o]=y;let E=a,R=0;for(;E!==o;)R+=t[E++],E=E%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),y-u<e)return;const F=_&&y-_;return F?Math.round(R*1e3/F):void 0}}function vO(n,e){let t=0,i=1e3/e,o,a;const u=(y,_=Date.now())=>{t=_,o=null,a&&(clearTimeout(a),a=null),n.apply(null,y)};return[(...y)=>{const _=Date.now(),E=_-t;E>=i?u(y,_):(o=y,a||(a=setTimeout(()=>{a=null,u(o)},i-E)))},()=>o&&u(o)]}const mh=(n,e,t=3)=>{let i=0;const o=yO(50,250);return vO(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,p=u-i,y=o(p),_=u<=d;i=u;const E={loaded:u,total:d,progress:d?u/d:void 0,bytes:p,rate:y||void 0,estimated:y&&d&&_?(d-u)/y:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(E)},t)},F_=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},U_=n=>(...e)=>G.asap(()=>n(...e)),_O=ln.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ln.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ln.origin),ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent)):()=>!0,EO=ln.hasStandardBrowserEnv?{write(n,e,t,i,o,a){const u=[n+"="+encodeURIComponent(e)];G.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),G.isString(i)&&u.push("path="+i),G.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wO(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function TO(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function mT(n,e){return n&&!wO(e)?TO(n,e):e}const j_=n=>n instanceof Rn?{...n}:n;function Ks(n,e){e=e||{};const t={};function i(y,_,E,R){return G.isPlainObject(y)&&G.isPlainObject(_)?G.merge.call({caseless:R},y,_):G.isPlainObject(_)?G.merge({},_):G.isArray(_)?_.slice():_}function o(y,_,E,R){if(G.isUndefined(_)){if(!G.isUndefined(y))return i(void 0,y,E,R)}else return i(y,_,E,R)}function a(y,_){if(!G.isUndefined(_))return i(void 0,_)}function u(y,_){if(G.isUndefined(_)){if(!G.isUndefined(y))return i(void 0,y)}else return i(void 0,_)}function d(y,_,E){if(E in e)return i(y,_);if(E in n)return i(void 0,y)}const p={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(y,_,E)=>o(j_(y),j_(_),E,!0)};return G.forEach(Object.keys(Object.assign({},n,e)),function(_){const E=p[_]||o,R=E(n[_],e[_],_);G.isUndefined(R)&&E!==d||(t[_]=R)}),t}const gT=n=>{const e=Ks({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;e.headers=u=Rn.from(u),e.url=cT(mT(e.baseURL,e.url),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(G.isFormData(t)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[y,..._]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];u.setContentType([y||"multipart/form-data",..._].join("; "))}}if(ln.hasStandardBrowserEnv&&(i&&G.isFunction(i)&&(i=i(e)),i||i!==!1&&_O(e.url))){const y=o&&a&&EO.read(a);y&&u.set(o,y)}return e},SO=typeof XMLHttpRequest<"u",IO=SO&&function(n){return new Promise(function(t,i){const o=gT(n);let a=o.data;const u=Rn.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:y}=o,_,E,R,F,V;function U(){F&&F(),V&&V(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function Z(){if(!k)return;const Y=Rn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),fe={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:Y,config:n,request:k};pT(function(N){t(N),U()},function(N){i(N),U()},fe),k=null}"onloadend"in k?k.onloadend=Z:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(Z)},k.onabort=function(){k&&(i(new je("Request aborted",je.ECONNABORTED,n,k)),k=null)},k.onerror=function(){i(new je("Network Error",je.ERR_NETWORK,n,k)),k=null},k.ontimeout=function(){let ae=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const fe=o.transitional||hT;o.timeoutErrorMessage&&(ae=o.timeoutErrorMessage),i(new je(ae,fe.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,n,k)),k=null},a===void 0&&u.setContentType(null),"setRequestHeader"in k&&G.forEach(u.toJSON(),function(ae,fe){k.setRequestHeader(fe,ae)}),G.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),d&&d!=="json"&&(k.responseType=o.responseType),y&&([R,V]=mh(y,!0),k.addEventListener("progress",R)),p&&k.upload&&([E,F]=mh(p),k.upload.addEventListener("progress",E),k.upload.addEventListener("loadend",F)),(o.cancelToken||o.signal)&&(_=Y=>{k&&(i(!Y||Y.type?new Ta(null,n,k):Y),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const Q=gO(o.url);if(Q&&ln.protocols.indexOf(Q)===-1){i(new je("Unsupported protocol "+Q+":",je.ERR_BAD_REQUEST,n));return}k.send(a||null)})},RO=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,o;const a=function(y){if(!o){o=!0,d();const _=y instanceof Error?y:this.reason;i.abort(_ instanceof je?_:new Ta(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,a(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(a):y.removeEventListener("abort",a)}),n=null)};n.forEach(y=>y.addEventListener("abort",a));const{signal:p}=i;return p.unsubscribe=()=>G.asap(d),p}},AO=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,o;for(;i<t;)o=i+e,yield n.slice(i,o),i=o},CO=async function*(n,e){for await(const t of PO(n))yield*AO(t,e)},PO=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},B_=(n,e,t,i)=>{const o=CO(n,e);let a=0,u,d=p=>{u||(u=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:y,value:_}=await o.next();if(y){d(),p.close();return}let E=_.byteLength;if(t){let R=a+=E;t(R)}p.enqueue(new Uint8Array(_))}catch(y){throw d(y),y}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},Kh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yT=Kh&&typeof ReadableStream=="function",kO=Kh&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),vT=(n,...e)=>{try{return!!n(...e)}catch{return!1}},xO=yT&&vT(()=>{let n=!1;const e=new Request(ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),z_=64*1024,Cp=yT&&vT(()=>G.isReadableStream(new Response("").body)),gh={stream:Cp&&(n=>n.body)};Kh&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!gh[e]&&(gh[e]=G.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new je(`Response type '${e}' is not supported`,je.ERR_NOT_SUPPORT,i)})})})(new Response);const NO=async n=>{if(n==null)return 0;if(G.isBlob(n))return n.size;if(G.isSpecCompliantForm(n))return(await new Request(ln.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(G.isArrayBufferView(n)||G.isArrayBuffer(n))return n.byteLength;if(G.isURLSearchParams(n)&&(n=n+""),G.isString(n))return(await kO(n)).byteLength},bO=async(n,e)=>{const t=G.toFiniteNumber(n.getContentLength());return t??NO(e)},OO=Kh&&(async n=>{let{url:e,method:t,data:i,signal:o,cancelToken:a,timeout:u,onDownloadProgress:d,onUploadProgress:p,responseType:y,headers:_,withCredentials:E="same-origin",fetchOptions:R}=gT(n);y=y?(y+"").toLowerCase():"text";let F=RO([o,a&&a.toAbortSignal()],u),V;const U=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let k;try{if(p&&xO&&t!=="get"&&t!=="head"&&(k=await bO(_,i))!==0){let fe=new Request(e,{method:"POST",body:i,duplex:"half"}),ve;if(G.isFormData(i)&&(ve=fe.headers.get("content-type"))&&_.setContentType(ve),fe.body){const[N,S]=F_(k,mh(U_(p)));i=B_(fe.body,z_,N,S)}}G.isString(E)||(E=E?"include":"omit");const Z="credentials"in Request.prototype;V=new Request(e,{...R,signal:F,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:i,duplex:"half",credentials:Z?E:void 0});let Q=await fetch(V);const Y=Cp&&(y==="stream"||y==="response");if(Cp&&(d||Y&&U)){const fe={};["status","statusText","headers"].forEach(C=>{fe[C]=Q[C]});const ve=G.toFiniteNumber(Q.headers.get("content-length")),[N,S]=d&&F_(ve,mh(U_(d),!0))||[];Q=new Response(B_(Q.body,z_,N,()=>{S&&S(),U&&U()}),fe)}y=y||"text";let ae=await gh[G.findKey(gh,y)||"text"](Q,n);return!Y&&U&&U(),await new Promise((fe,ve)=>{pT(fe,ve,{data:ae,headers:Rn.from(Q.headers),status:Q.status,statusText:Q.statusText,config:n,request:V})})}catch(Z){throw U&&U(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,n,V),{cause:Z.cause||Z}):je.from(Z,Z&&Z.code,n,V)}}),Pp={http:Gb,xhr:IO,fetch:OO};G.forEach(Pp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const q_=n=>`- ${n}`,DO=n=>G.isFunction(n)||n===null||n===!1,_T={getAdapter:n=>{n=G.isArray(n)?n:[n];const{length:e}=n;let t,i;const o={};for(let a=0;a<e;a++){t=n[a];let u;if(i=t,!DO(t)&&(i=Pp[(u=String(t)).toLowerCase()],i===void 0))throw new je(`Unknown adapter '${u}'`);if(i)break;o[u||"#"+a]=i}if(!i){const a=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=e?a.length>1?`since :
`+a.map(q_).join(`
`):" "+q_(a[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Pp};function Gf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ta(null,n)}function $_(n){return Gf(n),n.headers=Rn.from(n.headers),n.data=Kf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),_T.getAdapter(n.adapter||tu.adapter)(n).then(function(i){return Gf(n),i.data=Kf.call(n,n.transformResponse,i),i.headers=Rn.from(i.headers),i},function(i){return fT(i)||(Gf(n),i&&i.response&&(i.response.data=Kf.call(n,n.transformResponse,i.response),i.response.headers=Rn.from(i.response.headers))),Promise.reject(i)})}const ET="1.7.8",Gh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Gh[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const W_={};Gh.transitional=function(e,t,i){function o(a,u){return"[Axios v"+ET+"] Transitional option '"+a+"'"+u+(i?". "+i:"")}return(a,u,d)=>{if(e===!1)throw new je(o(u," has been removed"+(t?" in "+t:"")),je.ERR_DEPRECATED);return t&&!W_[u]&&(W_[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,d):!0}};Gh.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function LO(n,e,t){if(typeof n!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let o=i.length;for(;o-- >0;){const a=i[o],u=e[a];if(u){const d=n[a],p=d===void 0||u(d,a,n);if(p!==!0)throw new je("option "+a+" must be "+p,je.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new je("Unknown option "+a,je.ERR_BAD_OPTION)}}const Bc={assertOptions:LO,validators:Gh},Nr=Bc.validators;class zs{constructor(e){this.defaults=e,this.interceptors={request:new V_,response:new V_}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ks(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:a}=t;i!==void 0&&Bc.assertOptions(i,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),o!=null&&(G.isFunction(o)?t.paramsSerializer={serialize:o}:Bc.assertOptions(o,{encode:Nr.function,serialize:Nr.function},!0)),Bc.assertOptions(t,{baseUrl:Nr.spelling("baseURL"),withXsrfToken:Nr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&G.merge(a.common,a[t.method]);a&&G.forEach(["delete","get","head","post","put","patch","common"],V=>{delete a[V]}),t.headers=Rn.concat(u,a);const d=[];let p=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(t)===!1||(p=p&&U.synchronous,d.unshift(U.fulfilled,U.rejected))});const y=[];this.interceptors.response.forEach(function(U){y.push(U.fulfilled,U.rejected)});let _,E=0,R;if(!p){const V=[$_.bind(this),void 0];for(V.unshift.apply(V,d),V.push.apply(V,y),R=V.length,_=Promise.resolve(t);E<R;)_=_.then(V[E++],V[E++]);return _}R=d.length;let F=t;for(E=0;E<R;){const V=d[E++],U=d[E++];try{F=V(F)}catch(k){U.call(this,k);break}}try{_=$_.call(this,F)}catch(V){return Promise.reject(V)}for(E=0,R=y.length;E<R;)_=_.then(y[E++],y[E++]);return _}getUri(e){e=Ks(this.defaults,e);const t=mT(e.baseURL,e.url);return cT(t,e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(e){zs.prototype[e]=function(t,i){return this.request(Ks(i||{},{method:e,url:t,data:(i||{}).data}))}});G.forEach(["post","put","patch"],function(e){function t(i){return function(a,u,d){return this.request(Ks(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}zs.prototype[e]=t(),zs.prototype[e+"Form"]=t(!0)});class Sm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{i.subscribe(d),a=d}).then(o);return u.cancel=function(){i.unsubscribe(a)},u},e(function(a,u,d){i.reason||(i.reason=new Ta(a,u,d),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Sm(function(o){e=o}),cancel:e}}}function VO(n){return function(t){return n.apply(null,t)}}function MO(n){return G.isObject(n)&&n.isAxiosError===!0}const kp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kp).forEach(([n,e])=>{kp[e]=n});function wT(n){const e=new zs(n),t=Yw(zs.prototype.request,e);return G.extend(t,zs.prototype,e,{allOwnKeys:!0}),G.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return wT(Ks(n,o))},t}const xt=wT(tu);xt.Axios=zs;xt.CanceledError=Ta;xt.CancelToken=Sm;xt.isCancel=fT;xt.VERSION=ET;xt.toFormData=Hh;xt.AxiosError=je;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=VO;xt.isAxiosError=MO;xt.mergeConfig=Ks;xt.AxiosHeaders=Rn;xt.formToJSON=n=>dT(G.isHTMLForm(n)?new FormData(n):n);xt.getAdapter=_T.getAdapter;xt.HttpStatusCode=kp;xt.default=xt;const TT=()=>{const n=lb(),e=rb(),t=async i=>{i.preventDefault();const{error:o,paymentMethod:a}=await n.createPaymentMethod({type:"card",card:e.getElement(N_)});if(o)console.log(o.message);else{console.log("token Generer: ",a);try{const{id:u}=a;(await xt.post("http://localhost:5173/stripe/charge",{amount:1e3,id:u})).data.sucess&&console.log(" payement russit")}catch(u){console.log(" Erreur ! ",u)}}};return z.jsxs("form",{onSubmit:t,className:"max-w-lg mx-auto space-y-4 mt-3",children:[z.jsx("h3",{className:"text:md font-black uppercase bg-orange-900 bg-opacity-20 text-orange-500 p-3 rounded:md inline",children:" pour regler vos licenses et participations  "}),z.jsx(N_,{className:"py-8",options:{hidePostalCode:!0}}),z.jsx("button",{className:"bg-[blue] text-[white] mb-4",children:"Payer"})]})},FO="pk_test_51QRcem063jOPARhnxDcKoBnaRDiuZmhVj4PgO3Udx05VcJogEn5auVzxOZwC7DZ3zwVw3du08B2AkKthq8R3AVG500yJH8FFFn",UO=zN(FO);function jO(){return z.jsx("div",{children:z.jsx(Jw,{stripe:UO,children:z.jsx(TT,{})})})}class nu{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const BO=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Xt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:BO()},Im=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},zO=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=Im(n);Xt.publicKey=t.publicKey,Xt.blockHeadless=t.blockHeadless,Xt.storageProvider=t.storageProvider,Xt.blockList=t.blockList,Xt.limitRate=t.limitRate,Xt.origin=t.origin||e},ST=async(n,e,t={})=>{const i=await fetch(Xt.origin+n,{method:"POST",headers:t,body:e}),o=await i.text(),a=new nu(i.status,o);if(i.ok)return a;throw a},IT=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},qO=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},RT=n=>n.webdriver||!n.languages||n.languages.length===0,AT=()=>new nu(451,"Unavailable For Headless Browser"),$O=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},WO=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},HO=(n,e)=>n instanceof FormData?n.get(e):n[e],CT=(n,e)=>{if(WO(n))return!1;$O(n.list,n.watchVariable);const t=HO(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},PT=()=>new nu(403,"Forbidden"),KO=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},GO=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},kT=async(n,e,t)=>{if(!e.throttle||!t)return!1;KO(e.throttle,e.id);const i=e.id||n;return await GO(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},xT=()=>new nu(429,"Too Many Requests"),QO=async(n,e,t,i)=>{const o=Im(i),a=o.publicKey||Xt.publicKey,u=o.blockHeadless||Xt.blockHeadless,d=o.storageProvider||Xt.storageProvider,p={...Xt.blockList,...o.blockList},y={...Xt.limitRate,...o.limitRate};return u&&RT(navigator)?Promise.reject(AT()):(IT(a,n,e),qO(t),t&&CT(p,t)?Promise.reject(PT()):await kT(location.pathname,y,d)?Promise.reject(xT()):ST("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},JO=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},XO=n=>typeof n=="string"?document.querySelector(n):n,YO=async(n,e,t,i)=>{const o=Im(i),a=o.publicKey||Xt.publicKey,u=o.blockHeadless||Xt.blockHeadless,d=Xt.storageProvider||o.storageProvider,p={...Xt.blockList,...o.blockList},y={...Xt.limitRate,...o.limitRate};if(u&&RT(navigator))return Promise.reject(AT());const _=XO(t);IT(a,n,e),JO(_);const E=new FormData(_);return CT(p,E)?Promise.reject(PT()):await kT(location.pathname,y,d)?Promise.reject(xT()):(E.append("lib_version","4.4.1"),E.append("service_id",n),E.append("template_id",e),E.append("user_id",a),ST("/api/v1.0/email/send-form",E))},ZO={init:zO,send:QO,sendForm:YO,EmailJSResponseStatus:nu};function eD(){const{register:n,handleSubmit:e,formState:{errors:t}}=Fw(),i=o=>{ZO.send("service_ttgpdkj","template_qgs6rln",{nom:o.nom,email:o.email,message:o.message},"F21y1n43wEAgByBPi")};return z.jsxs("main",{children:[z.jsx("h3",{className:"font-extrabold mb-4 text-3xl text-center mt-12",children:"Formulaire de contact "}),z.jsxs("form",{onSubmit:e(i),className:" w-full h-screen flex items-center justify-center flex-col gap-2",children:[z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{className:"block text-2xl",htmlFor:"nom",children:" votre nom : "}),z.jsx("input",{...n("nom",{required:!0}),className:"border",type:"text",placeholder:"votre nom ",name:"nom",id:"nom"}),t.nom&&z.jsx("p",{className:"text-[red]",children:" nom requis"})]}),z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{className:"block text-2xl",htmlFor:"email",children:" votre email : "}),z.jsx("input",{...n("email",{required:!0}),className:"border",type:"email",placeholder:"votre email  ",name:"email",id:"email"}),t.email&&z.jsx("p",{className:"text-[red]",children:" Email requis"})]}),z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{className:"block text-2xl",htmlFor:"message",children:" votre message : "}),z.jsx("textarea",{...n("message",{required:!0}),rows:5,className:"border resize-none",placeholder:"votre message  ",name:"message",id:"message"}),t.message&&z.jsx("p",{className:"text-[red]",children:" Message requis"})]}),z.jsx("input",{type:"submit",className:"block bg-[black] text-white py-3 px-3 hover:bg-[yellow]"})]})]})}function tD(){return z.jsxs(z.Fragment,{children:[z.jsx(GI,{}),z.jsxs(NI,{children:[z.jsx(pr,{path:"/",element:z.jsx(KI,{})}),z.jsx(pr,{path:"/register",element:z.jsx(Zx,{})}),z.jsx(pr,{path:"/login",element:z.jsx(eN,{})}),z.jsx(pr,{path:"/profile",element:z.jsx(TN,{})}),z.jsx(pr,{path:"/membres",element:z.jsx(bN,{})}),z.jsx(pr,{path:"/presentation",element:z.jsx(ON,{})}),z.jsx(pr,{path:"/horaires",element:z.jsx(DN,{})}),z.jsx(pr,{path:"/payer",element:z.jsx(jO,{})}),z.jsx(pr,{path:"/payement",element:z.jsx(TT,{})}),z.jsx(pr,{path:"/formulaire",element:z.jsx(eD,{})})]}),z.jsx(QI,{})]})}zS.createRoot(document.getElementById("root")).render(z.jsx(de.StrictMode,{children:z.jsx(UI,{children:z.jsx(tD,{})})}));
